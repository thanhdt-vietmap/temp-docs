
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://maps.vietmap.vn/docs/sdk-mobile/sdk-android/sdk-android-ver2.0/">
      
      
      
      
      <link rel="icon" href="../../../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.13">
    
    
      
        <title>SDK Android - MAPS API DOCS</title>
      
    
    
  
      <link rel="stylesheet" href="../../../assets/stylesheets/main.7e359304.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
  <link rel="stylesheet" href="../../../assets/stylesheets/custom.3e8bd608.min.css">
  

    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito+Sans:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Nunito Sans";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#sdk-android" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="MAPS API DOCS" class="md-header__button md-logo" aria-label="MAPS API DOCS" data-md-component="logo">
      
  <img src="../../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MAPS API DOCS
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              SDK Android
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../map-api/overview/" class="md-tabs__link">
          
  
    
  
  MAPS API

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../sdk-web-gl/overview/" class="md-tabs__link">
          
  
    
  
  SDK WEB GL

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../overview/" class="md-tabs__link">
          
  
    
  
  SDK MOBILE

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="MAPS API DOCS" class="md-nav__button md-logo" aria-label="MAPS API DOCS" data-md-component="logo">
      
  <img src="../../../assets/logo.png" alt="logo">

    </a>
    MAPS API DOCS
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../map-api/overview/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    MAPS API
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../sdk-web-gl/overview/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    SDK WEB GL
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../overview/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    SDK MOBILE
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#map" class="md-nav__link">
    <span class="md-ellipsis">
      Map
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Map">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gradle-and-androidmanifest-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Gradle and AndroidManifest configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-an-activity-to-show-map" class="md-nav__link">
    <span class="md-ellipsis">
      Create an activity to show map
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#onmapready" class="md-nav__link">
    <span class="md-ellipsis">
      onMapReady
    </span>
  </a>
  
    <nav class="md-nav" aria-label="onMapReady">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#show-the-user-current-location" class="md-nav__link">
    <span class="md-ellipsis">
      Show the user current location.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-polyline" class="md-nav__link">
    <span class="md-ellipsis">
      Add polyline
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-polygon" class="md-nav__link">
    <span class="md-ellipsis">
      Add polygon
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-marker" class="md-nav__link">
    <span class="md-ellipsis">
      Add marker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#move-map-camera-to-a-specific-location" class="md-nav__link">
    <span class="md-ellipsis">
      Move map camera to a specific location
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-some-necessary-function" class="md-nav__link">
    <span class="md-ellipsis">
      Add some necessary function
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#location-permission" class="md-nav__link">
    <span class="md-ellipsis">
      Location permission
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#navigation" class="md-nav__link">
    <span class="md-ellipsis">
      Navigation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Navigation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gradle-and-androidmanifest-configure" class="md-nav__link">
    <span class="md-ellipsis">
      Gradle and AndroidManifest configure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-configuration-values-for-project" class="md-nav__link">
    <span class="md-ellipsis">
      Add configuration values for project
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-navigation-activity" class="md-nav__link">
    <span class="md-ellipsis">
      Create a navigation activity
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Create a navigation activity">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#in-onmapready-callback-function" class="md-nav__link">
    <span class="md-ellipsis">
      In onMapReady callback function
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-layout-xml-named-vietmap_navigation_expand" class="md-nav__link">
    <span class="md-ellipsis">
      Create layout xml named vietmap_navigation_expand
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expandcollapse" class="md-nav__link">
    <span class="md-ellipsis">
      expandCollapse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stopnavigationfunction" class="md-nav__link">
    <span class="md-ellipsis">
      stopNavigationFunction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#oncancelnavigation" class="md-nav__link">
    <span class="md-ellipsis">
      onCancelNavigation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#onrunning-and-onnavigationready" class="md-nav__link">
    <span class="md-ellipsis">
      onRunning and onNavigationReady
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#onnewprimaryrouteselected" class="md-nav__link">
    <span class="md-ellipsis">
      onNewPrimaryRouteSelected
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customnavigationnotification" class="md-nav__link">
    <span class="md-ellipsis">
      CustomNavigationNotification
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fetch-route-find-a-route-between-two-coordinates" class="md-nav__link">
    <span class="md-ellipsis">
      Fetch route (Find a route between two coordinates)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#start-navigation" class="md-nav__link">
    <span class="md-ellipsis">
      Start navigation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Start navigation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#progresschangelistener" class="md-nav__link">
    <span class="md-ellipsis">
      progressChangeListener
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#initnavigationoptions" class="md-nav__link">
    <span class="md-ellipsis">
      initNavigationOptions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#useroffroute" class="md-nav__link">
    <span class="md-ellipsis">
      userOffRoute
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#onprogresschange" class="md-nav__link">
    <span class="md-ellipsis">
      onProgressChange
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#onarrival" class="md-nav__link">
    <span class="md-ellipsis">
      onArrival
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-navigation-ui" class="md-nav__link">
    <span class="md-ellipsis">
      Custom navigation UI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handling-events-button" class="md-nav__link">
    <span class="md-ellipsis">
      Handling events button
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Handling events button">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recenter-function" class="md-nav__link">
    <span class="md-ellipsis">
      recenter Function
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#routeoverview-function" class="md-nav__link">
    <span class="md-ellipsis">
      routeOverView Function
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stopnavigation" class="md-nav__link">
    <span class="md-ellipsis">
      stopNavigation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#initializeviews" class="md-nav__link">
    <span class="md-ellipsis">
      initializeViews
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#launchnavigation" class="md-nav__link">
    <span class="md-ellipsis">
      launchNavigation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stopnavigation_1" class="md-nav__link">
    <span class="md-ellipsis">
      stopNavigation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-apikey-and-styleurl" class="md-nav__link">
    <span class="md-ellipsis">
      Add apikey and styleUrl
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="sdk-android">SDK Android<a class="headerlink" href="#sdk-android" title="Permanent link">&para;</a></h1>
<h2 id="map">Map<a class="headerlink" href="#map" title="Permanent link">&para;</a></h2>
<h3 id="gradle-and-androidmanifest-configuration">Gradle and AndroidManifest configuration<a class="headerlink" href="#gradle-and-androidmanifest-configuration" title="Permanent link">&para;</a></h3>
<p>Add dependencies below to build.gradle module app
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>    <span class="n">implementation</span> <span class="err">&#39;</span><span class="n">com</span><span class="p">.</span><span class="n">github</span><span class="p">.</span><span class="n">vietmap</span><span class="o">-</span><span class="n">company</span><span class="p">:</span><span class="n">maps</span><span class="o">-</span><span class="n">sdk</span><span class="o">-</span><span class="n">android</span><span class="p">:</span><span class="mf">2.0</span><span class="p">.</span><span class="mi">0</span><span class="err">&#39;</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n">implementation</span> <span class="err">&#39;</span><span class="n">com</span><span class="p">.</span><span class="n">github</span><span class="p">.</span><span class="n">vietmap</span><span class="o">-</span><span class="n">company</span><span class="p">:</span><span class="n">vietmap</span><span class="o">-</span><span class="n">services</span><span class="o">-</span><span class="n">turf</span><span class="o">-</span><span class="n">android</span><span class="p">:</span><span class="mf">1.0</span><span class="p">.</span><span class="mi">2</span><span class="err">&#39;</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n">implementation</span> <span class="err">&#39;</span><span class="n">com</span><span class="p">.</span><span class="n">squareup</span><span class="p">.</span><span class="n">picasso</span><span class="p">:</span><span class="n">picasso</span><span class="p">:</span><span class="mf">2.8</span><span class="err">&#39;</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n">implementation</span> <span class="err">&#39;</span><span class="n">com</span><span class="p">.</span><span class="n">github</span><span class="p">.</span><span class="n">vietmap</span><span class="o">-</span><span class="n">company</span><span class="p">:</span><span class="n">vietmap</span><span class="o">-</span><span class="n">services</span><span class="o">-</span><span class="n">geojson</span><span class="o">-</span><span class="n">android</span><span class="p">:</span><span class="mf">1.0</span><span class="p">.</span><span class="mi">0</span><span class="err">&#39;</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n">implementation</span> <span class="n">group</span><span class="p">:</span> <span class="err">&#39;</span><span class="n">com</span><span class="p">.</span><span class="n">squareup</span><span class="p">.</span><span class="n">okhttp3</span><span class="err">&#39;</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="err">&#39;</span><span class="n">okhttp</span><span class="err">&#39;</span><span class="p">,</span> <span class="n">version</span><span class="p">:</span> <span class="err">&#39;</span><span class="mf">3.2</span><span class="p">.</span><span class="mi">0</span><span class="err">&#39;</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n">implementation</span> <span class="err">&#39;</span><span class="n">com</span><span class="p">.</span><span class="n">squareup</span><span class="p">.</span><span class="n">retrofit2</span><span class="p">:</span><span class="n">retrofit</span><span class="p">:</span><span class="mf">2.9</span><span class="p">.</span><span class="mi">0</span><span class="err">&#39;</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="n">implementation</span> <span class="err">&#39;</span><span class="n">com</span><span class="p">.</span><span class="n">google</span><span class="p">.</span><span class="n">code</span><span class="p">.</span><span class="n">gson</span><span class="p">:</span><span class="n">gson</span><span class="p">:</span><span class="mf">2.10</span><span class="p">.</span><span class="mi">1</span><span class="err">&#39;</span>
</code></pre></div>
Configure the <code>jitpack repository</code> in the <strong>setting.gradle</strong> file
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="n">dependencyResolutionManagement</span> <span class="p">{</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>    <span class="n">repositoriesMode</span><span class="p">.</span><span class="kr">set</span><span class="p">(</span><span class="n">RepositoriesMode</span><span class="p">.</span><span class="n">FAIL_ON_PROJECT_REPOS</span><span class="p">)</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>    <span class="n">repositories</span> <span class="p">{</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>        <span class="n">google</span><span class="p">()</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>        <span class="n">mavenCentral</span><span class="p">()</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>        <span class="c1">// Add two lines below to the repositories block (In setting.gradle file)</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>        <span class="n">maven</span> <span class="p">{</span> <span class="n">url</span> <span class="err">&#39;</span><span class="n">https</span><span class="p">:</span><span class="c1">//plugins.gradle.org/m2&#39; }</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>        <span class="n">maven</span> <span class="p">{</span> <span class="n">url</span> <span class="err">&#39;</span><span class="n">https</span><span class="p">:</span><span class="c1">//jitpack.io&#39; }</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>    <span class="p">}</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="p">}</span>
</code></pre></div>
With older projects, add to the <strong>build.gradle</strong> file at module project
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="n">allprojects</span> <span class="p">{</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>    <span class="n">repositories</span> <span class="p">{</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>        <span class="n">google</span><span class="p">()</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>        <span class="n">maven</span> <span class="p">{</span> <span class="n">url</span> <span class="s">&quot;https://jitpack.io&quot;</span> <span class="p">}</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>    <span class="p">}</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="p">}</span>
</code></pre></div>
Upgrade the <strong>compileSdk</strong> and <strong>targetSdk</strong> to <strong>version 33</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">compileSdk</span> <span class="mi">33</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="n">targetSdk</span> <span class="mi">33</span>
</code></pre></div>
Add the below permission request to the <strong>AndroidManifest.xml</strong> file
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;
</code></pre></div></p>
<h3 id="create-an-activity-to-show-map">Create an activity to show map<a class="headerlink" href="#create-an-activity-to-show-map" title="Permanent link">&para;</a></h3>
<p>Create an new <strong>activity</strong> with name <strong>MapViewExampleActivity</strong></p>
<p>In the <strong>xml</strong> file of created activity, add the code below
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="o">&lt;?</span><span class="n">xml</span> <span class="n">version</span><span class="p">=</span><span class="s">&quot;1.0&quot;</span> <span class="n">encoding</span><span class="p">=</span><span class="s">&quot;utf-8&quot;</span><span class="p">?</span><span class="o">&gt;</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="p">&lt;</span><span class="n">androidx</span><span class="p">.</span><span class="n">constraintlayout</span><span class="p">.</span><span class="n">widget</span><span class="p">.</span><span class="n">ConstraintLayout</span> <span class="n">xmlns</span><span class="p">:</span><span class="n">android</span><span class="p">=</span><span class="s">&quot;http://schemas.android.com/apk/res/android&quot;</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>    <span class="n">xmlns</span><span class="p">:</span><span class="n">app</span><span class="p">=</span><span class="s">&quot;http://schemas.android.com/apk/res-auto&quot;</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>    <span class="n">xmlns</span><span class="p">:</span><span class="n">tools</span><span class="p">=</span><span class="s">&quot;http://schemas.android.com/tools&quot;</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>    <span class="n">android</span><span class="p">:</span><span class="n">layout_width</span><span class="p">=</span><span class="s">&quot;match_parent&quot;</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>    <span class="n">android</span><span class="p">:</span><span class="n">layout_height</span><span class="p">=</span><span class="s">&quot;match_parent&quot;</span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>    <span class="n">tools</span><span class="p">:</span><span class="n">context</span><span class="p">=</span><span class="s">&quot;.MapViewExampleActivity&quot;</span><span class="o">&gt;</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>    <span class="p">&lt;</span><span class="n">vn</span><span class="p">.</span><span class="n">vietmap</span><span class="p">.</span><span class="n">vietmapsdk</span><span class="p">.</span><span class="n">maps</span><span class="p">.</span><span class="n">MapView</span>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>        <span class="n">android</span><span class="p">:</span><span class="n">id</span><span class="p">=</span><span class="s">&quot;@+id/mapView&quot;</span>
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>        <span class="n">android</span><span class="p">:</span><span class="n">layout_width</span><span class="p">=</span><span class="s">&quot;match_parent&quot;</span>
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a>        <span class="n">android</span><span class="p">:</span><span class="n">layout_height</span><span class="p">=</span><span class="s">&quot;0dp&quot;</span>
<a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a>        <span class="n">app</span><span class="p">:</span><span class="n">vietmap_cameraZoom</span><span class="p">=</span><span class="s">&quot;1&quot;</span>
<a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a>        <span class="n">android</span><span class="p">:</span><span class="n">visibility</span><span class="p">=</span><span class="s">&quot;visible&quot;</span>
<a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a>        <span class="n">app</span><span class="p">:</span><span class="n">layout_constraintTop_toTopOf</span><span class="p">=</span><span class="s">&quot;parent&quot;</span>
<a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a>        <span class="n">app</span><span class="p">:</span><span class="n">layout_constraintBottom_toBottomOf</span><span class="p">=</span><span class="s">&quot;parent&quot;</span>
<a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a>        <span class="n">app</span><span class="p">:</span><span class="n">layout_constraintHeight_percent</span><span class="p">=</span><span class="s">&quot;1&quot;</span><span class="o">/&gt;</span>
<a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a>
<a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a><span class="o">&lt;/</span><span class="n">androidx</span><span class="p">.</span><span class="n">constraintlayout</span><span class="p">.</span><span class="n">widget</span><span class="p">.</span><span class="n">ConstraintLayout</span><span class="p">&gt;</span>
</code></pre></div>
Activity needs to implement some of the following <strong>Listener</strong> classes to catch user events and process them.
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MapViewExampleActivity</span> <span class="n">extends</span> <span class="n">AppCompatActivity</span> 
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="n">implements</span> <span class="n">OnMapReadyCallback</span><span class="p">,</span> <span class="n">VietMapGL</span><span class="p">.</span><span class="n">OnMapClickListener</span><span class="p">,</span> 
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="n">VietMapGL</span><span class="p">.</span><span class="n">OnMapLongClickListener</span> <span class="p">{</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="p">}</span>
</code></pre></div></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>* OnMapReadyCallback: Listen when map initial successfully and return a map style
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>* VietMapGL.OnMapClickListener, VietMapGL.OnMapLongClickListener, VietMapGL.OnMoveListener: Listen map events
</code></pre></div>
<p>Define necessary variables
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>    <span class="kd">private</span> <span class="n">MapView</span> <span class="n">mapView</span><span class="p">;</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>    <span class="kd">private</span> <span class="n">VietMapGL</span> <span class="n">vietmapGL</span><span class="p">;</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>    <span class="n">List</span><span class="p">&lt;</span><span class="n">Point</span><span class="p">&gt;</span> <span class="n">polylineCoordinates</span> <span class="p">=</span> <span class="n">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>    <span class="n">List</span><span class="p">&lt;</span><span class="n">Point</span><span class="p">&gt;</span> <span class="n">polygonCoordinates</span> <span class="p">=</span> <span class="n">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>    <span class="kd">private</span> <span class="n">LocationComponent</span> <span class="n">locationComponent</span><span class="p">;</span>
</code></pre></div>
At <strong>onCreate</strong> function, add some necessary code to init the map view
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>    <span class="p">@</span><span class="n">Override</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>    <span class="n">protected</span> <span class="n">void</span> <span class="n">onCreate</span><span class="p">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>        <span class="n">Vietmap</span><span class="p">.</span><span class="n">getInstance</span><span class="p">(</span><span class="n">this</span><span class="p">);</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>        <span class="kc">super</span><span class="p">.</span><span class="n">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>        <span class="n">setContentView</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="n">layout</span><span class="p">.</span><span class="n">activity_map_view_example</span><span class="p">);</span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>        <span class="n">mapView</span> <span class="p">=</span> <span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="n">id</span><span class="p">.</span><span class="n">mapView</span><span class="p">);</span>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a>        <span class="n">mapView</span><span class="p">.</span><span class="n">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a>        <span class="n">mapView</span><span class="p">.</span><span class="n">getMapAsync</span><span class="p">(</span><span class="n">this</span><span class="p">);</span>
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a>        <span class="n">Toast</span><span class="p">.</span><span class="n">makeText</span><span class="p">(</span><span class="n">MapViewExampleActivity</span><span class="p">.</span><span class="n">this</span><span class="p">,</span> <span class="s">&quot;Long click on map to place a marker&quot;</span><span class="p">,</span> <span class="n">Toast</span><span class="p">.</span><span class="n">LENGTH_LONG</span><span class="p">).</span><span class="n">show</span><span class="p">();</span>
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a>    <span class="p">}</span>
</code></pre></div></p>
<h3 id="onmapready">onMapReady<a class="headerlink" href="#onmapready" title="Permanent link">&para;</a></h3>
<p>Add listener function and handle them when SDK receives user actions callback
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>    <span class="p">@</span><span class="n">Override</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>    <span class="kd">public</span> <span class="n">void</span> <span class="n">onMapReady</span><span class="p">(@</span><span class="n">NonNull</span> <span class="n">VietMapGL</span> <span class="n">vietmapGL</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>        <span class="n">this</span><span class="p">.</span><span class="n">vietmapGL</span> <span class="p">=</span> <span class="n">vietmapGL</span><span class="p">;</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>        <span class="n">vietmapGL</span><span class="p">.</span><span class="n">setStyle</span><span class="p">(</span><span class="n">new</span> <span class="n">Style</span><span class="p">.</span><span class="n">Builder</span><span class="p">().</span><span class="n">fromUri</span><span class="p">(</span><span class="n">YOUR_MAP_STYLE_GOES_HERE</span><span class="p">),</span> <span class="n">style</span> <span class="p">-&gt;</span> <span class="p">{</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>            <span class="n">enableLocationComponent</span><span class="p">(</span><span class="n">style</span><span class="p">);</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>            <span class="n">addPolygonLayer</span><span class="p">();</span>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>            <span class="n">addPolylineLayer</span><span class="p">();</span>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>            <span class="n">initMarker</span><span class="p">();</span>
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="c1">//            moveMapToLocation(10.753892, 106.672606, 14);</span>
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a>        <span class="p">});</span>
<a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a>        <span class="n">this</span><span class="p">.</span><span class="n">vietmapGL</span><span class="p">.</span><span class="n">setOnPolylineClickListener</span><span class="p">(</span><span class="n">polyline</span> <span class="p">-&gt;</span> <span class="n">Toast</span><span class="p">.</span><span class="n">makeText</span><span class="p">(</span><span class="n">MapViewExampleActivity</span><span class="p">.</span><span class="n">this</span><span class="p">,</span> <span class="s">&quot;You clicked on polyline with id &quot;</span> <span class="o">+</span> <span class="n">polyline</span><span class="p">.</span><span class="n">getId</span><span class="p">(),</span> <span class="n">Toast</span><span class="p">.</span><span class="n">LENGTH_LONG</span><span class="p">).</span><span class="n">show</span><span class="p">());</span>
<a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a>
<a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a>        <span class="n">this</span><span class="p">.</span><span class="n">vietmapGL</span><span class="p">.</span><span class="n">setOnPolygonClickListener</span><span class="p">(</span><span class="n">polygon</span> <span class="p">-&gt;</span> <span class="n">Toast</span><span class="p">.</span><span class="n">makeText</span><span class="p">(</span><span class="n">MapViewExampleActivity</span><span class="p">.</span><span class="n">this</span><span class="p">,</span> <span class="s">&quot;You clicked on polygon with id &quot;</span> <span class="o">+</span> <span class="n">polygon</span><span class="p">.</span><span class="n">getId</span><span class="p">(),</span> <span class="n">Toast</span><span class="p">.</span><span class="n">LENGTH_LONG</span><span class="p">).</span><span class="n">show</span><span class="p">());</span>
<a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a>
<a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a>        <span class="n">this</span><span class="p">.</span><span class="n">vietmapGL</span><span class="p">.</span><span class="n">setOnMarkerClickListener</span><span class="p">(</span><span class="n">marker</span> <span class="p">-&gt;</span> <span class="p">{</span>
<a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a>            <span class="n">Toast</span><span class="p">.</span><span class="n">makeText</span><span class="p">(</span><span class="n">MapViewExampleActivity</span><span class="p">.</span><span class="n">this</span><span class="p">,</span> <span class="s">&quot;You clicked on marker with location &quot;</span> <span class="o">+</span> <span class="n">marker</span><span class="p">.</span><span class="n">getPosition</span><span class="p">().</span><span class="bp">toString</span><span class="p">(),</span> <span class="n">Toast</span><span class="p">.</span><span class="n">LENGTH_LONG</span><span class="p">).</span><span class="n">show</span><span class="p">();</span>
<a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a>            <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
<a id="__codelineno-11-18" name="__codelineno-11-18" href="#__codelineno-11-18"></a>        <span class="p">});</span>
<a id="__codelineno-11-19" name="__codelineno-11-19" href="#__codelineno-11-19"></a>        <span class="n">this</span><span class="p">.</span><span class="n">vietmapGL</span><span class="p">.</span><span class="n">addOnMapClickListener</span><span class="p">(</span><span class="n">this</span><span class="p">);</span>
<a id="__codelineno-11-20" name="__codelineno-11-20" href="#__codelineno-11-20"></a>        <span class="n">this</span><span class="p">.</span><span class="n">vietmapGL</span><span class="p">.</span><span class="n">addOnMapLongClickListener</span><span class="p">(</span><span class="n">this</span><span class="p">);</span>
<a id="__codelineno-11-21" name="__codelineno-11-21" href="#__codelineno-11-21"></a>    <span class="p">}</span>
</code></pre></div></p>
<h4 id="show-the-user-current-location">Show the user current location.<a class="headerlink" href="#show-the-user-current-location" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>    <span class="kd">private</span> <span class="n">void</span> <span class="n">enableLocationComponent</span><span class="p">(</span><span class="n">Style</span> <span class="n">style</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>        <span class="n">locationComponent</span> <span class="p">=</span> <span class="n">vietmapGL</span><span class="p">.</span><span class="n">getLocationComponent</span><span class="p">();</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>        <span class="k">if</span> <span class="p">(</span><span class="n">locationComponent</span> <span class="o">!=</span> <span class="n">null</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>            <span class="n">locationComponent</span><span class="p">.</span><span class="n">activateLocationComponent</span><span class="p">(</span><span class="n">LocationComponentActivationOptions</span><span class="p">.</span><span class="n">builder</span><span class="p">(</span><span class="n">this</span><span class="p">,</span> <span class="n">style</span><span class="p">).</span><span class="n">build</span><span class="p">());</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>            <span class="k">if</span> <span class="p">(</span><span class="n">ActivityCompat</span><span class="p">.</span><span class="n">checkSelfPermission</span><span class="p">(</span><span class="n">this</span><span class="p">,</span> <span class="n">android</span><span class="p">.</span><span class="n">Manifest</span><span class="p">.</span><span class="n">permission</span><span class="p">.</span><span class="n">ACCESS_FINE_LOCATION</span><span class="p">)</span> <span class="o">!=</span> <span class="n">PackageManager</span><span class="p">.</span><span class="n">PERMISSION_GRANTED</span> <span class="o">&amp;&amp;</span> <span class="n">ActivityCompat</span><span class="p">.</span><span class="n">checkSelfPermission</span><span class="p">(</span><span class="n">this</span><span class="p">,</span> <span class="n">android</span><span class="p">.</span><span class="n">Manifest</span><span class="p">.</span><span class="n">permission</span><span class="p">.</span><span class="n">ACCESS_COARSE_LOCATION</span><span class="p">)</span> <span class="o">!=</span> <span class="n">PackageManager</span><span class="p">.</span><span class="n">PERMISSION_GRANTED</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>                <span class="k">return</span><span class="p">;</span>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>            <span class="p">}</span>
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>            <span class="n">locationComponent</span><span class="p">.</span><span class="n">setCameraMode</span><span class="p">(</span><span class="n">CameraMode</span><span class="p">.</span><span class="n">TRACKING_GPS_NORTH</span><span class="p">,</span> <span class="mi">750</span><span class="n">L</span><span class="p">,</span> <span class="mf">18.0</span><span class="p">,</span> <span class="mf">10000.0</span><span class="p">,</span> <span class="mf">10000.0</span><span class="p">,</span> <span class="n">null</span><span class="p">);</span>
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a>            <span class="n">locationComponent</span><span class="p">.</span><span class="n">setLocationComponentEnabled</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a>            <span class="n">locationComponent</span><span class="p">.</span><span class="n">zoomWhileTracking</span><span class="p">(</span><span class="mi">14</span><span class="p">);</span>
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a>            <span class="n">locationComponent</span><span class="p">.</span><span class="n">setRenderMode</span><span class="p">(</span><span class="n">RenderMode</span><span class="p">.</span><span class="n">GPS</span><span class="p">);</span>
<a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a>
<a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a>            <span class="n">LocationComponentOptions</span> <span class="n">locationComponentOptions</span> <span class="p">=</span> <span class="n">LocationComponentOptions</span><span class="p">.</span><span class="n">builder</span><span class="p">(</span><span class="n">this</span><span class="p">)</span>
<a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a>                    <span class="p">.</span><span class="n">pulseEnabled</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
<a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a>                    <span class="p">.</span><span class="n">pulseColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="n">BLUE</span><span class="p">)</span>
<a id="__codelineno-12-16" name="__codelineno-12-16" href="#__codelineno-12-16"></a>                    <span class="p">.</span><span class="n">pulseAlpha</span><span class="p">(</span><span class="mf">0.4</span><span class="n">f</span><span class="p">)</span>
<a id="__codelineno-12-17" name="__codelineno-12-17" href="#__codelineno-12-17"></a>                    <span class="c1">//Customize gps location icon here</span>
<a id="__codelineno-12-18" name="__codelineno-12-18" href="#__codelineno-12-18"></a>                    <span class="p">.</span><span class="n">gpsDrawable</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="n">drawable</span><span class="p">.</span><span class="n">custom_location</span><span class="p">)</span>
<a id="__codelineno-12-19" name="__codelineno-12-19" href="#__codelineno-12-19"></a>                    <span class="p">.</span><span class="n">accuracyAlpha</span><span class="p">(</span><span class="mf">0.0</span><span class="n">f</span><span class="p">)</span>
<a id="__codelineno-12-20" name="__codelineno-12-20" href="#__codelineno-12-20"></a>                    <span class="p">.</span><span class="n">build</span><span class="p">();</span>
<a id="__codelineno-12-21" name="__codelineno-12-21" href="#__codelineno-12-21"></a>
<a id="__codelineno-12-22" name="__codelineno-12-22" href="#__codelineno-12-22"></a>            <span class="n">locationComponent</span><span class="p">.</span><span class="n">applyStyle</span><span class="p">(</span><span class="n">locationComponentOptions</span><span class="p">);</span>
<a id="__codelineno-12-23" name="__codelineno-12-23" href="#__codelineno-12-23"></a>        <span class="p">}</span>
<a id="__codelineno-12-24" name="__codelineno-12-24" href="#__codelineno-12-24"></a>    <span class="p">}</span>
</code></pre></div>
<h4 id="add-polyline">Add polyline<a class="headerlink" href="#add-polyline" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>    <span class="kd">private</span> <span class="n">void</span> <span class="n">addPolylineLayer</span><span class="p">()</span> <span class="p">{</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>        <span class="n">polylineCoordinates</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">Point</span><span class="p">.</span><span class="n">fromLngLat</span><span class="p">(</span><span class="mf">106.659260</span><span class="p">,</span> <span class="mf">10.759879</span><span class="p">));</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>        <span class="n">polylineCoordinates</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">Point</span><span class="p">.</span><span class="n">fromLngLat</span><span class="p">(</span><span class="mf">106.675439</span><span class="p">,</span> <span class="mf">10.752163</span><span class="p">));</span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>        <span class="n">polylineCoordinates</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">Point</span><span class="p">.</span><span class="n">fromLngLat</span><span class="p">(</span><span class="mf">106.670375</span><span class="p">,</span> <span class="mf">10.765950</span><span class="p">));</span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>        <span class="n">polylineCoordinates</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">Point</span><span class="p">.</span><span class="n">fromLngLat</span><span class="p">(</span><span class="mf">106.658702</span><span class="p">,</span> <span class="mf">10.775183</span><span class="p">));</span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>        <span class="n">polylineCoordinates</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">Point</span><span class="p">.</span><span class="n">fromLngLat</span><span class="p">(</span><span class="mf">106.651228</span><span class="p">,</span> <span class="mf">10.778732</span><span class="p">));</span>
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>        <span class="n">polylineCoordinates</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">Point</span><span class="p">.</span><span class="n">fromLngLat</span><span class="p">(</span><span class="mf">106.659260</span><span class="p">,</span> <span class="mf">10.759879</span><span class="p">));</span>
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a>        <span class="n">LineString</span> <span class="n">lineString</span> <span class="p">=</span> <span class="n">LineString</span><span class="p">.</span><span class="n">fromLngLats</span><span class="p">(</span><span class="n">polylineCoordinates</span><span class="p">);</span>
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a>        <span class="n">LineLayer</span> <span class="n">lineLayer</span> <span class="p">=</span> <span class="n">new</span> <span class="n">LineLayer</span><span class="p">(</span><span class="s">&quot;polyline-layer&quot;</span><span class="p">,</span> <span class="s">&quot;polyline-source-id&quot;</span><span class="p">);</span>
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a>        <span class="n">lineLayer</span><span class="p">.</span><span class="n">setProperties</span><span class="p">(</span>
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a>                <span class="n">PropertyFactory</span><span class="p">.</span><span class="n">lineColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="n">RED</span><span class="p">),</span>
<a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a>                <span class="n">PropertyFactory</span><span class="p">.</span><span class="n">lineWidth</span><span class="p">(</span><span class="mi">5</span><span class="n">f</span><span class="p">),</span>
<a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a>                <span class="n">PropertyFactory</span><span class="p">.</span><span class="n">lineOpacity</span><span class="p">(</span><span class="mf">0.7</span><span class="n">f</span><span class="p">)</span>
<a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a>        <span class="p">);</span>
<a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a>
<a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a>        <span class="n">Style</span> <span class="n">style</span> <span class="p">=</span> <span class="n">vietmapGL</span><span class="p">.</span><span class="n">getStyle</span><span class="p">();</span>
<a id="__codelineno-13-17" name="__codelineno-13-17" href="#__codelineno-13-17"></a>        <span class="k">if</span> <span class="p">(</span><span class="n">style</span> <span class="o">!=</span> <span class="n">null</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-13-18" name="__codelineno-13-18" href="#__codelineno-13-18"></a>            <span class="n">style</span><span class="p">.</span><span class="n">addSource</span><span class="p">(</span><span class="n">new</span> <span class="n">GeoJsonSource</span><span class="p">(</span><span class="s">&quot;polyline-source-id&quot;</span><span class="p">,</span> <span class="n">lineString</span><span class="p">));</span>
<a id="__codelineno-13-19" name="__codelineno-13-19" href="#__codelineno-13-19"></a>            <span class="n">style</span><span class="p">.</span><span class="n">addLayer</span><span class="p">(</span><span class="n">lineLayer</span><span class="p">);</span>
<a id="__codelineno-13-20" name="__codelineno-13-20" href="#__codelineno-13-20"></a>        <span class="p">}</span>
<a id="__codelineno-13-21" name="__codelineno-13-21" href="#__codelineno-13-21"></a>    <span class="p">}</span>
</code></pre></div>
<h4 id="add-polygon">Add polygon<a class="headerlink" href="#add-polygon" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>    <span class="kd">private</span> <span class="n">void</span> <span class="n">addPolygonLayer</span><span class="p">()</span> <span class="p">{</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>        <span class="n">polygonCoordinates</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">Point</span><span class="p">.</span><span class="n">fromLngLat</span><span class="p">(</span><span class="mf">106.653561</span><span class="p">,</span> <span class="mf">10.755427</span><span class="p">));</span>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>        <span class="n">polygonCoordinates</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">Point</span><span class="p">.</span><span class="n">fromLngLat</span><span class="p">(</span><span class="mf">106.666822</span><span class="p">,</span> <span class="mf">10.737105</span><span class="p">));</span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>        <span class="n">polygonCoordinates</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">Point</span><span class="p">.</span><span class="n">fromLngLat</span><span class="p">(</span><span class="mf">106.689939</span><span class="p">,</span> <span class="mf">10.760373</span><span class="p">));</span>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>        <span class="n">polygonCoordinates</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">Point</span><span class="p">.</span><span class="n">fromLngLat</span><span class="p">(</span><span class="mf">106.665687</span><span class="p">,</span> <span class="mf">10.807393</span><span class="p">));</span>
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>        <span class="n">polygonCoordinates</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">Point</span><span class="p">.</span><span class="n">fromLngLat</span><span class="p">(</span><span class="mf">106.619878</span><span class="p">,</span> <span class="mf">10.821045</span><span class="p">));</span>
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>        <span class="n">polygonCoordinates</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">Point</span><span class="p">.</span><span class="n">fromLngLat</span><span class="p">(</span><span class="mf">106.650261</span><span class="p">,</span> <span class="mf">10.766545</span><span class="p">));</span>
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a>        <span class="n">Polygon</span> <span class="n">polygon</span> <span class="p">=</span> <span class="n">Polygon</span><span class="p">.</span><span class="n">fromLngLats</span><span class="p">(</span><span class="n">Collections</span><span class="p">.</span><span class="n">singletonList</span><span class="p">(</span><span class="n">polygonCoordinates</span><span class="p">));</span>
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a>        <span class="n">FillLayer</span> <span class="n">fillLayer</span> <span class="p">=</span> <span class="n">new</span> <span class="n">FillLayer</span><span class="p">(</span><span class="s">&quot;polygon-layer&quot;</span><span class="p">,</span> <span class="s">&quot;polygon-source-id&quot;</span><span class="p">);</span>
<a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a>        <span class="n">fillLayer</span><span class="p">.</span><span class="n">setProperties</span><span class="p">(</span>
<a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a>                <span class="n">PropertyFactory</span><span class="p">.</span><span class="n">fillColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="n">BLUE</span><span class="p">),</span>
<a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a>                <span class="n">PropertyFactory</span><span class="p">.</span><span class="n">fillOpacity</span><span class="p">(</span><span class="mf">0.8</span><span class="n">f</span><span class="p">)</span>
<a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a>        <span class="p">);</span>
<a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a>        <span class="n">Style</span> <span class="n">style</span> <span class="p">=</span> <span class="n">vietmapGL</span><span class="p">.</span><span class="n">getStyle</span><span class="p">();</span>
<a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a>        <span class="k">if</span> <span class="p">(</span><span class="n">style</span> <span class="o">!=</span> <span class="n">null</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a>            <span class="n">style</span><span class="p">.</span><span class="n">addSource</span><span class="p">(</span><span class="n">new</span> <span class="n">GeoJsonSource</span><span class="p">(</span><span class="s">&quot;polygon-source-id&quot;</span><span class="p">,</span> <span class="n">polygon</span><span class="p">));</span>
<a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a>            <span class="n">style</span><span class="p">.</span><span class="n">addLayer</span><span class="p">(</span><span class="n">fillLayer</span><span class="p">);</span>
<a id="__codelineno-14-18" name="__codelineno-14-18" href="#__codelineno-14-18"></a>        <span class="p">}</span>
<a id="__codelineno-14-19" name="__codelineno-14-19" href="#__codelineno-14-19"></a>
<a id="__codelineno-14-20" name="__codelineno-14-20" href="#__codelineno-14-20"></a>    <span class="p">}</span>
</code></pre></div>
<h4 id="add-marker">Add marker<a class="headerlink" href="#add-marker" title="Permanent link">&para;</a></h4>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>    <span class="kd">private</span> <span class="n">void</span> <span class="n">initMarker</span><span class="p">()</span> <span class="p">{</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>        <span class="n">Bitmap</span> <span class="n">iconBitmap</span> <span class="p">=</span> <span class="n">BitmapFactory</span><span class="p">.</span><span class="n">decodeResource</span><span class="p">(</span><span class="n">getResources</span><span class="p">(),</span> <span class="n">R</span><span class="p">.</span><span class="n">drawable</span><span class="p">.</span><span class="n">custom_marker</span><span class="p">);</span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>        <span class="n">vietmapGL</span><span class="p">.</span><span class="n">getStyle</span><span class="p">().</span><span class="n">addImage</span><span class="p">(</span><span class="s">&quot;custom_marker&quot;</span><span class="p">,</span> <span class="n">iconBitmap</span><span class="p">);</span>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>    <span class="p">}</span>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>    <span class="kd">private</span> <span class="n">void</span> <span class="n">addMarker</span><span class="p">(</span><span class="n">LatLng</span> <span class="n">position</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>        <span class="n">SymbolManager</span> <span class="n">symbolManager</span> <span class="p">=</span> <span class="n">new</span> <span class="n">SymbolManager</span><span class="p">(</span><span class="n">mapView</span><span class="p">,</span> <span class="n">vietmapGL</span><span class="p">,</span> <span class="n">vietmapGL</span><span class="p">.</span><span class="n">getStyle</span><span class="p">());</span>
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>        <span class="n">SymbolOptions</span> <span class="n">symbolOptions</span> <span class="p">=</span> <span class="n">new</span> <span class="n">SymbolOptions</span><span class="p">()</span>
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a>                <span class="p">.</span><span class="n">withLatLng</span><span class="p">(</span><span class="n">position</span><span class="p">)</span>
<a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a>                <span class="p">.</span><span class="n">withIconImage</span><span class="p">(</span><span class="s">&quot;custom_marker&quot;</span><span class="p">)</span>
<a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a>                <span class="p">.</span><span class="n">withIconSize</span><span class="p">(</span><span class="mf">0.3</span><span class="n">f</span><span class="p">);</span>
<a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a>        <span class="n">symbolManager</span><span class="p">.</span><span class="n">create</span><span class="p">(</span><span class="n">symbolOptions</span><span class="p">);</span>
<a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a>    <span class="p">}</span>
</code></pre></div>
On long click callback function
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="p">@</span><span class="n">Override</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>    <span class="kd">public</span> <span class="n">boolean</span> <span class="n">onMapLongClick</span><span class="p">(@</span><span class="n">NonNull</span> <span class="n">LatLng</span> <span class="n">latLng</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>        <span class="n">addMarker</span><span class="p">(</span><span class="n">latLng</span><span class="p">);</span>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>    <span class="p">}</span>
</code></pre></div></p>
<h4 id="move-map-camera-to-a-specific-location">Move map camera to a specific location<a class="headerlink" href="#move-map-camera-to-a-specific-location" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>    <span class="kd">private</span> <span class="n">void</span> <span class="n">moveMapToLocation</span><span class="p">(</span><span class="n">double</span> <span class="n">latitude</span><span class="p">,</span> <span class="n">double</span> <span class="n">longitude</span><span class="p">,</span> <span class="n">Integer</span> <span class="n">zoom</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>        <span class="n">vietmapGL</span><span class="p">.</span><span class="n">animateCamera</span><span class="p">(</span><span class="n">CameraUpdateFactory</span><span class="p">.</span><span class="n">newLatLngZoom</span><span class="p">(</span><span class="n">new</span> <span class="n">LatLng</span><span class="p">(</span><span class="n">latitude</span><span class="p">,</span> <span class="n">longitude</span><span class="p">),</span> <span class="n">zoom</span><span class="p">));</span>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>    <span class="p">}</span>
</code></pre></div>
<h3 id="add-some-necessary-function">Add some necessary function<a class="headerlink" href="#add-some-necessary-function" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>    <span class="p">@</span><span class="n">Override</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>    <span class="kd">public</span> <span class="n">void</span> <span class="n">onStart</span><span class="p">()</span> <span class="p">{</span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>        <span class="kc">super</span><span class="p">.</span><span class="n">onStart</span><span class="p">();</span>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>        <span class="n">mapView</span><span class="p">.</span><span class="n">onStart</span><span class="p">();</span>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>    <span class="p">}</span>
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>    <span class="p">@</span><span class="n">Override</span>
<a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a>    <span class="kd">public</span> <span class="n">void</span> <span class="n">onResume</span><span class="p">()</span> <span class="p">{</span>
<a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a>        <span class="kc">super</span><span class="p">.</span><span class="n">onResume</span><span class="p">();</span>
<a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a>        <span class="n">mapView</span><span class="p">.</span><span class="n">onResume</span><span class="p">();</span>
<a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a>    <span class="p">}</span>
<a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a>
<a id="__codelineno-18-13" name="__codelineno-18-13" href="#__codelineno-18-13"></a>    <span class="p">@</span><span class="n">Override</span>
<a id="__codelineno-18-14" name="__codelineno-18-14" href="#__codelineno-18-14"></a>    <span class="kd">public</span> <span class="n">void</span> <span class="n">onLowMemory</span><span class="p">()</span> <span class="p">{</span>
<a id="__codelineno-18-15" name="__codelineno-18-15" href="#__codelineno-18-15"></a>        <span class="kc">super</span><span class="p">.</span><span class="n">onLowMemory</span><span class="p">();</span>
<a id="__codelineno-18-16" name="__codelineno-18-16" href="#__codelineno-18-16"></a>        <span class="n">mapView</span><span class="p">.</span><span class="n">onLowMemory</span><span class="p">();</span>
<a id="__codelineno-18-17" name="__codelineno-18-17" href="#__codelineno-18-17"></a>    <span class="p">}</span>
<a id="__codelineno-18-18" name="__codelineno-18-18" href="#__codelineno-18-18"></a>
<a id="__codelineno-18-19" name="__codelineno-18-19" href="#__codelineno-18-19"></a>    <span class="p">@</span><span class="n">Override</span>
<a id="__codelineno-18-20" name="__codelineno-18-20" href="#__codelineno-18-20"></a>    <span class="kd">public</span> <span class="n">void</span> <span class="n">onPause</span><span class="p">()</span> <span class="p">{</span>
<a id="__codelineno-18-21" name="__codelineno-18-21" href="#__codelineno-18-21"></a>        <span class="kc">super</span><span class="p">.</span><span class="n">onPause</span><span class="p">();</span>
<a id="__codelineno-18-22" name="__codelineno-18-22" href="#__codelineno-18-22"></a>        <span class="n">mapView</span><span class="p">.</span><span class="n">onPause</span><span class="p">();</span>
<a id="__codelineno-18-23" name="__codelineno-18-23" href="#__codelineno-18-23"></a>    <span class="p">}</span>
<a id="__codelineno-18-24" name="__codelineno-18-24" href="#__codelineno-18-24"></a>
<a id="__codelineno-18-25" name="__codelineno-18-25" href="#__codelineno-18-25"></a>    <span class="p">@</span><span class="n">Override</span>
<a id="__codelineno-18-26" name="__codelineno-18-26" href="#__codelineno-18-26"></a>    <span class="kd">public</span> <span class="n">void</span> <span class="n">onStop</span><span class="p">()</span> <span class="p">{</span>
<a id="__codelineno-18-27" name="__codelineno-18-27" href="#__codelineno-18-27"></a>        <span class="kc">super</span><span class="p">.</span><span class="n">onStop</span><span class="p">();</span>
<a id="__codelineno-18-28" name="__codelineno-18-28" href="#__codelineno-18-28"></a>        <span class="n">mapView</span><span class="p">.</span><span class="n">onStop</span><span class="p">();</span>
<a id="__codelineno-18-29" name="__codelineno-18-29" href="#__codelineno-18-29"></a>    <span class="p">}</span>
<a id="__codelineno-18-30" name="__codelineno-18-30" href="#__codelineno-18-30"></a>
<a id="__codelineno-18-31" name="__codelineno-18-31" href="#__codelineno-18-31"></a>    <span class="p">@</span><span class="n">Override</span>
<a id="__codelineno-18-32" name="__codelineno-18-32" href="#__codelineno-18-32"></a>    <span class="n">protected</span> <span class="n">void</span> <span class="n">onDestroy</span><span class="p">()</span> <span class="p">{</span>
<a id="__codelineno-18-33" name="__codelineno-18-33" href="#__codelineno-18-33"></a>        <span class="kc">super</span><span class="p">.</span><span class="n">onDestroy</span><span class="p">();</span>
<a id="__codelineno-18-34" name="__codelineno-18-34" href="#__codelineno-18-34"></a>        <span class="n">mapView</span><span class="p">.</span><span class="n">onDestroy</span><span class="p">();</span>
<a id="__codelineno-18-35" name="__codelineno-18-35" href="#__codelineno-18-35"></a>    <span class="p">}</span>
<a id="__codelineno-18-36" name="__codelineno-18-36" href="#__codelineno-18-36"></a>
<a id="__codelineno-18-37" name="__codelineno-18-37" href="#__codelineno-18-37"></a>    <span class="p">@</span><span class="n">Override</span>
<a id="__codelineno-18-38" name="__codelineno-18-38" href="#__codelineno-18-38"></a>    <span class="n">protected</span> <span class="n">void</span> <span class="n">onSaveInstanceState</span><span class="p">(</span><span class="n">Bundle</span> <span class="n">outState</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-18-39" name="__codelineno-18-39" href="#__codelineno-18-39"></a>        <span class="n">mapView</span><span class="p">.</span><span class="n">onSaveInstanceState</span><span class="p">(</span><span class="n">outState</span><span class="p">);</span>
<a id="__codelineno-18-40" name="__codelineno-18-40" href="#__codelineno-18-40"></a>        <span class="kc">super</span><span class="p">.</span><span class="n">onSaveInstanceState</span><span class="p">(</span><span class="n">outState</span><span class="p">);</span>
<a id="__codelineno-18-41" name="__codelineno-18-41" href="#__codelineno-18-41"></a>    <span class="p">}</span>
<a id="__codelineno-18-42" name="__codelineno-18-42" href="#__codelineno-18-42"></a>
<a id="__codelineno-18-43" name="__codelineno-18-43" href="#__codelineno-18-43"></a>    <span class="p">@</span><span class="n">Override</span>
<a id="__codelineno-18-44" name="__codelineno-18-44" href="#__codelineno-18-44"></a>    <span class="n">protected</span> <span class="n">void</span> <span class="n">onRestoreInstanceState</span><span class="p">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-18-45" name="__codelineno-18-45" href="#__codelineno-18-45"></a>        <span class="kc">super</span><span class="p">.</span><span class="n">onRestoreInstanceState</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span>
<a id="__codelineno-18-46" name="__codelineno-18-46" href="#__codelineno-18-46"></a>    <span class="p">}</span>
</code></pre></div>
<h3 id="location-permission">Location permission<a class="headerlink" href="#location-permission" title="Permanent link">&para;</a></h3>
<p>Add the code below to <strong>MainActivity</strong> class to request location permission
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span> <span class="n">extends</span> <span class="n">AppCompatActivity</span> <span class="n">implements</span> <span class="n">PermissionsListener</span><span class="p">{</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>    <span class="kd">private</span> <span class="n">PermissionsManager</span> <span class="n">permissionsManager</span><span class="p">;</span>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>    <span class="p">@</span><span class="n">Override</span>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>    <span class="n">protected</span> <span class="n">void</span> <span class="n">onCreate</span><span class="p">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>        <span class="kc">super</span><span class="p">.</span><span class="n">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span>
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a>        <span class="n">setContentView</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="n">layout</span><span class="p">.</span><span class="n">activity_main</span><span class="p">);</span>
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a>        <span class="n">Button</span> <span class="n">button</span> <span class="p">=</span>  <span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="n">id</span><span class="p">.</span><span class="n">pushToMapViewScreen</span><span class="p">);</span>
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a>        <span class="n">Intent</span> <span class="n">it</span> <span class="p">=</span> <span class="n">new</span> <span class="n">Intent</span><span class="p">(</span><span class="n">this</span><span class="p">,</span> <span class="n">MapViewExampleActivity</span><span class="p">.</span><span class="kd">class</span><span class="p">);</span>
<a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>        <span class="n">button</span><span class="p">.</span><span class="n">setOnClickListener</span><span class="p">(</span><span class="n">view</span> <span class="p">-&gt;</span> <span class="n">startActivity</span><span class="p">(</span><span class="n">it</span><span class="p">));</span>
<a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a>
<a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a>        <span class="n">permissionsManager</span> <span class="p">=</span> <span class="n">new</span> <span class="n">PermissionsManager</span><span class="p">(</span><span class="n">this</span><span class="p">);</span>
<a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a>        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">PermissionsManager</span><span class="p">.</span><span class="n">areLocationPermissionsGranted</span><span class="p">(</span><span class="n">this</span><span class="p">))</span> <span class="p">{</span>
<a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a>            <span class="n">permissionsManager</span><span class="p">.</span><span class="n">requestLocationPermissions</span><span class="p">(</span><span class="n">this</span><span class="p">);</span>
<a id="__codelineno-19-15" name="__codelineno-19-15" href="#__codelineno-19-15"></a>        <span class="p">}</span>
<a id="__codelineno-19-16" name="__codelineno-19-16" href="#__codelineno-19-16"></a>    <span class="p">}</span>
<a id="__codelineno-19-17" name="__codelineno-19-17" href="#__codelineno-19-17"></a>
<a id="__codelineno-19-18" name="__codelineno-19-18" href="#__codelineno-19-18"></a>    <span class="p">@</span><span class="n">Override</span>
<a id="__codelineno-19-19" name="__codelineno-19-19" href="#__codelineno-19-19"></a>    <span class="kd">public</span> <span class="n">void</span> <span class="n">onRequestPermissionsResult</span><span class="p">(</span><span class="n">int</span> <span class="n">requestCode</span><span class="p">,</span> <span class="p">@</span><span class="n">NonNull</span> <span class="nb">String</span><span class="p">[]</span> <span class="n">permissions</span><span class="p">,</span>
<a id="__codelineno-19-20" name="__codelineno-19-20" href="#__codelineno-19-20"></a>                                           <span class="p">@</span><span class="n">NonNull</span> <span class="n">int</span><span class="p">[]</span> <span class="n">grantResults</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-19-21" name="__codelineno-19-21" href="#__codelineno-19-21"></a>        <span class="kc">super</span><span class="p">.</span><span class="n">onRequestPermissionsResult</span><span class="p">(</span><span class="n">requestCode</span><span class="p">,</span> <span class="n">permissions</span><span class="p">,</span> <span class="n">grantResults</span><span class="p">);</span>
<a id="__codelineno-19-22" name="__codelineno-19-22" href="#__codelineno-19-22"></a>        <span class="n">permissionsManager</span><span class="p">.</span><span class="n">onRequestPermissionsResult</span><span class="p">(</span><span class="n">requestCode</span><span class="p">,</span> <span class="n">permissions</span><span class="p">,</span> <span class="n">grantResults</span><span class="p">);</span>
<a id="__codelineno-19-23" name="__codelineno-19-23" href="#__codelineno-19-23"></a>    <span class="p">}</span>
<a id="__codelineno-19-24" name="__codelineno-19-24" href="#__codelineno-19-24"></a>
<a id="__codelineno-19-25" name="__codelineno-19-25" href="#__codelineno-19-25"></a>    <span class="p">@</span><span class="n">Override</span>
<a id="__codelineno-19-26" name="__codelineno-19-26" href="#__codelineno-19-26"></a>    <span class="kd">public</span> <span class="n">void</span> <span class="n">onExplanationNeeded</span><span class="p">(</span><span class="n">List</span><span class="p">&lt;</span><span class="nb">String</span><span class="p">&gt;</span> <span class="n">permissionsToExplain</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-19-27" name="__codelineno-19-27" href="#__codelineno-19-27"></a>        <span class="n">Toast</span><span class="p">.</span><span class="n">makeText</span><span class="p">(</span><span class="n">this</span><span class="p">,</span> <span class="s">&quot;This app needs location permissions in order to show its functionality.&quot;</span><span class="p">,</span>
<a id="__codelineno-19-28" name="__codelineno-19-28" href="#__codelineno-19-28"></a>                <span class="n">Toast</span><span class="p">.</span><span class="n">LENGTH_LONG</span><span class="p">).</span><span class="n">show</span><span class="p">();</span>
<a id="__codelineno-19-29" name="__codelineno-19-29" href="#__codelineno-19-29"></a>    <span class="p">}</span>
<a id="__codelineno-19-30" name="__codelineno-19-30" href="#__codelineno-19-30"></a>
<a id="__codelineno-19-31" name="__codelineno-19-31" href="#__codelineno-19-31"></a>    <span class="p">@</span><span class="n">Override</span>
<a id="__codelineno-19-32" name="__codelineno-19-32" href="#__codelineno-19-32"></a>    <span class="kd">public</span> <span class="n">void</span> <span class="n">onPermissionResult</span><span class="p">(</span><span class="n">boolean</span> <span class="n">granted</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-19-33" name="__codelineno-19-33" href="#__codelineno-19-33"></a>        <span class="k">if</span> <span class="p">(</span><span class="n">granted</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-19-34" name="__codelineno-19-34" href="#__codelineno-19-34"></a>        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
<a id="__codelineno-19-35" name="__codelineno-19-35" href="#__codelineno-19-35"></a>            <span class="n">Toast</span><span class="p">.</span><span class="n">makeText</span><span class="p">(</span><span class="n">this</span><span class="p">,</span> <span class="s">&quot;You didn&#39;t grant location permissions.&quot;</span><span class="p">,</span>
<a id="__codelineno-19-36" name="__codelineno-19-36" href="#__codelineno-19-36"></a>                    <span class="n">Toast</span><span class="p">.</span><span class="n">LENGTH_LONG</span><span class="p">).</span><span class="n">show</span><span class="p">();</span>
<a id="__codelineno-19-37" name="__codelineno-19-37" href="#__codelineno-19-37"></a>        <span class="p">}</span>
<a id="__codelineno-19-38" name="__codelineno-19-38" href="#__codelineno-19-38"></a>    <span class="p">}</span>
<a id="__codelineno-19-39" name="__codelineno-19-39" href="#__codelineno-19-39"></a><span class="p">}</span>
</code></pre></div></p>
<p>Add <strong>navigate page button</strong> for the <strong>MainActivity</strong> xml file
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="o">&lt;?</span><span class="n">xml</span> <span class="n">version</span><span class="p">=</span><span class="s">&quot;1.0&quot;</span> <span class="n">encoding</span><span class="p">=</span><span class="s">&quot;utf-8&quot;</span><span class="p">?</span><span class="o">&gt;</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="p">&lt;</span><span class="n">androidx</span><span class="p">.</span><span class="n">constraintlayout</span><span class="p">.</span><span class="n">widget</span><span class="p">.</span><span class="n">ConstraintLayout</span> <span class="n">xmlns</span><span class="p">:</span><span class="n">android</span><span class="p">=</span><span class="s">&quot;http://schemas.android.com/apk/res/android&quot;</span>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>    <span class="n">xmlns</span><span class="p">:</span><span class="n">app</span><span class="p">=</span><span class="s">&quot;http://schemas.android.com/apk/res-auto&quot;</span>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>    <span class="n">xmlns</span><span class="p">:</span><span class="n">tools</span><span class="p">=</span><span class="s">&quot;http://schemas.android.com/tools&quot;</span>
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>    <span class="n">android</span><span class="p">:</span><span class="n">layout_width</span><span class="p">=</span><span class="s">&quot;match_parent&quot;</span>
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a>    <span class="n">android</span><span class="p">:</span><span class="n">layout_height</span><span class="p">=</span><span class="s">&quot;match_parent&quot;</span>
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a>    <span class="n">tools</span><span class="p">:</span><span class="n">context</span><span class="p">=</span><span class="s">&quot;.MainActivity&quot;</span><span class="o">&gt;</span>
<a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a>
<a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a>    <span class="p">&lt;</span><span class="n">Button</span>
<a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a>        <span class="n">android</span><span class="p">:</span><span class="n">id</span><span class="p">=</span><span class="s">&quot;@+id/pushToMapViewScreen&quot;</span>
<a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a>        <span class="n">android</span><span class="p">:</span><span class="n">layout_width</span><span class="p">=</span><span class="s">&quot;wrap_content&quot;</span>
<a id="__codelineno-20-12" name="__codelineno-20-12" href="#__codelineno-20-12"></a>        <span class="n">android</span><span class="p">:</span><span class="n">layout_height</span><span class="p">=</span><span class="s">&quot;wrap_content&quot;</span>
<a id="__codelineno-20-13" name="__codelineno-20-13" href="#__codelineno-20-13"></a>        <span class="n">android</span><span class="p">:</span><span class="n">layout_marginTop</span><span class="p">=</span><span class="s">&quot;36dp&quot;</span>
<a id="__codelineno-20-14" name="__codelineno-20-14" href="#__codelineno-20-14"></a>        <span class="n">android</span><span class="p">:</span><span class="n">text</span><span class="p">=</span><span class="s">&quot;Start to VietMapAndroidMapScreen&quot;</span>
<a id="__codelineno-20-15" name="__codelineno-20-15" href="#__codelineno-20-15"></a>        <span class="n">app</span><span class="p">:</span><span class="n">layout_constraintEnd_toEndOf</span><span class="p">=</span><span class="s">&quot;parent&quot;</span>
<a id="__codelineno-20-16" name="__codelineno-20-16" href="#__codelineno-20-16"></a>        <span class="n">app</span><span class="p">:</span><span class="n">layout_constraintHorizontal_bias</span><span class="p">=</span><span class="s">&quot;0.494&quot;</span>
<a id="__codelineno-20-17" name="__codelineno-20-17" href="#__codelineno-20-17"></a>        <span class="n">app</span><span class="p">:</span><span class="n">layout_constraintStart_toStartOf</span><span class="p">=</span><span class="s">&quot;parent&quot;</span>
<a id="__codelineno-20-18" name="__codelineno-20-18" href="#__codelineno-20-18"></a>        <span class="n">app</span><span class="p">:</span><span class="n">layout_constraintTop_toTopOf</span><span class="p">=</span><span class="s">&quot;parent&quot;</span>
<a id="__codelineno-20-19" name="__codelineno-20-19" href="#__codelineno-20-19"></a>        <span class="o">/&gt;</span>
<a id="__codelineno-20-20" name="__codelineno-20-20" href="#__codelineno-20-20"></a><span class="o">&lt;/</span><span class="n">androidx</span><span class="p">.</span><span class="n">constraintlayout</span><span class="p">.</span><span class="n">widget</span><span class="p">.</span><span class="n">ConstraintLayout</span><span class="p">&gt;</span>
</code></pre></div></p>
<h2 id="navigation">Navigation<a class="headerlink" href="#navigation" title="Permanent link">&para;</a></h2>
<h3 id="gradle-and-androidmanifest-configure">Gradle and AndroidManifest configure<a class="headerlink" href="#gradle-and-androidmanifest-configure" title="Permanent link">&para;</a></h3>
<p>Add dependencies below to build.gradle module app
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="w">    </span><span class="n">implementation</span><span class="w"> </span><span class="s">&quot;androidx.recyclerview:recyclerview:1.2.1&quot;</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="w">    </span><span class="n">implementation</span><span class="w"> </span><span class="s">&quot;androidx.cardview:cardview:1,0,0&quot;</span>
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="w">    </span><span class="n">implementation</span><span class="w"> </span><span class="s">&quot;androidx.lifecycle:lifecycle-extensions:2.2.0&quot;</span>
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="w">    </span><span class="n">implementation</span><span class="w"> </span><span class="s">&quot;com.google.android.gms:play-services-location:21.0.1&quot;</span>
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="w">    </span><span class="n">implementation</span><span class="w"> </span><span class="s">&quot;com.jakewharton:butterknife:10.2.3&quot;</span>
<a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="w">    </span><span class="n">implementation</span><span class="w"> </span><span class="err">&#39;</span><span class="n">androidx</span><span class="p">.</span><span class="na">core</span><span class="p">:</span><span class="n">core</span><span class="o">-</span><span class="n">ktx</span><span class="p">:</span><span class="mf">1.7.0</span><span class="err">&#39;</span>
<a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="w">    </span><span class="n">implementation</span><span class="w"> </span><span class="err">&#39;</span><span class="n">com</span><span class="p">.</span><span class="na">github</span><span class="p">.</span><span class="na">vietmap</span><span class="o">-</span><span class="n">company</span><span class="p">:</span><span class="n">maps</span><span class="o">-</span><span class="n">sdk</span><span class="o">-</span><span class="n">android</span><span class="p">:</span><span class="mf">2.0.0</span><span class="err">&#39;</span>
<a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a><span class="w">    </span><span class="n">implementation</span><span class="w"> </span><span class="err">&#39;</span><span class="n">com</span><span class="p">.</span><span class="na">github</span><span class="p">.</span><span class="na">vietmap</span><span class="o">-</span><span class="n">company</span><span class="p">:</span><span class="n">maps</span><span class="o">-</span><span class="n">sdk</span><span class="o">-</span><span class="n">navigation</span><span class="o">-</span><span class="n">ui</span><span class="o">-</span><span class="n">android</span><span class="p">:</span><span class="mf">2.0.2</span><span class="err">&#39;</span>
<a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a><span class="w">    </span><span class="n">implementation</span><span class="w"> </span><span class="err">&#39;</span><span class="n">com</span><span class="p">.</span><span class="na">github</span><span class="p">.</span><span class="na">vietmap</span><span class="o">-</span><span class="n">company</span><span class="p">:</span><span class="n">maps</span><span class="o">-</span><span class="n">sdk</span><span class="o">-</span><span class="n">navigation</span><span class="o">-</span><span class="n">android</span><span class="p">:</span><span class="mf">2.0.1</span><span class="err">&#39;</span>
<a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a><span class="w">    </span><span class="n">implementation</span><span class="w"> </span><span class="err">&#39;</span><span class="n">com</span><span class="p">.</span><span class="na">github</span><span class="p">.</span><span class="na">vietmap</span><span class="o">-</span><span class="n">company</span><span class="p">:</span><span class="n">vietmap</span><span class="o">-</span><span class="n">services</span><span class="o">-</span><span class="n">core</span><span class="p">:</span><span class="mf">1.0.0</span><span class="err">&#39;</span>
<a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a><span class="w">    </span><span class="n">implementation</span><span class="w"> </span><span class="err">&#39;</span><span class="n">com</span><span class="p">.</span><span class="na">github</span><span class="p">.</span><span class="na">vietmap</span><span class="o">-</span><span class="n">company</span><span class="p">:</span><span class="n">vietmap</span><span class="o">-</span><span class="n">services</span><span class="o">-</span><span class="n">directions</span><span class="o">-</span><span class="n">models</span><span class="p">:</span><span class="mf">1.0.1</span><span class="err">&#39;</span>
<a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a><span class="w">    </span><span class="n">implementation</span><span class="w"> </span><span class="err">&#39;</span><span class="n">com</span><span class="p">.</span><span class="na">github</span><span class="p">.</span><span class="na">vietmap</span><span class="o">-</span><span class="n">company</span><span class="p">:</span><span class="n">vietmap</span><span class="o">-</span><span class="n">services</span><span class="o">-</span><span class="n">turf</span><span class="o">-</span><span class="n">android</span><span class="p">:</span><span class="mf">1.0.2</span><span class="err">&#39;</span>
<a id="__codelineno-21-13" name="__codelineno-21-13" href="#__codelineno-21-13"></a><span class="w">    </span><span class="n">implementation</span><span class="w"> </span><span class="err">&#39;</span><span class="n">com</span><span class="p">.</span><span class="na">github</span><span class="p">.</span><span class="na">vietmap</span><span class="o">-</span><span class="n">company</span><span class="p">:</span><span class="n">vietmap</span><span class="o">-</span><span class="n">services</span><span class="o">-</span><span class="n">android</span><span class="p">:</span><span class="mf">1.1.2</span><span class="err">&#39;</span>
<a id="__codelineno-21-14" name="__codelineno-21-14" href="#__codelineno-21-14"></a><span class="w">    </span><span class="n">implementation</span><span class="w"> </span><span class="err">&#39;</span><span class="n">com</span><span class="p">.</span><span class="na">squareup</span><span class="p">.</span><span class="na">picasso</span><span class="p">:</span><span class="n">picasso</span><span class="p">:</span><span class="mf">2.8</span><span class="err">&#39;</span>
<a id="__codelineno-21-15" name="__codelineno-21-15" href="#__codelineno-21-15"></a><span class="w">    </span><span class="n">implementation</span><span class="w"> </span><span class="err">&#39;</span><span class="n">com</span><span class="p">.</span><span class="na">github</span><span class="p">.</span><span class="na">vietmap</span><span class="o">-</span><span class="n">company</span><span class="p">:</span><span class="n">vietmap</span><span class="o">-</span><span class="n">services</span><span class="o">-</span><span class="n">geojson</span><span class="o">-</span><span class="n">android</span><span class="p">:</span><span class="mf">1.0.0</span><span class="err">&#39;</span>
<a id="__codelineno-21-16" name="__codelineno-21-16" href="#__codelineno-21-16"></a><span class="w">    </span><span class="n">implementation</span><span class="w"> </span><span class="n">group</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;</span><span class="n">com</span><span class="p">.</span><span class="na">squareup</span><span class="p">.</span><span class="na">okhttp3</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;</span><span class="n">okhttp</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">version</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;</span><span class="mf">3.2.0</span><span class="err">&#39;</span>
<a id="__codelineno-21-17" name="__codelineno-21-17" href="#__codelineno-21-17"></a><span class="w">    </span><span class="n">implementation</span><span class="w"> </span><span class="err">&#39;</span><span class="n">com</span><span class="p">.</span><span class="na">squareup</span><span class="p">.</span><span class="na">retrofit2</span><span class="p">:</span><span class="n">retrofit</span><span class="p">:</span><span class="mf">2.9.0</span><span class="err">&#39;</span>
<a id="__codelineno-21-18" name="__codelineno-21-18" href="#__codelineno-21-18"></a><span class="w">    </span><span class="n">implementation</span><span class="w"> </span><span class="err">&#39;</span><span class="n">com</span><span class="p">.</span><span class="na">google</span><span class="p">.</span><span class="na">code</span><span class="p">.</span><span class="na">gson</span><span class="p">:</span><span class="n">gson</span><span class="p">:</span><span class="mf">2.10.1</span><span class="err">&#39;</span>
<a id="__codelineno-21-19" name="__codelineno-21-19" href="#__codelineno-21-19"></a><span class="w">    </span><span class="n">implementation</span><span class="w"> </span><span class="err">&#39;</span><span class="n">com</span><span class="p">.</span><span class="na">squareup</span><span class="p">.</span><span class="na">retrofit2</span><span class="p">:</span><span class="n">converter</span><span class="o">-</span><span class="n">gson</span><span class="p">:</span><span class="mf">2.0.0</span><span class="o">-</span><span class="n">beta4</span><span class="err">&#39;</span><span class="w">  </span>
</code></pre></div></p>
<p>Configure the <strong>jitpack repository</strong> in the <strong>setting.gradle</strong> file
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="n">dependencyResolutionManagement</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="w">    </span><span class="n">repositoriesMode</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">RepositoriesMode</span><span class="p">.</span><span class="na">FAIL_ON_PROJECT_REPOS</span><span class="p">)</span>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="w">    </span><span class="n">repositories</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="w">        </span><span class="n">google</span><span class="p">()</span>
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="w">        </span><span class="n">mavenCentral</span><span class="p">()</span>
<a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="w">        </span><span class="c1">// Add two lines below to the repositories block (In setting.gradle file)</span>
<a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a><span class="w">        </span><span class="n">maven</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">url</span><span class="w"> </span><span class="err">&#39;</span><span class="n">https</span><span class="p">:</span><span class="c1">//plugins.gradle.org/m2&#39; }</span>
<a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a><span class="w">        </span><span class="n">maven</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">url</span><span class="w"> </span><span class="err">&#39;</span><span class="n">https</span><span class="p">:</span><span class="c1">//jitpack.io&#39; }</span>
<a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a><span class="p">}</span>
</code></pre></div></p>
<p>With older projects, add to the <strong>build.gradle</strong> file at module project
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="n">allprojects</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="w">    </span><span class="n">repositories</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="w">        </span><span class="n">google</span><span class="p">()</span>
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="w">        </span><span class="n">maven</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">url</span><span class="w"> </span><span class="s">&quot;https://jitpack.io&quot;</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="p">}</span>
</code></pre></div>
Upgrade the <strong>compileSdk</strong> and <strong>targetSdk</strong> to version 33
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="n">compileSdk</span><span class="w"> </span><span class="mi">33</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="n">targetSdk</span><span class="w"> </span><span class="mi">33</span>
</code></pre></div></p>
<p>Add the below permission request to the <strong>AndroidManifest.xml</strong> file
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="w">    </span><span class="o">&lt;</span><span class="n">uses</span><span class="o">-</span><span class="n">permission</span><span class="w"> </span><span class="n">android</span><span class="p">:</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;android.permission.VIBRATE&quot;</span><span class="w"> </span><span class="o">/&gt;</span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="w">    </span><span class="o">&lt;</span><span class="n">uses</span><span class="o">-</span><span class="n">permission</span><span class="w"> </span><span class="n">android</span><span class="p">:</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;android.permission.FOREGROUND_SERVICE&quot;</span><span class="w"> </span><span class="o">/&gt;</span>
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="w">    </span><span class="o">&lt;</span><span class="n">uses</span><span class="o">-</span><span class="n">permission</span><span class="w"> </span><span class="n">android</span><span class="p">:</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;android.permission.ACCESS_COARSE_LOCATION&quot;</span><span class="w"> </span><span class="o">/&gt;</span>
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="w">    </span><span class="o">&lt;</span><span class="n">uses</span><span class="o">-</span><span class="n">permission</span><span class="w"> </span><span class="n">android</span><span class="p">:</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;android.permission.ACCESS_FINE_LOCATION&quot;</span><span class="w"> </span><span class="o">/&gt;</span>
</code></pre></div></p>
<h3 id="add-configuration-values-for-project">Add configuration values for project<a class="headerlink" href="#add-configuration-values-for-project" title="Permanent link">&para;</a></h3>
<p>Add below colors to <strong>res/values/colors.xml</strong> file
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="w">    </span><span class="o">&lt;</span><span class="n">color</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;colorPrimary&quot;</span><span class="o">&gt;</span><span class="err">#</span><span class="mf">8D</span><span class="mi">64</span><span class="n">F9</span><span class="o">&lt;/</span><span class="n">color</span><span class="o">&gt;</span>
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="w">    </span><span class="o">&lt;</span><span class="n">color</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;colorPrimaryDark&quot;</span><span class="o">&gt;</span><span class="err">#</span><span class="mi">7845</span><span class="n">F3</span><span class="o">&lt;/</span><span class="n">color</span><span class="o">&gt;</span>
<a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="w">    </span><span class="o">&lt;</span><span class="n">color</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;colorAccent&quot;</span><span class="o">&gt;</span><span class="err">#</span><span class="n">F56FA3</span><span class="o">&lt;/</span><span class="n">color</span><span class="o">&gt;</span>
<a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="w">    </span><span class="o">&lt;</span><span class="n">color</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;red&quot;</span><span class="o">&gt;</span><span class="err">#</span><span class="n">FF0000</span><span class="o">&lt;/</span><span class="n">color</span><span class="o">&gt;</span>
</code></pre></div>
Create <strong>styles.xml</strong> file at <strong>res/values</strong> folder and add the code below
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="o">&lt;?</span><span class="n">xml</span><span class="w"> </span><span class="n">version</span><span class="o">=</span><span class="s">&quot;1.0&quot;</span><span class="w"> </span><span class="n">encoding</span><span class="o">=</span><span class="s">&quot;utf-8&quot;</span><span class="o">?&gt;</span>
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="o">&lt;</span><span class="n">resources</span><span class="o">&gt;</span>
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="w">    </span><span class="o">&lt;</span><span class="n">style</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;CustomNavigationMapRoute&quot;</span><span class="w"> </span><span class="n">parent</span><span class="o">=</span><span class="s">&quot;NavigationMapRoute&quot;</span><span class="o">&gt;</span>
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="w">        </span><span class="o">&lt;</span><span class="n">item</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;upcomingManeuverArrowBorderColor&quot;</span><span class="o">&gt;</span><span class="nd">@color</span><span class="o">/</span><span class="n">red</span><span class="o">&lt;/</span><span class="n">item</span><span class="o">&gt;</span>
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="w">    </span><span class="o">&lt;/</span><span class="n">style</span><span class="o">&gt;</span>
<a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a>
<a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="w">    </span><span class="o">&lt;</span><span class="n">style</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;CustomNavigationView&quot;</span><span class="w"> </span><span class="n">parent</span><span class="o">=</span><span class="s">&quot;NavigationViewLight&quot;</span><span class="o">&gt;</span>
<a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a><span class="w">        </span><span class="o">&lt;</span><span class="n">item</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;navigationViewRouteStyle&quot;</span><span class="o">&gt;</span><span class="nd">@style</span><span class="o">/</span><span class="n">CustomNavigationMapRoute</span><span class="o">&lt;/</span><span class="n">item</span><span class="o">&gt;</span>
<a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a><span class="w">    </span><span class="o">&lt;/</span><span class="n">style</span><span class="o">&gt;</span>
<a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a>
<a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a><span class="w">    </span><span class="o">&lt;</span><span class="n">style</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;customInstructionView&quot;</span><span class="o">&gt;</span>
<a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a><span class="w">        </span><span class="o">&lt;</span><span class="n">item</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;navigationViewLocationLayerStyle&quot;</span><span class="o">&gt;</span><span class="nd">@style</span><span class="o">/</span><span class="n">NavigationLocationLayerStyle</span><span class="o">&lt;/</span><span class="n">item</span><span class="o">&gt;</span>
<a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a><span class="w">        </span><span class="o">&lt;</span><span class="n">item</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;navigationViewRouteOverviewDrawable&quot;</span><span class="o">&gt;</span><span class="nd">@drawable</span><span class="o">/</span><span class="n">ic_route_preview</span><span class="o">&lt;/</span><span class="n">item</span><span class="o">&gt;</span>
<a id="__codelineno-28-14" name="__codelineno-28-14" href="#__codelineno-28-14"></a><span class="w">    </span><span class="o">&lt;/</span><span class="n">style</span><span class="o">&gt;</span>
<a id="__codelineno-28-15" name="__codelineno-28-15" href="#__codelineno-28-15"></a>
<a id="__codelineno-28-16" name="__codelineno-28-16" href="#__codelineno-28-16"></a><span class="w">    </span><span class="o">&lt;</span><span class="n">style</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;CustomInstructionView&quot;</span><span class="w"> </span><span class="n">parent</span><span class="o">=</span><span class="s">&quot;Theme.AppCompat.Light.NoActionBar&quot;</span><span class="o">&gt;</span>
<a id="__codelineno-28-17" name="__codelineno-28-17" href="#__codelineno-28-17"></a><span class="w">        </span><span class="o">&lt;</span><span class="n">item</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;navigationViewPrimary&quot;</span><span class="o">&gt;</span><span class="nd">@color</span><span class="o">/</span><span class="n">vietmap_navigation_view_color_primary</span><span class="o">&lt;/</span><span class="n">item</span><span class="o">&gt;</span>
<a id="__codelineno-28-18" name="__codelineno-28-18" href="#__codelineno-28-18"></a><span class="w">        </span><span class="o">&lt;</span><span class="n">item</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;navigationViewSecondary&quot;</span><span class="o">&gt;</span><span class="nd">@color</span><span class="o">/</span><span class="n">vietmap_navigation_view_color_secondary</span><span class="o">&lt;/</span><span class="n">item</span><span class="o">&gt;</span>
<a id="__codelineno-28-19" name="__codelineno-28-19" href="#__codelineno-28-19"></a><span class="w">        </span><span class="o">&lt;</span><span class="n">item</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;navigationViewAccent&quot;</span><span class="o">&gt;</span><span class="nd">@color</span><span class="o">/</span><span class="n">vietmap_navigation_view_color_accent</span><span class="o">&lt;/</span><span class="n">item</span><span class="o">&gt;</span>
<a id="__codelineno-28-20" name="__codelineno-28-20" href="#__codelineno-28-20"></a><span class="w">        </span><span class="o">&lt;</span><span class="n">item</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;navigationViewPrimaryText&quot;</span><span class="o">&gt;</span><span class="nd">@color</span><span class="o">/</span><span class="n">vietmap_navigation_view_color_secondary</span><span class="o">&lt;/</span><span class="n">item</span><span class="o">&gt;</span>
<a id="__codelineno-28-21" name="__codelineno-28-21" href="#__codelineno-28-21"></a><span class="w">        </span><span class="o">&lt;</span><span class="n">item</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;navigationViewSecondaryText&quot;</span><span class="o">&gt;</span><span class="nd">@color</span><span class="o">/</span><span class="n">vietmap_navigation_view_color_accent_text</span><span class="o">&lt;/</span><span class="n">item</span><span class="o">&gt;</span>
<a id="__codelineno-28-22" name="__codelineno-28-22" href="#__codelineno-28-22"></a><span class="w">        </span><span class="o">&lt;</span><span class="n">item</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;navigationViewDivider&quot;</span><span class="o">&gt;</span><span class="nd">@color</span><span class="o">/</span><span class="n">vietmap_navigation_view_color_divider</span><span class="o">&lt;/</span><span class="n">item</span><span class="o">&gt;</span>
<a id="__codelineno-28-23" name="__codelineno-28-23" href="#__codelineno-28-23"></a>
<a id="__codelineno-28-24" name="__codelineno-28-24" href="#__codelineno-28-24"></a><span class="w">        </span><span class="o">&lt;</span><span class="n">item</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;navigationViewListBackground&quot;</span><span class="o">&gt;</span><span class="nd">@color</span><span class="o">/</span><span class="n">vietmap_navigation_view_color_list_background</span><span class="o">&lt;/</span><span class="n">item</span><span class="o">&gt;</span>
<a id="__codelineno-28-25" name="__codelineno-28-25" href="#__codelineno-28-25"></a>
<a id="__codelineno-28-26" name="__codelineno-28-26" href="#__codelineno-28-26"></a><span class="w">        </span><span class="o">&lt;</span><span class="n">item</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;navigationViewBannerBackground&quot;</span><span class="o">&gt;</span><span class="nd">@color</span><span class="o">/</span><span class="n">vietmap_navigation_view_color_banner_background</span><span class="o">&lt;/</span><span class="n">item</span><span class="o">&gt;</span>
<a id="__codelineno-28-27" name="__codelineno-28-27" href="#__codelineno-28-27"></a><span class="w">        </span><span class="o">&lt;</span><span class="n">item</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;navigationViewBannerPrimaryText&quot;</span><span class="o">&gt;</span><span class="nd">@color</span><span class="o">/</span><span class="n">vietmap_navigation_view_color_banner_primary_text</span><span class="o">&lt;/</span><span class="n">item</span><span class="o">&gt;</span>
<a id="__codelineno-28-28" name="__codelineno-28-28" href="#__codelineno-28-28"></a><span class="w">        </span><span class="o">&lt;</span><span class="n">item</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;navigationViewBannerSecondaryText&quot;</span><span class="o">&gt;</span><span class="nd">@color</span><span class="o">/</span><span class="n">vietmap_navigation_view_color_banner_secondary_text</span><span class="o">&lt;/</span><span class="n">item</span><span class="o">&gt;</span>
<a id="__codelineno-28-29" name="__codelineno-28-29" href="#__codelineno-28-29"></a><span class="w">        </span><span class="o">&lt;</span><span class="n">item</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;navigationViewBannerManeuverPrimary&quot;</span><span class="o">&gt;</span><span class="nd">@color</span><span class="o">/</span><span class="n">vietmap_navigation_view_color_banner_maneuver_primary</span><span class="o">&lt;/</span><span class="n">item</span><span class="o">&gt;</span>
<a id="__codelineno-28-30" name="__codelineno-28-30" href="#__codelineno-28-30"></a><span class="w">        </span><span class="o">&lt;</span><span class="n">item</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;navigationViewBannerManeuverSecondary&quot;</span><span class="o">&gt;</span><span class="nd">@color</span><span class="o">/</span><span class="n">vietmap_navigation_view_color_banner_maneuver_secondary</span><span class="o">&lt;/</span><span class="n">item</span><span class="o">&gt;</span>
<a id="__codelineno-28-31" name="__codelineno-28-31" href="#__codelineno-28-31"></a>
<a id="__codelineno-28-32" name="__codelineno-28-32" href="#__codelineno-28-32"></a><span class="w">        </span><span class="o">&lt;</span><span class="n">item</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;navigationViewProgress&quot;</span><span class="o">&gt;</span><span class="nd">@color</span><span class="o">/</span><span class="n">vietmap_navigation_view_color_progress</span><span class="o">&lt;/</span><span class="n">item</span><span class="o">&gt;</span>
<a id="__codelineno-28-33" name="__codelineno-28-33" href="#__codelineno-28-33"></a><span class="w">        </span><span class="o">&lt;</span><span class="n">item</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;navigationViewProgressBackground&quot;</span><span class="o">&gt;</span><span class="nd">@color</span><span class="o">/</span><span class="n">vietmap_navigation_view_color_progress_background</span><span class="o">&lt;/</span><span class="n">item</span><span class="o">&gt;</span>
<a id="__codelineno-28-34" name="__codelineno-28-34" href="#__codelineno-28-34"></a>
<a id="__codelineno-28-35" name="__codelineno-28-35" href="#__codelineno-28-35"></a><span class="w">        </span><span class="o">&lt;</span><span class="n">item</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;navigationViewRouteStyle&quot;</span><span class="o">&gt;</span><span class="nd">@style</span><span class="o">/</span><span class="n">NavigationMapRoute</span><span class="o">&lt;/</span><span class="n">item</span><span class="o">&gt;</span>
<a id="__codelineno-28-36" name="__codelineno-28-36" href="#__codelineno-28-36"></a>
<a id="__codelineno-28-37" name="__codelineno-28-37" href="#__codelineno-28-37"></a><span class="w">        </span><span class="o">&lt;</span><span class="n">item</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;navigationViewLocationLayerStyle&quot;</span><span class="o">&gt;</span><span class="nd">@style</span><span class="o">/</span><span class="n">mapbox_LocationLayer</span><span class="o">&lt;/</span><span class="n">item</span><span class="o">&gt;</span>
<a id="__codelineno-28-38" name="__codelineno-28-38" href="#__codelineno-28-38"></a>
<a id="__codelineno-28-39" name="__codelineno-28-39" href="#__codelineno-28-39"></a><span class="w">        </span><span class="o">&lt;</span><span class="n">item</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;navigationViewDestinationMarker&quot;</span><span class="o">&gt;</span><span class="nd">@drawable</span><span class="o">/</span><span class="n">map_marker_light</span><span class="o">&lt;/</span><span class="n">item</span><span class="o">&gt;</span>
<a id="__codelineno-28-40" name="__codelineno-28-40" href="#__codelineno-28-40"></a>
<a id="__codelineno-28-41" name="__codelineno-28-41" href="#__codelineno-28-41"></a><span class="w">        </span><span class="o">&lt;</span><span class="n">item</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;navigationViewRouteOverviewDrawable&quot;</span><span class="o">&gt;</span><span class="nd">@drawable</span><span class="o">/</span><span class="n">ic_route_preview</span><span class="o">&lt;/</span><span class="n">item</span><span class="o">&gt;</span>
<a id="__codelineno-28-42" name="__codelineno-28-42" href="#__codelineno-28-42"></a>
<a id="__codelineno-28-43" name="__codelineno-28-43" href="#__codelineno-28-43"></a><span class="w">        </span><span class="o">&lt;</span><span class="n">item</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;navigationViewMapStyle&quot;</span><span class="o">&gt;</span><span class="nd">@string</span><span class="o">/</span><span class="n">navigation_guidance_day</span><span class="o">&lt;/</span><span class="n">item</span><span class="o">&gt;</span>
<a id="__codelineno-28-44" name="__codelineno-28-44" href="#__codelineno-28-44"></a><span class="w">    </span><span class="o">&lt;/</span><span class="n">style</span><span class="o">&gt;</span>
<a id="__codelineno-28-45" name="__codelineno-28-45" href="#__codelineno-28-45"></a>
<a id="__codelineno-28-46" name="__codelineno-28-46" href="#__codelineno-28-46"></a><span class="w">    </span><span class="o">&lt;!--</span><span class="w"> </span><span class="n">Base</span><span class="w"> </span><span class="n">application</span><span class="w"> </span><span class="n">theme</span><span class="p">.</span><span class="w"> </span><span class="o">--&gt;</span>
<a id="__codelineno-28-47" name="__codelineno-28-47" href="#__codelineno-28-47"></a><span class="w">    </span><span class="o">&lt;</span><span class="n">style</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;AppTheme&quot;</span><span class="w"> </span><span class="n">parent</span><span class="o">=</span><span class="s">&quot;Theme.AppCompat.Light.DarkActionBar&quot;</span><span class="o">&gt;</span>
<a id="__codelineno-28-48" name="__codelineno-28-48" href="#__codelineno-28-48"></a><span class="w">        </span><span class="o">&lt;!--</span><span class="w"> </span><span class="n">Customize</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">theme</span><span class="w"> </span><span class="n">here</span><span class="p">.</span><span class="w"> </span><span class="o">--&gt;</span>
<a id="__codelineno-28-49" name="__codelineno-28-49" href="#__codelineno-28-49"></a><span class="w">        </span><span class="o">&lt;</span><span class="n">item</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;colorPrimary&quot;</span><span class="o">&gt;</span><span class="nd">@color</span><span class="o">/</span><span class="n">colorPrimary</span><span class="o">&lt;/</span><span class="n">item</span><span class="o">&gt;</span>
<a id="__codelineno-28-50" name="__codelineno-28-50" href="#__codelineno-28-50"></a><span class="w">        </span><span class="o">&lt;</span><span class="n">item</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;colorPrimaryDark&quot;</span><span class="o">&gt;</span><span class="nd">@color</span><span class="o">/</span><span class="n">colorPrimaryDark</span><span class="o">&lt;/</span><span class="n">item</span><span class="o">&gt;</span>
<a id="__codelineno-28-51" name="__codelineno-28-51" href="#__codelineno-28-51"></a><span class="w">        </span><span class="o">&lt;</span><span class="n">item</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;colorAccent&quot;</span><span class="o">&gt;</span><span class="nd">@color</span><span class="o">/</span><span class="n">colorAccent</span><span class="o">&lt;/</span><span class="n">item</span><span class="o">&gt;</span>
<a id="__codelineno-28-52" name="__codelineno-28-52" href="#__codelineno-28-52"></a><span class="w">    </span><span class="o">&lt;/</span><span class="n">style</span><span class="o">&gt;</span>
<a id="__codelineno-28-53" name="__codelineno-28-53" href="#__codelineno-28-53"></a>
<a id="__codelineno-28-54" name="__codelineno-28-54" href="#__codelineno-28-54"></a><span class="w">    </span><span class="o">&lt;</span><span class="n">style</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;TestNavigationViewDark&quot;</span><span class="w"> </span><span class="n">parent</span><span class="o">=</span><span class="s">&quot;NavigationViewDark&quot;</span><span class="o">&gt;</span>
<a id="__codelineno-28-55" name="__codelineno-28-55" href="#__codelineno-28-55"></a><span class="w">        </span><span class="o">&lt;!--</span><span class="w"> </span><span class="n">Map</span><span class="w"> </span><span class="n">style</span><span class="w"> </span><span class="n">URL</span><span class="w"> </span><span class="o">--&gt;</span>
<a id="__codelineno-28-56" name="__codelineno-28-56" href="#__codelineno-28-56"></a><span class="w">        </span><span class="o">&lt;</span><span class="n">item</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;navigationViewMapStyle&quot;</span><span class="o">&gt;</span>
<a id="__codelineno-28-57" name="__codelineno-28-57" href="#__codelineno-28-57"></a><span class="w">            </span><span class="n">YOUR</span><span class="w"> </span><span class="n">STYLE</span><span class="w"> </span><span class="n">URL</span><span class="w"> </span><span class="n">HERE</span>
<a id="__codelineno-28-58" name="__codelineno-28-58" href="#__codelineno-28-58"></a><span class="w">        </span><span class="o">&lt;/</span><span class="n">item</span><span class="o">&gt;</span>
<a id="__codelineno-28-59" name="__codelineno-28-59" href="#__codelineno-28-59"></a><span class="w">    </span><span class="o">&lt;/</span><span class="n">style</span><span class="o">&gt;</span>
<a id="__codelineno-28-60" name="__codelineno-28-60" href="#__codelineno-28-60"></a>
<a id="__codelineno-28-61" name="__codelineno-28-61" href="#__codelineno-28-61"></a><span class="w">    </span><span class="o">&lt;</span><span class="n">style</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;TestNavigationViewLight&quot;</span><span class="w"> </span><span class="n">parent</span><span class="o">=</span><span class="s">&quot;NavigationViewLight&quot;</span><span class="o">&gt;</span>
<a id="__codelineno-28-62" name="__codelineno-28-62" href="#__codelineno-28-62"></a><span class="w">        </span><span class="o">&lt;!--</span><span class="w"> </span><span class="n">Map</span><span class="w"> </span><span class="n">style</span><span class="w"> </span><span class="n">URL</span><span class="w"> </span><span class="o">--&gt;</span>
<a id="__codelineno-28-63" name="__codelineno-28-63" href="#__codelineno-28-63"></a><span class="w">        </span><span class="o">&lt;</span><span class="n">item</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;navigationViewMapStyle&quot;</span><span class="o">&gt;</span>
<a id="__codelineno-28-64" name="__codelineno-28-64" href="#__codelineno-28-64"></a><span class="w">            </span><span class="n">YOUR</span><span class="w"> </span><span class="n">STYLE</span><span class="w"> </span><span class="n">URL</span><span class="w"> </span><span class="n">HERE</span>
<a id="__codelineno-28-65" name="__codelineno-28-65" href="#__codelineno-28-65"></a><span class="w">        </span><span class="o">&lt;/</span><span class="n">item</span><span class="o">&gt;</span>
<a id="__codelineno-28-66" name="__codelineno-28-66" href="#__codelineno-28-66"></a><span class="w">    </span><span class="o">&lt;/</span><span class="n">style</span><span class="o">&gt;</span>
<a id="__codelineno-28-67" name="__codelineno-28-67" href="#__codelineno-28-67"></a>
<a id="__codelineno-28-68" name="__codelineno-28-68" href="#__codelineno-28-68"></a><span class="w">    </span><span class="o">&lt;</span><span class="n">style</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;progressBarBlue&quot;</span><span class="w"> </span><span class="n">parent</span><span class="o">=</span><span class="s">&quot;@style/Theme.AppCompat&quot;</span><span class="o">&gt;</span>
<a id="__codelineno-28-69" name="__codelineno-28-69" href="#__codelineno-28-69"></a><span class="w">        </span><span class="o">&lt;</span><span class="n">item</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;colorAccent&quot;</span><span class="o">&gt;</span><span class="nd">@color</span><span class="o">/</span><span class="n">blue</span><span class="o">&lt;/</span><span class="n">item</span><span class="o">&gt;</span>
<a id="__codelineno-28-70" name="__codelineno-28-70" href="#__codelineno-28-70"></a><span class="w">    </span><span class="o">&lt;/</span><span class="n">style</span><span class="o">&gt;</span>
<a id="__codelineno-28-71" name="__codelineno-28-71" href="#__codelineno-28-71"></a><span class="o">&lt;/</span><span class="n">resources</span><span class="o">&gt;</span>
</code></pre></div></p>
<p>Add the code below to <strong>string.xml</strong> file
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="o">&lt;</span><span class="n">resources</span><span class="o">&gt;</span>
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;app_name&quot;</span><span class="o">&gt;</span><span class="n">VietMap</span><span class="w"> </span><span class="n">Navigation</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a>
<a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;title_mock_navigation&quot;</span><span class="o">&gt;</span><span class="n">Mock</span><span class="w"> </span><span class="n">Navigation</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;description_mock_navigation&quot;</span><span class="o">&gt;</span><span class="n">Mock</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">navigation</span><span class="w"> </span><span class="n">session</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">mock</span><span class="w"> </span><span class="n">location</span><span class="w"> </span><span class="n">provider</span><span class="p">.</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a>
<a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;title_off_route_detection&quot;</span><span class="o">&gt;</span><span class="n">Off</span><span class="o">-</span><span class="n">route</span><span class="w"> </span><span class="n">detection</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;description_off_route_detection&quot;</span><span class="o">&gt;</span><span class="n">Use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">RouteUtils</span><span class="w"> </span><span class="kd">class</span> <span class="nc">to</span><span class="w"> </span><span class="n">detect</span><span class="w"> </span><span class="n">when</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">gone</span><span class="w"> </span><span class="n">off</span><span class="o">-</span><span class="n">route</span><span class="p">.</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a>
<a id="__codelineno-29-10" name="__codelineno-29-10" href="#__codelineno-29-10"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;title_reroute&quot;</span><span class="o">&gt;</span><span class="n">Reroute</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-11" name="__codelineno-29-11" href="#__codelineno-29-11"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;description_reroute&quot;</span><span class="o">&gt;</span><span class="n">Try</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">reroute</span><span class="w"> </span><span class="n">feature</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">Navigation</span><span class="w"> </span><span class="n">SDK</span><span class="p">.</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-12" name="__codelineno-29-12" href="#__codelineno-29-12"></a>
<a id="__codelineno-29-13" name="__codelineno-29-13" href="#__codelineno-29-13"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;title_navigation_route_ui&quot;</span><span class="o">&gt;</span><span class="n">Navigation</span><span class="w"> </span><span class="n">Route</span><span class="w"> </span><span class="n">UI</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-14" name="__codelineno-29-14" href="#__codelineno-29-14"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;description_navigation_route_ui&quot;</span><span class="o">&gt;</span><span class="n">Draw</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">route</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">map</span><span class="p">.</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-15" name="__codelineno-29-15" href="#__codelineno-29-15"></a>
<a id="__codelineno-29-16" name="__codelineno-29-16" href="#__codelineno-29-16"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;title_navigation_launcher&quot;</span><span class="o">&gt;</span><span class="n">Navigation</span><span class="w"> </span><span class="n">Launcher</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-17" name="__codelineno-29-17" href="#__codelineno-29-17"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;description_navigation_launcher&quot;</span><span class="o">&gt;</span><span class="n">An</span><span class="w"> </span><span class="n">interactive</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="n">experience</span><span class="p">.</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-18" name="__codelineno-29-18" href="#__codelineno-29-18"></a>
<a id="__codelineno-29-19" name="__codelineno-29-19" href="#__codelineno-29-19"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;title_end_navigation&quot;</span><span class="o">&gt;</span><span class="n">End</span><span class="w"> </span><span class="n">Navigation</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-20" name="__codelineno-29-20" href="#__codelineno-29-20"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;description_end_navigation&quot;</span><span class="o">&gt;</span><span class="n">Show</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">end</span><span class="w"> </span><span class="n">navigation</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">NavigationView</span><span class="p">.</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-21" name="__codelineno-29-21" href="#__codelineno-29-21"></a>
<a id="__codelineno-29-22" name="__codelineno-29-22" href="#__codelineno-29-22"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;title_dual_navigation_map&quot;</span><span class="o">&gt;</span><span class="n">Dual</span><span class="w"> </span><span class="n">Navigation</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-23" name="__codelineno-29-23" href="#__codelineno-29-23"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;description_dual_navigation_map&quot;</span><span class="o">&gt;</span><span class="n">Show</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">NavigationView</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">MapView</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">layout</span><span class="p">.</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-24" name="__codelineno-29-24" href="#__codelineno-29-24"></a>
<a id="__codelineno-29-25" name="__codelineno-29-25" href="#__codelineno-29-25"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;title_waypoint_navigation&quot;</span><span class="o">&gt;</span><span class="n">Waypoint</span><span class="w"> </span><span class="n">Navigation</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-26" name="__codelineno-29-26" href="#__codelineno-29-26"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;description_waypoint_navigation&quot;</span><span class="o">&gt;</span><span class="n">Navigate</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">waypoints</span><span class="p">.</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-27" name="__codelineno-29-27" href="#__codelineno-29-27"></a>
<a id="__codelineno-29-28" name="__codelineno-29-28" href="#__codelineno-29-28"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;title_embedded_navigation&quot;</span><span class="o">&gt;</span><span class="n">Embedded</span><span class="w"> </span><span class="n">Navigation</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-29" name="__codelineno-29-29" href="#__codelineno-29-29"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;description_embedded_navigation&quot;</span><span class="o">&gt;</span><span class="n">Navigation</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">view</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">contains</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">views</span><span class="p">.</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-30" name="__codelineno-29-30" href="#__codelineno-29-30"></a>
<a id="__codelineno-29-31" name="__codelineno-29-31" href="#__codelineno-29-31"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;title_fragment_navigation&quot;</span><span class="o">&gt;</span><span class="n">NavigationView</span><span class="w"> </span><span class="n">implemented</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">Fragment</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-32" name="__codelineno-29-32" href="#__codelineno-29-32"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;description_fragment_navigation&quot;</span><span class="o">&gt;</span><span class="n">NavigationView</span><span class="w"> </span><span class="n">implemented</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">Fragment</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-33" name="__codelineno-29-33" href="#__codelineno-29-33"></a>
<a id="__codelineno-29-34" name="__codelineno-29-34" href="#__codelineno-29-34"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;settings&quot;</span><span class="o">&gt;</span><span class="n">Settings</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-35" name="__codelineno-29-35" href="#__codelineno-29-35"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;simulate_route&quot;</span><span class="o">&gt;</span><span class="n">Simulate</span><span class="w"> </span><span class="n">Route</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-36" name="__codelineno-29-36" href="#__codelineno-29-36"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;language&quot;</span><span class="o">&gt;</span><span class="n">Language</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-37" name="__codelineno-29-37" href="#__codelineno-29-37"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;unit_type&quot;</span><span class="o">&gt;</span><span class="n">Unit</span><span class="w"> </span><span class="n">type</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-38" name="__codelineno-29-38" href="#__codelineno-29-38"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;route_profile&quot;</span><span class="o">&gt;</span><span class="n">Route</span><span class="w"> </span><span class="n">profile</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-39" name="__codelineno-29-39" href="#__codelineno-29-39"></a>
<a id="__codelineno-29-40" name="__codelineno-29-40" href="#__codelineno-29-40"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;error_route_not_available&quot;</span><span class="o">&gt;</span><span class="n">The</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">route</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">available</span><span class="p">.</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-41" name="__codelineno-29-41" href="#__codelineno-29-41"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;error_select_longer_route&quot;</span><span class="o">&gt;</span><span class="n">Please</span><span class="w"> </span><span class="n">select</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">longer</span><span class="w"> </span><span class="n">route</span><span class="p">.</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-42" name="__codelineno-29-42" href="#__codelineno-29-42"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;error_valid_route_not_found&quot;</span><span class="o">&gt;</span><span class="n">No</span><span class="w"> </span><span class="n">valid</span><span class="w"> </span><span class="n">route</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">found</span><span class="p">.</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-43" name="__codelineno-29-43" href="#__codelineno-29-43"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;explanation_long_press_waypoint&quot;</span><span class="o">&gt;</span><span class="n">Long</span><span class="w"> </span><span class="n">press</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">drop</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">waypoint</span><span class="w"> </span><span class="n">pin</span><span class="p">.</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-44" name="__codelineno-29-44" href="#__codelineno-29-44"></a>
<a id="__codelineno-29-45" name="__codelineno-29-45" href="#__codelineno-29-45"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;title_navigation_ui&quot;</span><span class="o">&gt;</span><span class="n">Navigation</span><span class="w"> </span><span class="n">UI</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-46" name="__codelineno-29-46" href="#__codelineno-29-46"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;description_navigation_ui&quot;</span><span class="o">&gt;</span><span class="n">Showcase</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">Navigation</span><span class="w"> </span><span class="n">UI</span><span class="w"> </span><span class="n">session</span><span class="p">.</span><span class="w"> </span><span class="n">Optional</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">simulation</span><span class="p">.</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-47" name="__codelineno-29-47" href="#__codelineno-29-47"></a>
<a id="__codelineno-29-48" name="__codelineno-29-48" href="#__codelineno-29-48"></a>
<a id="__codelineno-29-49" name="__codelineno-29-49" href="#__codelineno-29-49"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;title_component_navigation&quot;</span><span class="o">&gt;</span><span class="n">VietMapNavigation</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">UI</span><span class="w"> </span><span class="n">components</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-50" name="__codelineno-29-50" href="#__codelineno-29-50"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;description_component_navigation&quot;</span><span class="o">&gt;</span><span class="n">VietMapNavigation</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">UI</span><span class="w"> </span><span class="n">components</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-51" name="__codelineno-29-51" href="#__codelineno-29-51"></a>
<a id="__codelineno-29-52" name="__codelineno-29-52" href="#__codelineno-29-52"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;unit_type_key&quot;</span><span class="w"> </span><span class="n">translatable</span><span class="o">=</span><span class="s">&quot;false&quot;</span><span class="o">&gt;</span><span class="n">unit_type</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-53" name="__codelineno-29-53" href="#__codelineno-29-53"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;simulate_route_key&quot;</span><span class="w"> </span><span class="n">translatable</span><span class="o">=</span><span class="s">&quot;false&quot;</span><span class="o">&gt;</span><span class="n">simulate_route</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-54" name="__codelineno-29-54" href="#__codelineno-29-54"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;language_key&quot;</span><span class="w"> </span><span class="n">translatable</span><span class="o">=</span><span class="s">&quot;false&quot;</span><span class="o">&gt;</span><span class="n">language</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-55" name="__codelineno-29-55" href="#__codelineno-29-55"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;route_profile_key&quot;</span><span class="w"> </span><span class="n">translatable</span><span class="o">=</span><span class="s">&quot;false&quot;</span><span class="o">&gt;</span><span class="n">route_profile</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-56" name="__codelineno-29-56" href="#__codelineno-29-56"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;default_locale&quot;</span><span class="w"> </span><span class="n">translatable</span><span class="o">=</span><span class="s">&quot;false&quot;</span><span class="o">&gt;</span><span class="n">default_for_device</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-57" name="__codelineno-29-57" href="#__codelineno-29-57"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;default_unit_type&quot;</span><span class="w"> </span><span class="n">translatable</span><span class="o">=</span><span class="s">&quot;false&quot;</span><span class="o">&gt;</span><span class="n">default_for_device</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-58" name="__codelineno-29-58" href="#__codelineno-29-58"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;current_night_mode&quot;</span><span class="w"> </span><span class="n">translatable</span><span class="o">=</span><span class="s">&quot;false&quot;</span><span class="o">&gt;</span><span class="n">current_night_mode</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-59" name="__codelineno-29-59" href="#__codelineno-29-59"></a>
<a id="__codelineno-29-60" name="__codelineno-29-60" href="#__codelineno-29-60"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;new_location&quot;</span><span class="o">&gt;</span><span class="n">Latitude</span><span class="p">:</span><span class="w"> </span><span class="o">%</span><span class="mi">1</span><span class="n">$s</span><span class="w"> </span><span class="n">Longitude</span><span class="p">:</span><span class="w"> </span><span class="o">%</span><span class="mi">2</span><span class="n">$s</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-61" name="__codelineno-29-61" href="#__codelineno-29-61"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;map_view_style_url&quot;</span><span class="w"> </span><span class="n">translatable</span><span class="o">=</span><span class="s">&quot;false&quot;</span><span class="o">&gt;</span><span class="n">YOUR_STYLE_URL_HERE</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-62" name="__codelineno-29-62" href="#__codelineno-29-62"></a>
<a id="__codelineno-29-63" name="__codelineno-29-63" href="#__codelineno-29-63"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;user_location_permission_explanation&quot;</span><span class="o">&gt;</span><span class="n">This</span><span class="w"> </span><span class="n">app</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="n">location</span><span class="w"> </span><span class="n">permission</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">correctly</span><span class="p">.</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
<a id="__codelineno-29-64" name="__codelineno-29-64" href="#__codelineno-29-64"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;user_location_permission_not_granted&quot;</span><span class="o">&gt;</span><span class="n">You</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">granted</span>
<a id="__codelineno-29-65" name="__codelineno-29-65" href="#__codelineno-29-65"></a><span class="o">&lt;</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;tts_guide&quot;</span><span class="o">&gt;</span><span class="n">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">app</span><span class="w"> </span><span class="n">doesn</span><span class="err">&#39;</span><span class="n">t</span><span class="w"> </span><span class="n">provide</span><span class="w"> </span><span class="n">voice</span><span class="o">-</span><span class="n">guided</span><span class="w"> </span><span class="n">navigation</span><span class="p">,</span><span class="w"> </span><span class="n">please</span><span class="w"> </span><span class="n">press</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="n">button</span><span class="w"> </span><span class="n">below</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">choose</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">text</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">speech</span><span class="w"> </span><span class="n">tool</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">Google</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">convert</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="n">into</span><span class="w"> </span><span class="n">speech</span><span class="p">,</span><span class="w"> </span><span class="n">then</span><span class="w"> </span><span class="k">try</span><span class="w"> </span><span class="n">again</span><span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>
</code></pre></div></p>
<p><strong>NOTE</strong>: Need to add styleUrl in position YOUR_STYLE_URL_HERE for key map_view_style_url to run navigation</p>
<h3 id="create-a-navigation-activity">Create a navigation activity<a class="headerlink" href="#create-a-navigation-activity" title="Permanent link">&para;</a></h3>
<p>Create new <strong>VietMapNavigationActivity</strong>
Add the code below to xml file of created <strong>activity</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="o">&lt;?</span><span class="n">xml</span><span class="w"> </span><span class="n">version</span><span class="o">=</span><span class="s">&quot;1.0&quot;</span><span class="w"> </span><span class="n">encoding</span><span class="o">=</span><span class="s">&quot;utf-8&quot;</span><span class="o">?&gt;</span>
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="o">&lt;</span><span class="n">androidx</span><span class="p">.</span><span class="na">constraintlayout</span><span class="p">.</span><span class="na">widget</span><span class="p">.</span><span class="na">ConstraintLayout</span>
<a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="w">    </span><span class="n">xmlns</span><span class="p">:</span><span class="n">android</span><span class="o">=</span><span class="s">&quot;http://schemas.android.com/apk/res/android&quot;</span>
<a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="w">    </span><span class="n">xmlns</span><span class="p">:</span><span class="n">app</span><span class="o">=</span><span class="s">&quot;http://schemas.android.com/apk/res-auto&quot;</span>
<a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="w">    </span><span class="n">android</span><span class="p">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">&quot;match_parent&quot;</span>
<a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a><span class="w">    </span><span class="n">android</span><span class="p">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">&quot;match_parent&quot;</span>
<a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a><span class="w">    </span><span class="n">android</span><span class="p">:</span><span class="n">id</span><span class="o">=</span><span class="s">&quot;@+id/vietmapNavigation&quot;</span><span class="o">&gt;</span>
<a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a>
<a id="__codelineno-30-9" name="__codelineno-30-9" href="#__codelineno-30-9"></a><span class="w">    </span><span class="o">&lt;</span><span class="n">vn</span><span class="p">.</span><span class="na">vietmap</span><span class="p">.</span><span class="na">services</span><span class="p">.</span><span class="na">android</span><span class="p">.</span><span class="na">navigation</span><span class="p">.</span><span class="na">ui</span><span class="p">.</span><span class="na">v5</span><span class="p">.</span><span class="na">NavigationView</span>
<a id="__codelineno-30-10" name="__codelineno-30-10" href="#__codelineno-30-10"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">id</span><span class="o">=</span><span class="s">&quot;@+id/navigationView&quot;</span>
<a id="__codelineno-30-11" name="__codelineno-30-11" href="#__codelineno-30-11"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">&quot;match_parent&quot;</span>
<a id="__codelineno-30-12" name="__codelineno-30-12" href="#__codelineno-30-12"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">&quot;0dp&quot;</span>
<a id="__codelineno-30-13" name="__codelineno-30-13" href="#__codelineno-30-13"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">visibility</span><span class="o">=</span><span class="s">&quot;invisible&quot;</span>
<a id="__codelineno-30-14" name="__codelineno-30-14" href="#__codelineno-30-14"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">maplibre_cameraZoom</span><span class="o">=</span><span class="s">&quot;16&quot;</span>
<a id="__codelineno-30-15" name="__codelineno-30-15" href="#__codelineno-30-15"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintHeight_percent</span><span class="o">=</span><span class="s">&quot;0.5&quot;</span>
<a id="__codelineno-30-16" name="__codelineno-30-16" href="#__codelineno-30-16"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintTop_toTopOf</span><span class="o">=</span><span class="s">&quot;parent&quot;</span>
<a id="__codelineno-30-17" name="__codelineno-30-17" href="#__codelineno-30-17"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">navigationDarkTheme</span><span class="o">=</span><span class="s">&quot;@style/NavigationViewDark&quot;</span>
<a id="__codelineno-30-18" name="__codelineno-30-18" href="#__codelineno-30-18"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">navigationLightTheme</span><span class="o">=</span><span class="s">&quot;@style/NavigationViewLight&quot;</span><span class="o">/&gt;</span>
<a id="__codelineno-30-19" name="__codelineno-30-19" href="#__codelineno-30-19"></a>
<a id="__codelineno-30-20" name="__codelineno-30-20" href="#__codelineno-30-20"></a><span class="w">    </span><span class="o">&lt;</span><span class="n">vn</span><span class="p">.</span><span class="na">vietmap</span><span class="p">.</span><span class="na">vietmapsdk</span><span class="p">.</span><span class="na">maps</span><span class="p">.</span><span class="na">MapView</span>
<a id="__codelineno-30-21" name="__codelineno-30-21" href="#__codelineno-30-21"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">id</span><span class="o">=</span><span class="s">&quot;@+id/mapView&quot;</span>
<a id="__codelineno-30-22" name="__codelineno-30-22" href="#__codelineno-30-22"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">&quot;match_parent&quot;</span>
<a id="__codelineno-30-23" name="__codelineno-30-23" href="#__codelineno-30-23"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">&quot;0dp&quot;</span>
<a id="__codelineno-30-24" name="__codelineno-30-24" href="#__codelineno-30-24"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">maplibre_cameraZoom</span><span class="o">=</span><span class="s">&quot;16&quot;</span>
<a id="__codelineno-30-25" name="__codelineno-30-25" href="#__codelineno-30-25"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">visibility</span><span class="o">=</span><span class="s">&quot;visible&quot;</span>
<a id="__codelineno-30-26" name="__codelineno-30-26" href="#__codelineno-30-26"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintTop_toTopOf</span><span class="o">=</span><span class="s">&quot;parent&quot;</span>
<a id="__codelineno-30-27" name="__codelineno-30-27" href="#__codelineno-30-27"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintBottom_toBottomOf</span><span class="o">=</span><span class="s">&quot;parent&quot;</span>
<a id="__codelineno-30-28" name="__codelineno-30-28" href="#__codelineno-30-28"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintHeight_percent</span><span class="o">=</span><span class="s">&quot;1&quot;</span><span class="o">/&gt;</span>
<a id="__codelineno-30-29" name="__codelineno-30-29" href="#__codelineno-30-29"></a>
<a id="__codelineno-30-30" name="__codelineno-30-30" href="#__codelineno-30-30"></a><span class="w">    </span><span class="o">&lt;</span><span class="n">ProgressBar</span>
<a id="__codelineno-30-31" name="__codelineno-30-31" href="#__codelineno-30-31"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">id</span><span class="o">=</span><span class="s">&quot;@+id/loading&quot;</span>
<a id="__codelineno-30-32" name="__codelineno-30-32" href="#__codelineno-30-32"></a><span class="w">        </span><span class="n">style</span><span class="o">=</span><span class="s">&quot;?android:attr/progressBarStyle&quot;</span>
<a id="__codelineno-30-33" name="__codelineno-30-33" href="#__codelineno-30-33"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">&quot;wrap_content&quot;</span>
<a id="__codelineno-30-34" name="__codelineno-30-34" href="#__codelineno-30-34"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">&quot;wrap_content&quot;</span>
<a id="__codelineno-30-35" name="__codelineno-30-35" href="#__codelineno-30-35"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">indeterminate</span><span class="o">=</span><span class="s">&quot;true&quot;</span>
<a id="__codelineno-30-36" name="__codelineno-30-36" href="#__codelineno-30-36"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">visibility</span><span class="o">=</span><span class="s">&quot;invisible&quot;</span>
<a id="__codelineno-30-37" name="__codelineno-30-37" href="#__codelineno-30-37"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintBottom_toBottomOf</span><span class="o">=</span><span class="s">&quot;parent&quot;</span>
<a id="__codelineno-30-38" name="__codelineno-30-38" href="#__codelineno-30-38"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintEnd_toEndOf</span><span class="o">=</span><span class="s">&quot;parent&quot;</span>
<a id="__codelineno-30-39" name="__codelineno-30-39" href="#__codelineno-30-39"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintStart_toStartOf</span><span class="o">=</span><span class="s">&quot;parent&quot;</span>
<a id="__codelineno-30-40" name="__codelineno-30-40" href="#__codelineno-30-40"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintTop_toTopOf</span><span class="o">=</span><span class="s">&quot;parent&quot;</span><span class="o">/&gt;</span>
<a id="__codelineno-30-41" name="__codelineno-30-41" href="#__codelineno-30-41"></a>
<a id="__codelineno-30-42" name="__codelineno-30-42" href="#__codelineno-30-42"></a><span class="w">    </span><span class="o">&lt;</span><span class="n">com</span><span class="p">.</span><span class="na">google</span><span class="p">.</span><span class="na">android</span><span class="p">.</span><span class="na">material</span><span class="p">.</span><span class="na">floatingactionbutton</span><span class="p">.</span><span class="na">FloatingActionButton</span>
<a id="__codelineno-30-43" name="__codelineno-30-43" href="#__codelineno-30-43"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">id</span><span class="o">=</span><span class="s">&quot;@+id/launchNavigation&quot;</span>
<a id="__codelineno-30-44" name="__codelineno-30-44" href="#__codelineno-30-44"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">&quot;wrap_content&quot;</span>
<a id="__codelineno-30-45" name="__codelineno-30-45" href="#__codelineno-30-45"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">&quot;wrap_content&quot;</span>
<a id="__codelineno-30-46" name="__codelineno-30-46" href="#__codelineno-30-46"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">layout_marginBottom</span><span class="o">=</span><span class="s">&quot;16dp&quot;</span>
<a id="__codelineno-30-47" name="__codelineno-30-47" href="#__codelineno-30-47"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">layout_marginEnd</span><span class="o">=</span><span class="s">&quot;16dp&quot;</span>
<a id="__codelineno-30-48" name="__codelineno-30-48" href="#__codelineno-30-48"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">layout_marginRight</span><span class="o">=</span><span class="s">&quot;16dp&quot;</span>
<a id="__codelineno-30-49" name="__codelineno-30-49" href="#__codelineno-30-49"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">src</span><span class="o">=</span><span class="s">&quot;@drawable/ic_navigation&quot;</span>
<a id="__codelineno-30-50" name="__codelineno-30-50" href="#__codelineno-30-50"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">tint</span><span class="o">=</span><span class="s">&quot;@android:color/white&quot;</span>
<a id="__codelineno-30-51" name="__codelineno-30-51" href="#__codelineno-30-51"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">visibility</span><span class="o">=</span><span class="s">&quot;invisible&quot;</span>
<a id="__codelineno-30-52" name="__codelineno-30-52" href="#__codelineno-30-52"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">backgroundTint</span><span class="o">=</span><span class="s">&quot;@color/colorPrimary&quot;</span>
<a id="__codelineno-30-53" name="__codelineno-30-53" href="#__codelineno-30-53"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintBottom_toBottomOf</span><span class="o">=</span><span class="s">&quot;parent&quot;</span>
<a id="__codelineno-30-54" name="__codelineno-30-54" href="#__codelineno-30-54"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintEnd_toEndOf</span><span class="o">=</span><span class="s">&quot;parent&quot;</span><span class="o">/&gt;</span>
<a id="__codelineno-30-55" name="__codelineno-30-55" href="#__codelineno-30-55"></a><span class="o">&lt;/</span><span class="n">androidx</span><span class="p">.</span><span class="na">constraintlayout</span><span class="p">.</span><span class="na">widget</span><span class="p">.</span><span class="na">ConstraintLayout</span><span class="o">&gt;</span>
</code></pre></div></p>
<p><strong>Activity</strong> needs to implement some of the following <strong>Listener</strong> classes to catch user events, navigation event and process them.
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">VietMapNavigationActivity</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">AppCompatActivity</span>
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="w">        </span><span class="kd">implements</span><span class="w"> </span><span class="n">OnNavigationReadyCallback</span><span class="p">,</span>
<a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="w">        </span><span class="n">ProgressChangeListener</span><span class="p">,</span><span class="w"> </span><span class="n">OnMapReadyCallback</span><span class="p">,</span>
<a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="w">        </span><span class="n">NavigationListener</span><span class="p">,</span><span class="w"> </span><span class="n">Callback</span><span class="o">&lt;</span><span class="n">DirectionsResponse</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a><span class="w">        </span><span class="n">VietMapGL</span><span class="p">.</span><span class="na">OnMapClickListener</span><span class="p">,</span><span class="w"> </span><span class="n">VietMapGL</span><span class="p">.</span><span class="na">OnMapLongClickListener</span><span class="p">,</span>
<a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a><span class="w">        </span><span class="n">VietMapGL</span><span class="p">.</span><span class="na">OnMoveListener</span><span class="p">,</span><span class="w"> </span><span class="n">OnRouteSelectionChangeListener</span><span class="p">,</span>
<a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a><span class="w">        </span><span class="n">OffRouteListener</span><span class="p">,</span><span class="w"> </span><span class="n">RouteListener</span><span class="p">,</span><span class="w"> </span><span class="n">NavigationEventListener</span>
<a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a><span class="p">{</span>
<a id="__codelineno-31-9" name="__codelineno-31-9" href="#__codelineno-31-9"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-31-10" name="__codelineno-31-10" href="#__codelineno-31-10"></a><span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onCreate</span><span class="p">(</span><span class="n">Bundle</span><span class="w"> </span><span class="n">savedInstanceState</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-31-11" name="__codelineno-31-11" href="#__codelineno-31-11"></a><span class="w">        </span><span class="n">Vietmap</span><span class="p">.</span><span class="na">getInstance</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<a id="__codelineno-31-12" name="__codelineno-31-12" href="#__codelineno-31-12"></a><span class="w">        </span><span class="kd">super</span><span class="p">.</span><span class="na">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span>
<a id="__codelineno-31-13" name="__codelineno-31-13" href="#__codelineno-31-13"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-31-14" name="__codelineno-31-14" href="#__codelineno-31-14"></a><span class="p">}</span>
</code></pre></div></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a>* OnNavigationReadyCallback: Listens when the SDK starts navigation.
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a>* ProgressChangeListener(location, routeProgress): Continuously listens to the user&#39;s current location, current route information, next route, and remaining distance that the user needs to travel.
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a>* NavigationListener: Includes three functions:
<a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a>* onCancelNavigation: Listens when the user cancels the navigation.
<a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a>* onNavigationFinished: Listens when the user completes the journey.
<a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a>* onNavigationRunning: Listens when the user is actively navigating.
<a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a>* Callback(DirectionsResponse): Returns the result when the getRoute operation is completed.
<a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a>* OnMapReadyCallback: Listens when the map initialization is completed and applies the style to the map.
<a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a>* MapboxMap.OnMapClickListener, MapboxMap.OnMapLongClickListener, MapboxMap.OnMoveListener: Listen to map events such as click, long click, and move.
<a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a>* OnRouteSelectionChangeListener(DirectionsRoute newRouteSelected):
<a id="__codelineno-32-11" name="__codelineno-32-11" href="#__codelineno-32-11"></a>* onNewPrimaryRouteSelected: Listens when the user selects a different route from the current route and returns the newly selected route.
<a id="__codelineno-32-12" name="__codelineno-32-12" href="#__codelineno-32-12"></a>* OffRouteListener: Listens when the user deviates from the intended route and needs to find an alternative route based on the user&#39;s current location.
<a id="__codelineno-32-13" name="__codelineno-32-13" href="#__codelineno-32-13"></a>* userOffRoute(Location currentLocation): Called when the user deviates from the intended route, providing the current location to find a new route.
<a id="__codelineno-32-14" name="__codelineno-32-14" href="#__codelineno-32-14"></a>* RouteListener: Listens when the user arrives at the destination.
<a id="__codelineno-32-15" name="__codelineno-32-15" href="#__codelineno-32-15"></a>* onArrival(): Called when the user reaches the destination.
</code></pre></div>
<p><strong>Define necessary variables</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">DEFAULT_CAMERA_ZOOM</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">18</span><span class="p">;</span>
<a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">ConstraintLayout</span><span class="w"> </span><span class="n">customUINavigation</span><span class="p">;</span>
<a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">NavigationView</span><span class="w"> </span><span class="n">navigationView</span><span class="p">;</span>
<a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">MapView</span><span class="w"> </span><span class="n">mapView</span><span class="p">;</span>
<a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">ProgressBar</span><span class="w"> </span><span class="n">loading</span><span class="p">;</span>
<a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">FloatingActionButton</span><span class="w"> </span><span class="n">launchNavigationFab</span><span class="p">;</span>
<a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Point</span><span class="w"> </span><span class="n">origin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Point</span><span class="p">.</span><span class="na">fromLngLat</span><span class="p">(</span><span class="mf">106.675789</span><span class="p">,</span><span class="w"> </span><span class="mf">10.759050</span><span class="p">);</span>
<a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Point</span><span class="w"> </span><span class="n">destination</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Point</span><span class="p">.</span><span class="na">fromLngLat</span><span class="p">(</span><span class="mf">106.686777</span><span class="p">,</span><span class="w"> </span><span class="mf">10.775056</span><span class="p">);</span>
<a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">DirectionsRoute</span><span class="w"> </span><span class="n">route</span><span class="p">;</span>
<a id="__codelineno-33-10" name="__codelineno-33-10" href="#__codelineno-33-10"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="n">isNavigationRunning</span><span class="p">;</span>
<a id="__codelineno-33-11" name="__codelineno-33-11" href="#__codelineno-33-11"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">VietmapNavigation</span><span class="w"> </span><span class="n">vietmapNavigation</span><span class="p">;</span>
<a id="__codelineno-33-12" name="__codelineno-33-12" href="#__codelineno-33-12"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocationEngine</span><span class="w"> </span><span class="n">locationEngine</span><span class="p">;</span>
<a id="__codelineno-33-13" name="__codelineno-33-13" href="#__codelineno-33-13"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">NavigationMapRoute</span><span class="w"> </span><span class="n">mapRoute</span><span class="p">;</span>
<a id="__codelineno-33-14" name="__codelineno-33-14" href="#__codelineno-33-14"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">VietMapGL</span><span class="w"> </span><span class="n">vietmapGL</span><span class="p">;</span>
<a id="__codelineno-33-15" name="__codelineno-33-15" href="#__codelineno-33-15"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">ConstraintSet</span><span class="w"> </span><span class="n">navigationMapConstraint</span><span class="p">;</span>
<a id="__codelineno-33-16" name="__codelineno-33-16" href="#__codelineno-33-16"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">ConstraintSet</span><span class="w"> </span><span class="n">navigationMapExpandedConstraint</span><span class="p">;</span>
<a id="__codelineno-33-17" name="__codelineno-33-17" href="#__codelineno-33-17"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">boolean</span><span class="o">[]</span><span class="w"> </span><span class="n">constraintChanged</span><span class="p">;</span>
<a id="__codelineno-33-18" name="__codelineno-33-18" href="#__codelineno-33-18"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocationComponent</span><span class="w"> </span><span class="n">locationComponent</span><span class="p">;</span>
<a id="__codelineno-33-19" name="__codelineno-33-19" href="#__codelineno-33-19"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">ReplayRouteLocationEngine</span><span class="w"> </span><span class="n">mockLocationEngine</span><span class="p">;</span>
<a id="__codelineno-33-20" name="__codelineno-33-20" href="#__codelineno-33-20"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">FusedLocationProviderClient</span><span class="w"> </span><span class="n">fusedLocationClient</span><span class="p">;</span>
<a id="__codelineno-33-21" name="__codelineno-33-21" href="#__codelineno-33-21"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">BEGIN_ROUTE_MILESTONE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1001</span><span class="p">;</span>
<a id="__codelineno-33-22" name="__codelineno-33-22" href="#__codelineno-33-22"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="n">reRoute</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<a id="__codelineno-33-23" name="__codelineno-33-23" href="#__codelineno-33-23"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="n">isArrived</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<a id="__codelineno-33-24" name="__codelineno-33-24" href="#__codelineno-33-24"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">NavigationViewOptions</span><span class="p">.</span><span class="na">Builder</span><span class="w"> </span><span class="n">mapviewNavigationOptions</span><span class="p">;</span><span class="w"> </span>
</code></pre></div></p>
<p><strong>Call necessary function in onCreate callback</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a><span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onCreate</span><span class="p">(</span><span class="n">Bundle</span><span class="w"> </span><span class="n">savedInstanceState</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="w">        </span><span class="n">CustomNavigationNotification</span><span class="w"> </span><span class="n">customNotification</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CustomNavigationNotification</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">Build</span><span class="p">.</span><span class="na">VERSION</span><span class="p">.</span><span class="na">SDK_INT</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">Build</span><span class="p">.</span><span class="na">VERSION_CODES</span><span class="p">.</span><span class="na">O</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a><span class="w">            </span><span class="n">customNotification</span><span class="p">.</span><span class="na">createNotificationChannel</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a><span class="w">        </span><span class="n">VietmapNavigationOptions</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">VietmapNavigationOptions</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a><span class="w">                </span><span class="p">.</span><span class="na">navigationNotification</span><span class="p">(</span><span class="n">customNotification</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
<a id="__codelineno-34-9" name="__codelineno-34-9" href="#__codelineno-34-9"></a><span class="w">        </span><span class="n">vietmapNavigation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">VietmapNavigation</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">);</span>
<a id="__codelineno-34-10" name="__codelineno-34-10" href="#__codelineno-34-10"></a><span class="w">        </span><span class="n">fusedLocationClient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocationServices</span><span class="p">.</span><span class="na">getFusedLocationProviderClient</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<a id="__codelineno-34-11" name="__codelineno-34-11" href="#__codelineno-34-11"></a><span class="w">        </span><span class="n">initializeViews</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span>
<a id="__codelineno-34-12" name="__codelineno-34-12" href="#__codelineno-34-12"></a><span class="w">        </span><span class="n">navigationView</span><span class="p">.</span><span class="na">initialize</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<a id="__codelineno-34-13" name="__codelineno-34-13" href="#__codelineno-34-13"></a><span class="w">        </span><span class="n">navigationMapConstraint</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ConstraintSet</span><span class="p">();</span>
<a id="__codelineno-34-14" name="__codelineno-34-14" href="#__codelineno-34-14"></a><span class="w">        </span><span class="n">navigationMapConstraint</span><span class="p">.</span><span class="na">clone</span><span class="p">(</span><span class="n">customUINavigation</span><span class="p">);</span>
<a id="__codelineno-34-15" name="__codelineno-34-15" href="#__codelineno-34-15"></a><span class="w">        </span><span class="n">navigationMapExpandedConstraint</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ConstraintSet</span><span class="p">();</span>
<a id="__codelineno-34-16" name="__codelineno-34-16" href="#__codelineno-34-16"></a><span class="w">        </span><span class="n">navigationMapExpandedConstraint</span><span class="p">.</span><span class="na">clone</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="p">.</span><span class="na">layout</span><span class="p">.</span><span class="na">vietmap_navigation_expand</span><span class="p">);</span>
<a id="__codelineno-34-17" name="__codelineno-34-17" href="#__codelineno-34-17"></a><span class="w">        </span><span class="n">constraintChanged</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">boolean</span><span class="o">[]</span><span class="p">{</span><span class="kc">false</span><span class="p">};</span>
<a id="__codelineno-34-18" name="__codelineno-34-18" href="#__codelineno-34-18"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div>
<strong>initializeViews</strong> function
<div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">initializeViews</span><span class="p">(</span><span class="nd">@Nullable</span><span class="w"> </span><span class="n">Bundle</span><span class="w"> </span><span class="n">savedInstanceState</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="w">        </span><span class="n">setContentView</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">layout</span><span class="p">.</span><span class="na">activity_viet_map_navigation</span><span class="p">);</span>
<a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a><span class="w">        </span><span class="n">customUINavigation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">vietmapNavigation</span><span class="p">);</span>
<a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="w">        </span><span class="n">mapView</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">mapView</span><span class="p">);</span>
<a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a><span class="w">        </span><span class="n">navigationView</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">navigationView</span><span class="p">);</span>
<a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a><span class="w">        </span><span class="n">loading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">loading</span><span class="p">);</span>
<a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a><span class="w">        </span><span class="n">launchNavigationFab</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">launchNavigation</span><span class="p">);</span>
<a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a><span class="w">        </span><span class="n">navigationView</span><span class="p">.</span><span class="na">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span>
<a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a><span class="w">        </span><span class="n">mapView</span><span class="p">.</span><span class="na">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span>
<a id="__codelineno-35-10" name="__codelineno-35-10" href="#__codelineno-35-10"></a><span class="w">        </span><span class="n">launchNavigationFab</span><span class="p">.</span><span class="na">setOnClickListener</span><span class="p">(</span><span class="n">v</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-35-11" name="__codelineno-35-11" href="#__codelineno-35-11"></a><span class="w">            </span><span class="n">expandCollapse</span><span class="p">();</span>
<a id="__codelineno-35-12" name="__codelineno-35-12" href="#__codelineno-35-12"></a><span class="w">            </span><span class="n">launchNavigation</span><span class="p">();</span>
<a id="__codelineno-35-13" name="__codelineno-35-13" href="#__codelineno-35-13"></a><span class="w">        </span><span class="p">});</span>
<a id="__codelineno-35-14" name="__codelineno-35-14" href="#__codelineno-35-14"></a><span class="w">        </span><span class="n">mapView</span><span class="p">.</span><span class="na">getMapAsync</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<a id="__codelineno-35-15" name="__codelineno-35-15" href="#__codelineno-35-15"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div></p>
<h5 id="in-onmapready-callback-function">In onMapReady callback function<a class="headerlink" href="#in-onmapready-callback-function" title="Permanent link">&para;</a></h5>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onMapReady</span><span class="p">(</span><span class="nd">@NonNull</span><span class="w"> </span><span class="n">VietMapGL</span><span class="w"> </span><span class="n">vietmapGL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">vietmapGL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vietmapGL</span><span class="p">;</span>
<a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a><span class="w">        </span><span class="n">vietmapGL</span><span class="p">.</span><span class="na">setStyle</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Style</span><span class="p">.</span><span class="na">Builder</span><span class="p">().</span><span class="na">fromUri</span><span class="p">(</span><span class="n">YOUR_STYLE_URL_HERE</span><span class="p">),</span><span class="w"> </span><span class="n">style</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a><span class="w">            </span><span class="n">initLocationEngine</span><span class="p">();</span>
<a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a><span class="w">            </span><span class="n">getCurrentLocation</span><span class="p">();</span>
<a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a><span class="w">            </span><span class="n">enableLocationComponent</span><span class="p">(</span><span class="n">style</span><span class="p">);</span>
<a id="__codelineno-36-8" name="__codelineno-36-8" href="#__codelineno-36-8"></a><span class="w">            </span><span class="n">initMapRoute</span><span class="p">();</span>
<a id="__codelineno-36-9" name="__codelineno-36-9" href="#__codelineno-36-9"></a><span class="w">        </span><span class="p">});</span>
<a id="__codelineno-36-10" name="__codelineno-36-10" href="#__codelineno-36-10"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">vietmapGL</span><span class="p">.</span><span class="na">addOnMapClickListener</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<a id="__codelineno-36-11" name="__codelineno-36-11" href="#__codelineno-36-11"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">initLocationEngine</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a><span class="w">        </span><span class="n">mockLocationEngine</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ReplayRouteLocationEngine</span><span class="p">();</span>
<a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a><span class="w">        </span><span class="n">locationEngine</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocationEngineProvider</span><span class="p">.</span><span class="na">getBestLocationEngine</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a><span class="w">        </span><span class="kt">long</span><span class="w"> </span><span class="n">DEFAULT_INTERVAL_IN_MILLISECONDS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5000</span><span class="p">;</span>
<a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a><span class="w">        </span><span class="kt">long</span><span class="w"> </span><span class="n">DEFAULT_MAX_WAIT_TIME</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">30000</span><span class="p">;</span>
<a id="__codelineno-37-6" name="__codelineno-37-6" href="#__codelineno-37-6"></a><span class="w">        </span><span class="n">LocationEngineRequest</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">LocationEngineRequest</span><span class="p">.</span><span class="na">Builder</span><span class="p">(</span><span class="n">DEFAULT_INTERVAL_IN_MILLISECONDS</span><span class="p">)</span>
<a id="__codelineno-37-7" name="__codelineno-37-7" href="#__codelineno-37-7"></a><span class="w">                </span><span class="p">.</span><span class="na">setPriority</span><span class="p">(</span><span class="n">LocationEngineRequest</span><span class="p">.</span><span class="na">PRIORITY_HIGH_ACCURACY</span><span class="p">)</span>
<a id="__codelineno-37-8" name="__codelineno-37-8" href="#__codelineno-37-8"></a><span class="w">                </span><span class="p">.</span><span class="na">setMaxWaitTime</span><span class="p">(</span><span class="n">DEFAULT_MAX_WAIT_TIME</span><span class="p">)</span>
<a id="__codelineno-37-9" name="__codelineno-37-9" href="#__codelineno-37-9"></a><span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<a id="__codelineno-37-10" name="__codelineno-37-10" href="#__codelineno-37-10"></a>
<a id="__codelineno-37-11" name="__codelineno-37-11" href="#__codelineno-37-11"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ActivityCompat</span><span class="p">.</span><span class="na">checkSelfPermission</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="n">android</span><span class="p">.</span><span class="na">Manifest</span><span class="p">.</span><span class="na">permission</span><span class="p">.</span><span class="na">ACCESS_FINE_LOCATION</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">PackageManager</span><span class="p">.</span><span class="na">PERMISSION_GRANTED</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ActivityCompat</span><span class="p">.</span><span class="na">checkSelfPermission</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="n">android</span><span class="p">.</span><span class="na">Manifest</span><span class="p">.</span><span class="na">permission</span><span class="p">.</span><span class="na">ACCESS_COARSE_LOCATION</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">PackageManager</span><span class="p">.</span><span class="na">PERMISSION_GRANTED</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-37-12" name="__codelineno-37-12" href="#__codelineno-37-12"></a><span class="w">            </span><span class="n">mockLocationEngine</span><span class="p">.</span><span class="na">assignLastLocation</span><span class="p">(</span><span class="n">origin</span><span class="p">);</span>
<a id="__codelineno-37-13" name="__codelineno-37-13" href="#__codelineno-37-13"></a><span class="w">            </span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-37-14" name="__codelineno-37-14" href="#__codelineno-37-14"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-37-15" name="__codelineno-37-15" href="#__codelineno-37-15"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-37-16" name="__codelineno-37-16" href="#__codelineno-37-16"></a>
<a id="__codelineno-37-17" name="__codelineno-37-17" href="#__codelineno-37-17"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">initMapRoute</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-37-18" name="__codelineno-37-18" href="#__codelineno-37-18"></a><span class="w">        </span><span class="n">mapRoute</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">NavigationMapRoute</span><span class="p">(</span><span class="n">mapView</span><span class="p">,</span><span class="w"> </span><span class="n">vietmapGL</span><span class="p">);</span>
<a id="__codelineno-37-19" name="__codelineno-37-19" href="#__codelineno-37-19"></a><span class="w">        </span><span class="n">mapRoute</span><span class="p">.</span><span class="na">setOnRouteSelectionChangeListener</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<a id="__codelineno-37-20" name="__codelineno-37-20" href="#__codelineno-37-20"></a><span class="w">        </span><span class="n">mapRoute</span><span class="p">.</span><span class="na">addProgressChangeListener</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">VietmapNavigation</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>
<a id="__codelineno-37-21" name="__codelineno-37-21" href="#__codelineno-37-21"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-37-22" name="__codelineno-37-22" href="#__codelineno-37-22"></a>
<a id="__codelineno-37-23" name="__codelineno-37-23" href="#__codelineno-37-23"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">getCurrentLocation</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-37-24" name="__codelineno-37-24" href="#__codelineno-37-24"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ActivityCompat</span><span class="p">.</span><span class="na">checkSelfPermission</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="n">android</span><span class="p">.</span><span class="na">Manifest</span><span class="p">.</span><span class="na">permission</span><span class="p">.</span><span class="na">ACCESS_FINE_LOCATION</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">PackageManager</span><span class="p">.</span><span class="na">PERMISSION_GRANTED</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ActivityCompat</span><span class="p">.</span><span class="na">checkSelfPermission</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="n">android</span><span class="p">.</span><span class="na">Manifest</span><span class="p">.</span><span class="na">permission</span><span class="p">.</span><span class="na">ACCESS_COARSE_LOCATION</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">PackageManager</span><span class="p">.</span><span class="na">PERMISSION_GRANTED</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-37-25" name="__codelineno-37-25" href="#__codelineno-37-25"></a><span class="w">            </span><span class="n">fusedLocationClient</span><span class="p">.</span><span class="na">getLastLocation</span><span class="p">()</span>
<a id="__codelineno-37-26" name="__codelineno-37-26" href="#__codelineno-37-26"></a><span class="w">                    </span><span class="p">.</span><span class="na">addOnSuccessListener</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="n">location</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-37-27" name="__codelineno-37-27" href="#__codelineno-37-27"></a><span class="w">                        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">location</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-37-28" name="__codelineno-37-28" href="#__codelineno-37-28"></a><span class="w">                            </span><span class="n">origin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Point</span><span class="p">.</span><span class="na">fromLngLat</span><span class="p">(</span><span class="n">location</span><span class="p">.</span><span class="na">getLongitude</span><span class="p">(),</span><span class="w"> </span><span class="n">location</span><span class="p">.</span><span class="na">getLatitude</span><span class="p">());</span>
<a id="__codelineno-37-29" name="__codelineno-37-29" href="#__codelineno-37-29"></a><span class="w">                        </span><span class="p">}</span>
<a id="__codelineno-37-30" name="__codelineno-37-30" href="#__codelineno-37-30"></a><span class="w">                    </span><span class="p">});</span>
<a id="__codelineno-37-31" name="__codelineno-37-31" href="#__codelineno-37-31"></a><span class="w">            </span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-37-32" name="__codelineno-37-32" href="#__codelineno-37-32"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-37-33" name="__codelineno-37-33" href="#__codelineno-37-33"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-37-34" name="__codelineno-37-34" href="#__codelineno-37-34"></a>
<a id="__codelineno-37-35" name="__codelineno-37-35" href="#__codelineno-37-35"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">enableLocationComponent</span><span class="p">(</span><span class="n">Style</span><span class="w"> </span><span class="n">style</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-37-36" name="__codelineno-37-36" href="#__codelineno-37-36"></a><span class="w">        </span><span class="n">locationComponent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vietmapGL</span><span class="p">.</span><span class="na">getLocationComponent</span><span class="p">();</span>
<a id="__codelineno-37-37" name="__codelineno-37-37" href="#__codelineno-37-37"></a>
<a id="__codelineno-37-38" name="__codelineno-37-38" href="#__codelineno-37-38"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">locationComponent</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-37-39" name="__codelineno-37-39" href="#__codelineno-37-39"></a><span class="w">            </span><span class="n">locationComponent</span><span class="p">.</span><span class="na">activateLocationComponent</span><span class="p">(</span><span class="n">LocationComponentActivationOptions</span><span class="p">.</span><span class="na">builder</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="n">style</span><span class="p">).</span><span class="na">build</span><span class="p">());</span>
<a id="__codelineno-37-40" name="__codelineno-37-40" href="#__codelineno-37-40"></a><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ActivityCompat</span><span class="p">.</span><span class="na">checkSelfPermission</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="n">android</span><span class="p">.</span><span class="na">Manifest</span><span class="p">.</span><span class="na">permission</span><span class="p">.</span><span class="na">ACCESS_FINE_LOCATION</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">PackageManager</span><span class="p">.</span><span class="na">PERMISSION_GRANTED</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ActivityCompat</span><span class="p">.</span><span class="na">checkSelfPermission</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="n">android</span><span class="p">.</span><span class="na">Manifest</span><span class="p">.</span><span class="na">permission</span><span class="p">.</span><span class="na">ACCESS_COARSE_LOCATION</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">PackageManager</span><span class="p">.</span><span class="na">PERMISSION_GRANTED</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-37-41" name="__codelineno-37-41" href="#__codelineno-37-41"></a><span class="w">                </span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-37-42" name="__codelineno-37-42" href="#__codelineno-37-42"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-37-43" name="__codelineno-37-43" href="#__codelineno-37-43"></a><span class="w">            </span><span class="n">locationComponent</span><span class="p">.</span><span class="na">setLocationComponentEnabled</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<a id="__codelineno-37-44" name="__codelineno-37-44" href="#__codelineno-37-44"></a><span class="w">            </span><span class="n">locationComponent</span><span class="p">.</span><span class="na">setCameraMode</span><span class="p">(</span><span class="n">CameraMode</span><span class="p">.</span><span class="na">TRACKING_GPS_NORTH</span><span class="p">);</span>
<a id="__codelineno-37-45" name="__codelineno-37-45" href="#__codelineno-37-45"></a><span class="w">            </span><span class="n">locationComponent</span><span class="p">.</span><span class="na">zoomWhileTracking</span><span class="p">(</span><span class="n">DEFAULT_CAMERA_ZOOM</span><span class="p">);</span>
<a id="__codelineno-37-46" name="__codelineno-37-46" href="#__codelineno-37-46"></a><span class="w">            </span><span class="n">locationComponent</span><span class="p">.</span><span class="na">setRenderMode</span><span class="p">(</span><span class="n">RenderMode</span><span class="p">.</span><span class="na">GPS</span><span class="p">);</span>
<a id="__codelineno-37-47" name="__codelineno-37-47" href="#__codelineno-37-47"></a><span class="w">            </span><span class="n">locationComponent</span><span class="p">.</span><span class="na">setLocationEngine</span><span class="p">(</span><span class="n">locationEngine</span><span class="p">);</span>
<a id="__codelineno-37-48" name="__codelineno-37-48" href="#__codelineno-37-48"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-37-49" name="__codelineno-37-49" href="#__codelineno-37-49"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div></p>
<h5 id="create-layout-xml-named-vietmap_navigation_expand">Create <strong>layout xml</strong> named <strong>vietmap_navigation_expand</strong><a class="headerlink" href="#create-layout-xml-named-vietmap_navigation_expand" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="o">&lt;?</span><span class="n">xml</span><span class="w"> </span><span class="n">version</span><span class="o">=</span><span class="s">&quot;1.0&quot;</span><span class="w"> </span><span class="n">encoding</span><span class="o">=</span><span class="s">&quot;utf-8&quot;</span><span class="o">?&gt;</span>
<a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a><span class="o">&lt;</span><span class="n">androidx</span><span class="p">.</span><span class="na">constraintlayout</span><span class="p">.</span><span class="na">widget</span><span class="p">.</span><span class="na">ConstraintLayout</span>
<a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a><span class="w">    </span><span class="n">xmlns</span><span class="p">:</span><span class="n">android</span><span class="o">=</span><span class="s">&quot;http://schemas.android.com/apk/res/android&quot;</span>
<a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a><span class="w">    </span><span class="n">xmlns</span><span class="p">:</span><span class="n">app</span><span class="o">=</span><span class="s">&quot;http://schemas.android.com/apk/res-auto&quot;</span>
<a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a><span class="w">    </span><span class="n">android</span><span class="p">:</span><span class="n">id</span><span class="o">=</span><span class="s">&quot;@+id/vietmapNavigationExpand&quot;</span>
<a id="__codelineno-38-6" name="__codelineno-38-6" href="#__codelineno-38-6"></a><span class="w">    </span><span class="n">android</span><span class="p">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">&quot;match_parent&quot;</span>
<a id="__codelineno-38-7" name="__codelineno-38-7" href="#__codelineno-38-7"></a><span class="w">    </span><span class="n">android</span><span class="p">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">&quot;match_parent&quot;</span><span class="o">&gt;</span>
<a id="__codelineno-38-8" name="__codelineno-38-8" href="#__codelineno-38-8"></a>
<a id="__codelineno-38-9" name="__codelineno-38-9" href="#__codelineno-38-9"></a>
<a id="__codelineno-38-10" name="__codelineno-38-10" href="#__codelineno-38-10"></a><span class="w">    </span><span class="o">&lt;</span><span class="n">vn</span><span class="p">.</span><span class="na">vietmap</span><span class="p">.</span><span class="na">services</span><span class="p">.</span><span class="na">android</span><span class="p">.</span><span class="na">navigation</span><span class="p">.</span><span class="na">ui</span><span class="p">.</span><span class="na">v5</span><span class="p">.</span><span class="na">NavigationView</span>
<a id="__codelineno-38-11" name="__codelineno-38-11" href="#__codelineno-38-11"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">id</span><span class="o">=</span><span class="s">&quot;@+id/navigationView&quot;</span>
<a id="__codelineno-38-12" name="__codelineno-38-12" href="#__codelineno-38-12"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">&quot;match_parent&quot;</span>
<a id="__codelineno-38-13" name="__codelineno-38-13" href="#__codelineno-38-13"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">&quot;0dp&quot;</span>
<a id="__codelineno-38-14" name="__codelineno-38-14" href="#__codelineno-38-14"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">visibility</span><span class="o">=</span><span class="s">&quot;visible&quot;</span>
<a id="__codelineno-38-15" name="__codelineno-38-15" href="#__codelineno-38-15"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">vietmap_cameraZoom</span><span class="o">=</span><span class="s">&quot;15&quot;</span>
<a id="__codelineno-38-16" name="__codelineno-38-16" href="#__codelineno-38-16"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintHeight_percent</span><span class="o">=</span><span class="s">&quot;1&quot;</span>
<a id="__codelineno-38-17" name="__codelineno-38-17" href="#__codelineno-38-17"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintTop_toTopOf</span><span class="o">=</span><span class="s">&quot;@+id/vietmapNavigationExpand&quot;</span>
<a id="__codelineno-38-18" name="__codelineno-38-18" href="#__codelineno-38-18"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintBottom_toBottomOf</span><span class="o">=</span><span class="s">&quot;@+id/vietmapNavigationExpand&quot;</span>
<a id="__codelineno-38-19" name="__codelineno-38-19" href="#__codelineno-38-19"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">navigationDarkTheme</span><span class="o">=</span><span class="s">&quot;@style/NavigationViewDark&quot;</span>
<a id="__codelineno-38-20" name="__codelineno-38-20" href="#__codelineno-38-20"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">navigationLightTheme</span><span class="o">=</span><span class="s">&quot;@style/NavigationViewLight&quot;</span><span class="o">/&gt;</span>
<a id="__codelineno-38-21" name="__codelineno-38-21" href="#__codelineno-38-21"></a><span class="w">    </span><span class="o">&lt;</span><span class="n">vn</span><span class="p">.</span><span class="na">vietmap</span><span class="p">.</span><span class="na">vietmapsdk</span><span class="p">.</span><span class="na">maps</span><span class="p">.</span><span class="na">MapView</span>
<a id="__codelineno-38-22" name="__codelineno-38-22" href="#__codelineno-38-22"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">id</span><span class="o">=</span><span class="s">&quot;@+id/mapView&quot;</span>
<a id="__codelineno-38-23" name="__codelineno-38-23" href="#__codelineno-38-23"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">&quot;match_parent&quot;</span>
<a id="__codelineno-38-24" name="__codelineno-38-24" href="#__codelineno-38-24"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">&quot;0dp&quot;</span>
<a id="__codelineno-38-25" name="__codelineno-38-25" href="#__codelineno-38-25"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">vietmap_cameraZoom</span><span class="o">=</span><span class="s">&quot;15&quot;</span>
<a id="__codelineno-38-26" name="__codelineno-38-26" href="#__codelineno-38-26"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">visibility</span><span class="o">=</span><span class="s">&quot;gone&quot;</span>
<a id="__codelineno-38-27" name="__codelineno-38-27" href="#__codelineno-38-27"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintBottom_toBottomOf</span><span class="o">=</span><span class="s">&quot;@+id/vietmapNavigationExpand&quot;</span>
<a id="__codelineno-38-28" name="__codelineno-38-28" href="#__codelineno-38-28"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintHeight_percent</span><span class="o">=</span><span class="s">&quot;0&quot;</span><span class="o">/&gt;</span>
<a id="__codelineno-38-29" name="__codelineno-38-29" href="#__codelineno-38-29"></a>
<a id="__codelineno-38-30" name="__codelineno-38-30" href="#__codelineno-38-30"></a><span class="w">    </span><span class="o">&lt;</span><span class="n">ProgressBar</span>
<a id="__codelineno-38-31" name="__codelineno-38-31" href="#__codelineno-38-31"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">id</span><span class="o">=</span><span class="s">&quot;@+id/loading&quot;</span>
<a id="__codelineno-38-32" name="__codelineno-38-32" href="#__codelineno-38-32"></a><span class="w">        </span><span class="n">style</span><span class="o">=</span><span class="s">&quot;?android:attr/progressBarStyle&quot;</span>
<a id="__codelineno-38-33" name="__codelineno-38-33" href="#__codelineno-38-33"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">&quot;wrap_content&quot;</span>
<a id="__codelineno-38-34" name="__codelineno-38-34" href="#__codelineno-38-34"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">&quot;wrap_content&quot;</span>
<a id="__codelineno-38-35" name="__codelineno-38-35" href="#__codelineno-38-35"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">indeterminate</span><span class="o">=</span><span class="s">&quot;true&quot;</span>
<a id="__codelineno-38-36" name="__codelineno-38-36" href="#__codelineno-38-36"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">visibility</span><span class="o">=</span><span class="s">&quot;gone&quot;</span>
<a id="__codelineno-38-37" name="__codelineno-38-37" href="#__codelineno-38-37"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintBottom_toBottomOf</span><span class="o">=</span><span class="s">&quot;parent&quot;</span>
<a id="__codelineno-38-38" name="__codelineno-38-38" href="#__codelineno-38-38"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintEnd_toEndOf</span><span class="o">=</span><span class="s">&quot;parent&quot;</span>
<a id="__codelineno-38-39" name="__codelineno-38-39" href="#__codelineno-38-39"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintStart_toStartOf</span><span class="o">=</span><span class="s">&quot;parent&quot;</span>
<a id="__codelineno-38-40" name="__codelineno-38-40" href="#__codelineno-38-40"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintTop_toTopOf</span><span class="o">=</span><span class="s">&quot;parent&quot;</span><span class="o">/&gt;</span>
<a id="__codelineno-38-41" name="__codelineno-38-41" href="#__codelineno-38-41"></a>
<a id="__codelineno-38-42" name="__codelineno-38-42" href="#__codelineno-38-42"></a><span class="w">    </span><span class="o">&lt;</span><span class="n">com</span><span class="p">.</span><span class="na">google</span><span class="p">.</span><span class="na">android</span><span class="p">.</span><span class="na">material</span><span class="p">.</span><span class="na">floatingactionbutton</span><span class="p">.</span><span class="na">FloatingActionButton</span>
<a id="__codelineno-38-43" name="__codelineno-38-43" href="#__codelineno-38-43"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">id</span><span class="o">=</span><span class="s">&quot;@+id/launchNavigation&quot;</span>
<a id="__codelineno-38-44" name="__codelineno-38-44" href="#__codelineno-38-44"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">&quot;wrap_content&quot;</span>
<a id="__codelineno-38-45" name="__codelineno-38-45" href="#__codelineno-38-45"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">&quot;wrap_content&quot;</span>
<a id="__codelineno-38-46" name="__codelineno-38-46" href="#__codelineno-38-46"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">layout_marginBottom</span><span class="o">=</span><span class="s">&quot;16dp&quot;</span>
<a id="__codelineno-38-47" name="__codelineno-38-47" href="#__codelineno-38-47"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">layout_marginEnd</span><span class="o">=</span><span class="s">&quot;16dp&quot;</span>
<a id="__codelineno-38-48" name="__codelineno-38-48" href="#__codelineno-38-48"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">layout_marginRight</span><span class="o">=</span><span class="s">&quot;16dp&quot;</span>
<a id="__codelineno-38-49" name="__codelineno-38-49" href="#__codelineno-38-49"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">src</span><span class="o">=</span><span class="s">&quot;@drawable/ic_navigation&quot;</span>
<a id="__codelineno-38-50" name="__codelineno-38-50" href="#__codelineno-38-50"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">tint</span><span class="o">=</span><span class="s">&quot;@android:color/white&quot;</span>
<a id="__codelineno-38-51" name="__codelineno-38-51" href="#__codelineno-38-51"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">visibility</span><span class="o">=</span><span class="s">&quot;gone&quot;</span>
<a id="__codelineno-38-52" name="__codelineno-38-52" href="#__codelineno-38-52"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">backgroundTint</span><span class="o">=</span><span class="s">&quot;@color/colorPrimary&quot;</span>
<a id="__codelineno-38-53" name="__codelineno-38-53" href="#__codelineno-38-53"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintBottom_toBottomOf</span><span class="o">=</span><span class="s">&quot;parent&quot;</span>
<a id="__codelineno-38-54" name="__codelineno-38-54" href="#__codelineno-38-54"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintEnd_toEndOf</span><span class="o">=</span><span class="s">&quot;parent&quot;</span><span class="o">/&gt;</span>
<a id="__codelineno-38-55" name="__codelineno-38-55" href="#__codelineno-38-55"></a>
<a id="__codelineno-38-56" name="__codelineno-38-56" href="#__codelineno-38-56"></a><span class="o">&lt;/</span><span class="n">androidx</span><span class="p">.</span><span class="na">constraintlayout</span><span class="p">.</span><span class="na">widget</span><span class="p">.</span><span class="na">ConstraintLayout</span><span class="o">&gt;</span>
</code></pre></div>
<h5 id="expandcollapse">expandCollapse<a class="headerlink" href="#expandcollapse" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">expandCollapse</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a><span class="w">        </span><span class="n">TransitionManager</span><span class="p">.</span><span class="na">beginDelayedTransition</span><span class="p">(</span><span class="n">customUINavigation</span><span class="p">);</span>
<a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a><span class="w">        </span><span class="n">ConstraintSet</span><span class="w"> </span><span class="n">constraint</span><span class="p">;</span>
<a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">constraintChanged</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a><span class="w">            </span><span class="n">constraint</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">navigationMapConstraint</span><span class="p">;</span>
<a id="__codelineno-39-6" name="__codelineno-39-6" href="#__codelineno-39-6"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-39-7" name="__codelineno-39-7" href="#__codelineno-39-7"></a><span class="w">            </span><span class="n">constraint</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">navigationMapExpandedConstraint</span><span class="p">;</span>
<a id="__codelineno-39-8" name="__codelineno-39-8" href="#__codelineno-39-8"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-39-9" name="__codelineno-39-9" href="#__codelineno-39-9"></a><span class="w">        </span><span class="n">constraint</span><span class="p">.</span><span class="na">applyTo</span><span class="p">(</span><span class="n">customUINavigation</span><span class="p">);</span>
<a id="__codelineno-39-10" name="__codelineno-39-10" href="#__codelineno-39-10"></a><span class="w">        </span><span class="n">constraintChanged</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">!</span><span class="n">constraintChanged</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="p">;</span>
<a id="__codelineno-39-11" name="__codelineno-39-11" href="#__codelineno-39-11"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div>
<h5 id="stopnavigationfunction">stopNavigationFunction<a class="headerlink" href="#stopnavigationfunction" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">stopNavigationFunction</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a><span class="w">        </span><span class="n">navigationView</span><span class="p">.</span><span class="na">stopNavigation</span><span class="p">();</span>
<a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a><span class="w">        </span><span class="n">vietmapNavigation</span><span class="p">.</span><span class="na">stopNavigation</span><span class="p">();</span>
<a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a><span class="w">        </span><span class="n">launchNavigationFab</span><span class="p">.</span><span class="na">show</span><span class="p">();</span>
<a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div>
<h5 id="oncancelnavigation">onCancelNavigation<a class="headerlink" href="#oncancelnavigation" title="Permanent link">&para;</a></h5>
<p>Listener when user click on cancel navigation button
<div class="highlight"><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onCancelNavigation</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a><span class="w">        </span><span class="n">isNavigationRunning</span><span class="o">=</span><span class="kc">false</span><span class="p">;</span>
<a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a><span class="w">        </span><span class="n">expandCollapse</span><span class="p">();</span>
<a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a><span class="w">        </span><span class="n">stopNavigationFunction</span><span class="p">();</span>
<a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div></p>
<h5 id="onrunning-and-onnavigationready">onRunning and onNavigationReady<a class="headerlink" href="#onrunning-and-onnavigationready" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onRunning</span><span class="p">(</span><span class="kt">boolean</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a><span class="w">        </span><span class="n">isNavigationRunning</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a>
<a id="__codelineno-42-6" name="__codelineno-42-6" href="#__codelineno-42-6"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-42-7" name="__codelineno-42-7" href="#__codelineno-42-7"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onNavigationReady</span><span class="p">(</span><span class="kt">boolean</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-42-8" name="__codelineno-42-8" href="#__codelineno-42-8"></a><span class="w">        </span><span class="n">isNavigationRunning</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<a id="__codelineno-42-9" name="__codelineno-42-9" href="#__codelineno-42-9"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div>
<h5 id="onnewprimaryrouteselected">onNewPrimaryRouteSelected<a class="headerlink" href="#onnewprimaryrouteselected" title="Permanent link">&para;</a></h5>
<p>Listen when user select a new direction route
<div class="highlight"><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onNewPrimaryRouteSelected</span><span class="p">(</span><span class="n">DirectionsRoute</span><span class="w"> </span><span class="n">directionsRoute</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a><span class="w">        </span><span class="n">route</span><span class="o">=</span><span class="n">directionsRoute</span><span class="p">;</span>
<a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div></p>
<h3 id="customnavigationnotification">CustomNavigationNotification<a class="headerlink" href="#customnavigationnotification" title="Permanent link">&para;</a></h3>
<p>Show notification about current routing information
<div class="highlight"><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">CustomNavigationNotification</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">NavigationNotification</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a>
<a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">CUSTOM_NOTIFICATION_ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">91234821</span><span class="p">;</span>
<a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">STOP_NAVIGATION_ACTION</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;stop_navigation_action&quot;</span><span class="p">;</span>
<a id="__codelineno-44-5" name="__codelineno-44-5" href="#__codelineno-44-5"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Notification</span><span class="w"> </span><span class="n">customNotification</span><span class="p">;</span>
<a id="__codelineno-44-6" name="__codelineno-44-6" href="#__codelineno-44-6"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">NotificationCompat</span><span class="p">.</span><span class="na">Builder</span><span class="w"> </span><span class="n">customNotificationBuilder</span><span class="p">;</span>
<a id="__codelineno-44-7" name="__codelineno-44-7" href="#__codelineno-44-7"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">NotificationManager</span><span class="w"> </span><span class="n">notificationManager</span><span class="p">;</span>
<a id="__codelineno-44-8" name="__codelineno-44-8" href="#__codelineno-44-8"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BroadcastReceiver</span><span class="w"> </span><span class="n">stopNavigationReceiver</span><span class="p">;</span>
<a id="__codelineno-44-9" name="__codelineno-44-9" href="#__codelineno-44-9"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">numberOfUpdates</span><span class="p">;</span>
<a id="__codelineno-44-10" name="__codelineno-44-10" href="#__codelineno-44-10"></a>
<a id="__codelineno-44-11" name="__codelineno-44-11" href="#__codelineno-44-11"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">CustomNavigationNotification</span><span class="p">(</span><span class="n">Context</span><span class="w"> </span><span class="n">applicationContext</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-44-12" name="__codelineno-44-12" href="#__codelineno-44-12"></a><span class="w">        </span><span class="n">notificationManager</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">NotificationManager</span><span class="p">)</span><span class="w"> </span><span class="n">applicationContext</span><span class="p">.</span><span class="na">getSystemService</span><span class="p">(</span><span class="n">Context</span><span class="p">.</span><span class="na">NOTIFICATION_SERVICE</span><span class="p">);</span>
<a id="__codelineno-44-13" name="__codelineno-44-13" href="#__codelineno-44-13"></a><span class="w">        </span><span class="n">customNotificationBuilder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">NotificationCompat</span><span class="p">.</span><span class="na">Builder</span><span class="p">(</span><span class="n">applicationContext</span><span class="p">,</span><span class="w"> </span><span class="n">NAVIGATION_NOTIFICATION_CHANNEL</span><span class="p">)</span>
<a id="__codelineno-44-14" name="__codelineno-44-14" href="#__codelineno-44-14"></a><span class="w">                </span><span class="p">.</span><span class="na">setSmallIcon</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">drawable</span><span class="p">.</span><span class="na">ic_launcher_foreground</span><span class="p">)</span>
<a id="__codelineno-44-15" name="__codelineno-44-15" href="#__codelineno-44-15"></a><span class="w">                </span><span class="p">.</span><span class="na">setContentTitle</span><span class="p">(</span><span class="s">&quot;Custom Navigation Notification&quot;</span><span class="p">)</span>
<a id="__codelineno-44-16" name="__codelineno-44-16" href="#__codelineno-44-16"></a><span class="w">                </span><span class="p">.</span><span class="na">setContentText</span><span class="p">(</span><span class="s">&quot;Display your own content here!&quot;</span><span class="p">)</span>
<a id="__codelineno-44-17" name="__codelineno-44-17" href="#__codelineno-44-17"></a><span class="w">                </span><span class="p">.</span><span class="na">setContentIntent</span><span class="p">(</span><span class="n">createPendingStopIntent</span><span class="p">(</span><span class="n">applicationContext</span><span class="p">));</span>
<a id="__codelineno-44-18" name="__codelineno-44-18" href="#__codelineno-44-18"></a><span class="w">        </span><span class="n">customNotification</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">customNotificationBuilder</span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<a id="__codelineno-44-19" name="__codelineno-44-19" href="#__codelineno-44-19"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-44-20" name="__codelineno-44-20" href="#__codelineno-44-20"></a>
<a id="__codelineno-44-21" name="__codelineno-44-21" href="#__codelineno-44-21"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-44-22" name="__codelineno-44-22" href="#__codelineno-44-22"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Notification</span><span class="w"> </span><span class="nf">getNotification</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-44-23" name="__codelineno-44-23" href="#__codelineno-44-23"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">customNotification</span><span class="p">;</span>
<a id="__codelineno-44-24" name="__codelineno-44-24" href="#__codelineno-44-24"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-44-25" name="__codelineno-44-25" href="#__codelineno-44-25"></a>
<a id="__codelineno-44-26" name="__codelineno-44-26" href="#__codelineno-44-26"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-44-27" name="__codelineno-44-27" href="#__codelineno-44-27"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">getNotificationId</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-44-28" name="__codelineno-44-28" href="#__codelineno-44-28"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">CUSTOM_NOTIFICATION_ID</span><span class="p">;</span>
<a id="__codelineno-44-29" name="__codelineno-44-29" href="#__codelineno-44-29"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-44-30" name="__codelineno-44-30" href="#__codelineno-44-30"></a>
<a id="__codelineno-44-31" name="__codelineno-44-31" href="#__codelineno-44-31"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-44-32" name="__codelineno-44-32" href="#__codelineno-44-32"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">updateNotification</span><span class="p">(</span><span class="n">RouteProgress</span><span class="w"> </span><span class="n">routeProgress</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-44-33" name="__codelineno-44-33" href="#__codelineno-44-33"></a><span class="w">        </span><span class="c1">// Update the builder with a new number of updates</span>
<a id="__codelineno-44-34" name="__codelineno-44-34" href="#__codelineno-44-34"></a><span class="w">        </span><span class="n">customNotificationBuilder</span><span class="p">.</span><span class="na">setContentText</span><span class="p">(</span><span class="s">&quot;Number of updates: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">numberOfUpdates</span><span class="o">++</span><span class="p">);</span>
<a id="__codelineno-44-35" name="__codelineno-44-35" href="#__codelineno-44-35"></a><span class="w">        </span><span class="n">notificationManager</span><span class="p">.</span><span class="na">notify</span><span class="p">(</span><span class="n">CUSTOM_NOTIFICATION_ID</span><span class="p">,</span><span class="w"> </span><span class="n">customNotificationBuilder</span><span class="p">.</span><span class="na">build</span><span class="p">());</span>
<a id="__codelineno-44-36" name="__codelineno-44-36" href="#__codelineno-44-36"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-44-37" name="__codelineno-44-37" href="#__codelineno-44-37"></a>
<a id="__codelineno-44-38" name="__codelineno-44-38" href="#__codelineno-44-38"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-44-39" name="__codelineno-44-39" href="#__codelineno-44-39"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onNavigationStopped</span><span class="p">(</span><span class="n">Context</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-44-40" name="__codelineno-44-40" href="#__codelineno-44-40"></a><span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-44-41" name="__codelineno-44-41" href="#__codelineno-44-41"></a><span class="w">            </span><span class="n">context</span><span class="p">.</span><span class="na">unregisterReceiver</span><span class="p">(</span><span class="n">stopNavigationReceiver</span><span class="p">);</span>
<a id="__codelineno-44-42" name="__codelineno-44-42" href="#__codelineno-44-42"></a><span class="w">        </span><span class="p">}</span><span class="k">catch</span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">){}</span>
<a id="__codelineno-44-43" name="__codelineno-44-43" href="#__codelineno-44-43"></a><span class="w">        </span><span class="n">notificationManager</span><span class="p">.</span><span class="na">cancel</span><span class="p">(</span><span class="n">CUSTOM_NOTIFICATION_ID</span><span class="p">);</span>
<a id="__codelineno-44-44" name="__codelineno-44-44" href="#__codelineno-44-44"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-44-45" name="__codelineno-44-45" href="#__codelineno-44-45"></a>
<a id="__codelineno-44-46" name="__codelineno-44-46" href="#__codelineno-44-46"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">register</span><span class="p">(</span><span class="n">BroadcastReceiver</span><span class="w"> </span><span class="n">stopNavigationReceiver</span><span class="p">,</span><span class="w"> </span><span class="n">Context</span><span class="w"> </span><span class="n">applicationContext</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-44-47" name="__codelineno-44-47" href="#__codelineno-44-47"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">stopNavigationReceiver</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">stopNavigationReceiver</span><span class="p">;</span>
<a id="__codelineno-44-48" name="__codelineno-44-48" href="#__codelineno-44-48"></a><span class="w">        </span><span class="n">applicationContext</span><span class="p">.</span><span class="na">registerReceiver</span><span class="p">(</span><span class="n">stopNavigationReceiver</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IntentFilter</span><span class="p">(</span><span class="n">STOP_NAVIGATION_ACTION</span><span class="p">));</span>
<a id="__codelineno-44-49" name="__codelineno-44-49" href="#__codelineno-44-49"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-44-50" name="__codelineno-44-50" href="#__codelineno-44-50"></a>
<a id="__codelineno-44-51" name="__codelineno-44-51" href="#__codelineno-44-51"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">PendingIntent</span><span class="w"> </span><span class="nf">createPendingStopIntent</span><span class="p">(</span><span class="n">Context</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-44-52" name="__codelineno-44-52" href="#__codelineno-44-52"></a><span class="w">        </span><span class="n">Intent</span><span class="w"> </span><span class="n">stopNavigationIntent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Intent</span><span class="p">(</span><span class="n">STOP_NAVIGATION_ACTION</span><span class="p">);</span>
<a id="__codelineno-44-53" name="__codelineno-44-53" href="#__codelineno-44-53"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">PendingIntent</span><span class="p">.</span><span class="na">getBroadcast</span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">stopNavigationIntent</span><span class="p">,</span><span class="w"> </span><span class="n">PendingIntent</span><span class="p">.</span><span class="na">FLAG_IMMUTABLE</span><span class="p">);</span>
<a id="__codelineno-44-54" name="__codelineno-44-54" href="#__codelineno-44-54"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-44-55" name="__codelineno-44-55" href="#__codelineno-44-55"></a>
<a id="__codelineno-44-56" name="__codelineno-44-56" href="#__codelineno-44-56"></a><span class="w">    </span><span class="nd">@RequiresApi</span><span class="p">(</span><span class="n">Build</span><span class="p">.</span><span class="na">VERSION_CODES</span><span class="p">.</span><span class="na">O</span><span class="p">)</span>
<a id="__codelineno-44-57" name="__codelineno-44-57" href="#__codelineno-44-57"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">createNotificationChannel</span><span class="p">(</span><span class="n">Context</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-44-58" name="__codelineno-44-58" href="#__codelineno-44-58"></a><span class="w">        </span><span class="n">NotificationChannel</span><span class="w"> </span><span class="n">chan</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">NotificationChannel</span><span class="p">(</span><span class="n">NAVIGATION_NOTIFICATION_CHANNEL</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;CustomNavigationNotification&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">NotificationManager</span><span class="p">.</span><span class="na">IMPORTANCE_NONE</span><span class="p">);</span>
<a id="__codelineno-44-59" name="__codelineno-44-59" href="#__codelineno-44-59"></a><span class="w">        </span><span class="n">chan</span><span class="p">.</span><span class="na">setLightColor</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">BLUE</span><span class="p">);</span>
<a id="__codelineno-44-60" name="__codelineno-44-60" href="#__codelineno-44-60"></a><span class="w">        </span><span class="n">chan</span><span class="p">.</span><span class="na">setLockscreenVisibility</span><span class="p">(</span><span class="n">Notification</span><span class="p">.</span><span class="na">VISIBILITY_PRIVATE</span><span class="p">);</span>
<a id="__codelineno-44-61" name="__codelineno-44-61" href="#__codelineno-44-61"></a><span class="w">        </span><span class="n">NotificationManager</span><span class="w"> </span><span class="n">service</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">NotificationManager</span><span class="p">)</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="na">getSystemService</span><span class="p">(</span><span class="n">Context</span><span class="p">.</span><span class="na">NOTIFICATION_SERVICE</span><span class="p">);</span>
<a id="__codelineno-44-62" name="__codelineno-44-62" href="#__codelineno-44-62"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">service</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-44-63" name="__codelineno-44-63" href="#__codelineno-44-63"></a><span class="w">            </span><span class="n">service</span><span class="p">.</span><span class="na">createNotificationChannel</span><span class="p">(</span><span class="n">chan</span><span class="p">);</span>
<a id="__codelineno-44-64" name="__codelineno-44-64" href="#__codelineno-44-64"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-44-65" name="__codelineno-44-65" href="#__codelineno-44-65"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-44-66" name="__codelineno-44-66" href="#__codelineno-44-66"></a><span class="p">}</span>
</code></pre></div></p>
<h3 id="fetch-route-find-a-route-between-two-coordinates">Fetch route (Find a route between two coordinates)<a class="headerlink" href="#fetch-route-find-a-route-between-two-coordinates" title="Permanent link">&para;</a></h3>
<p>Fetch route API required two params is <code>origin</code> and <code>destination</code>, is the current position of the user and the target location.</p>
<p>Example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="w">    </span><span class="n">Point</span><span class="w"> </span><span class="n">origin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Point</span><span class="p">.</span><span class="na">fromLngLat</span><span class="p">(</span><span class="mf">106.675884</span><span class="p">,</span><span class="mf">10.759197</span><span class="p">);</span>
<a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a><span class="w">    </span><span class="n">Point</span><span class="w"> </span><span class="n">destination</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Point</span><span class="p">.</span><span class="na">fromLngLat</span><span class="p">(</span><span class="w"> </span><span class="mf">105.577136</span><span class="p">,</span><span class="w"> </span><span class="mf">18.932147</span><span class="p">);</span>
</code></pre></div></p>
<p><strong>From point and destination point, let call fetchRoute function as below code:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">fetchRoute</span><span class="p">(</span><span class="n">Point</span><span class="w"> </span><span class="n">origin</span><span class="p">,</span><span class="w"> </span><span class="n">Point</span><span class="w"> </span><span class="n">destination</span><span class="p">,</span><span class="w"> </span><span class="nd">@Nullable</span><span class="w"> </span><span class="n">Double</span><span class="w"> </span><span class="n">bearing</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a><span class="w">        </span><span class="n">NavigationRoute</span><span class="p">.</span><span class="na">Builder</span><span class="w"> </span><span class="n">builder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NavigationRoute</span>
<a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a><span class="w">                </span><span class="p">.</span><span class="na">builder</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
<a id="__codelineno-46-4" name="__codelineno-46-4" href="#__codelineno-46-4"></a><span class="w">                </span><span class="p">.</span><span class="na">apikey</span><span class="p">(</span><span class="n">YOUR_VIETMAP_APIKEY_HERE</span><span class="p">)</span>
<a id="__codelineno-46-5" name="__codelineno-46-5" href="#__codelineno-46-5"></a><span class="w">                </span><span class="p">.</span><span class="na">origin</span><span class="p">(</span><span class="n">origin</span><span class="p">,</span><span class="w"> </span><span class="n">bearing</span><span class="p">,</span><span class="w"> </span><span class="n">bearing</span><span class="p">)</span>
<a id="__codelineno-46-6" name="__codelineno-46-6" href="#__codelineno-46-6"></a><span class="w">                </span><span class="p">.</span><span class="na">destination</span><span class="p">(</span><span class="n">destination</span><span class="p">,</span><span class="w"> </span><span class="n">bearing</span><span class="p">,</span><span class="w"> </span><span class="n">bearing</span><span class="p">);</span>
<a id="__codelineno-46-7" name="__codelineno-46-7" href="#__codelineno-46-7"></a>
<a id="__codelineno-46-8" name="__codelineno-46-8" href="#__codelineno-46-8"></a><span class="w">        </span><span class="n">builder</span><span class="p">.</span><span class="na">build</span><span class="p">().</span><span class="na">getRoute</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<a id="__codelineno-46-9" name="__codelineno-46-9" href="#__codelineno-46-9"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div>
Handle response of fetchRoute function:
<div class="highlight"><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onResponse</span><span class="p">(</span><span class="n">Call</span><span class="o">&lt;</span><span class="n">DirectionsResponse</span><span class="o">&gt;</span><span class="w"> </span><span class="n">call</span><span class="p">,</span><span class="w"> </span><span class="n">Response</span><span class="o">&lt;</span><span class="n">DirectionsResponse</span><span class="o">&gt;</span><span class="w"> </span><span class="n">response</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a>
<a id="__codelineno-47-4" name="__codelineno-47-4" href="#__codelineno-47-4"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">validRouteResponse</span><span class="p">(</span><span class="n">response</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-47-5" name="__codelineno-47-5" href="#__codelineno-47-5"></a><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">reRoute</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-47-6" name="__codelineno-47-6" href="#__codelineno-47-6"></a><span class="w">                </span><span class="n">route</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">response</span><span class="p">.</span><span class="na">body</span><span class="p">().</span><span class="na">routes</span><span class="p">().</span><span class="na">get</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-47-7" name="__codelineno-47-7" href="#__codelineno-47-7"></a><span class="w">                </span><span class="n">initNavigationOptions</span><span class="p">();</span>
<a id="__codelineno-47-8" name="__codelineno-47-8" href="#__codelineno-47-8"></a><span class="w">                </span><span class="n">navigationView</span><span class="p">.</span><span class="na">updateCameraRouteOverview</span><span class="p">();</span>
<a id="__codelineno-47-9" name="__codelineno-47-9" href="#__codelineno-47-9"></a><span class="w">                </span><span class="n">vietmapNavigation</span><span class="p">.</span><span class="na">addNavigationEventListener</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<a id="__codelineno-47-10" name="__codelineno-47-10" href="#__codelineno-47-10"></a><span class="w">                </span><span class="n">vietmapNavigation</span><span class="p">.</span><span class="na">startNavigation</span><span class="p">(</span><span class="n">route</span><span class="p">);</span>
<a id="__codelineno-47-11" name="__codelineno-47-11" href="#__codelineno-47-11"></a><span class="w">                </span><span class="n">navigationView</span><span class="p">.</span><span class="na">startNavigation</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">mapviewNavigationOptions</span><span class="p">.</span><span class="na">build</span><span class="p">());</span>
<a id="__codelineno-47-12" name="__codelineno-47-12" href="#__codelineno-47-12"></a><span class="w">                </span><span class="n">reRoute</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<a id="__codelineno-47-13" name="__codelineno-47-13" href="#__codelineno-47-13"></a><span class="w">                </span><span class="n">isArrived</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<a id="__codelineno-47-14" name="__codelineno-47-14" href="#__codelineno-47-14"></a><span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-47-15" name="__codelineno-47-15" href="#__codelineno-47-15"></a><span class="w">                </span><span class="n">launchNavigationFab</span><span class="p">.</span><span class="na">show</span><span class="p">();</span>
<a id="__codelineno-47-16" name="__codelineno-47-16" href="#__codelineno-47-16"></a><span class="w">                </span><span class="n">route</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">response</span><span class="p">.</span><span class="na">body</span><span class="p">().</span><span class="na">routes</span><span class="p">().</span><span class="na">get</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-47-17" name="__codelineno-47-17" href="#__codelineno-47-17"></a><span class="w">                </span><span class="n">mapRoute</span><span class="p">.</span><span class="na">addRoutes</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="na">body</span><span class="p">().</span><span class="na">routes</span><span class="p">());</span>
<a id="__codelineno-47-18" name="__codelineno-47-18" href="#__codelineno-47-18"></a><span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">isNavigationRunning</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-47-19" name="__codelineno-47-19" href="#__codelineno-47-19"></a><span class="w">                    </span><span class="n">launchNavigation</span><span class="p">();</span>
<a id="__codelineno-47-20" name="__codelineno-47-20" href="#__codelineno-47-20"></a><span class="w">                </span><span class="p">}</span>
<a id="__codelineno-47-21" name="__codelineno-47-21" href="#__codelineno-47-21"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-47-22" name="__codelineno-47-22" href="#__codelineno-47-22"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-47-23" name="__codelineno-47-23" href="#__codelineno-47-23"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div></p>
<h3 id="start-navigation">Start navigation<a class="headerlink" href="#start-navigation" title="Permanent link">&para;</a></h3>
<p>After called the fetch route API, you should configure some options to start navigation
<div class="highlight"><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">initNavigationOptions</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a><span class="w">        </span><span class="n">VietmapNavigationOptions</span><span class="w"> </span><span class="n">navigationOptions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">VietmapNavigationOptions</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a><span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<a id="__codelineno-48-4" name="__codelineno-48-4" href="#__codelineno-48-4"></a>
<a id="__codelineno-48-5" name="__codelineno-48-5" href="#__codelineno-48-5"></a><span class="w">        </span><span class="n">mapviewNavigationOptions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NavigationViewOptions</span>
<a id="__codelineno-48-6" name="__codelineno-48-6" href="#__codelineno-48-6"></a><span class="w">                </span><span class="p">.</span><span class="na">builder</span><span class="p">().</span><span class="na">navigationListener</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
<a id="__codelineno-48-7" name="__codelineno-48-7" href="#__codelineno-48-7"></a><span class="w">                </span><span class="p">.</span><span class="na">routeListener</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
<a id="__codelineno-48-8" name="__codelineno-48-8" href="#__codelineno-48-8"></a><span class="w">                </span><span class="p">.</span><span class="na">navigationOptions</span><span class="p">(</span><span class="n">navigationOptions</span><span class="p">)</span>
<a id="__codelineno-48-9" name="__codelineno-48-9" href="#__codelineno-48-9"></a><span class="w">                </span><span class="p">.</span><span class="na">locationEngine</span><span class="p">(</span><span class="n">locationEngine</span><span class="p">)</span>
<a id="__codelineno-48-10" name="__codelineno-48-10" href="#__codelineno-48-10"></a><span class="w">                </span><span class="p">.</span><span class="na">shouldSimulateRoute</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span>
<a id="__codelineno-48-11" name="__codelineno-48-11" href="#__codelineno-48-11"></a><span class="w">                </span><span class="p">.</span><span class="na">progressChangeListener</span><span class="p">(</span><span class="n">progressChangeListener</span><span class="p">)</span>
<a id="__codelineno-48-12" name="__codelineno-48-12" href="#__codelineno-48-12"></a><span class="w">                </span><span class="p">.</span><span class="na">directionsRoute</span><span class="p">(</span><span class="n">route</span><span class="p">)</span>
<a id="__codelineno-48-13" name="__codelineno-48-13" href="#__codelineno-48-13"></a><span class="w">                </span><span class="p">.</span><span class="na">onMoveListener</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<a id="__codelineno-48-14" name="__codelineno-48-14" href="#__codelineno-48-14"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div></p>
<h4 id="progresschangelistener">progressChangeListener<a class="headerlink" href="#progresschangelistener" title="Permanent link">&para;</a></h4>
<p>Function response location (current location of the user) and routeProgress (Information about the route the user is taking, the direction of the next turn, the distance to the next turn,...)
<div class="highlight"><pre><span></span><code><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">ProgressChangeListener</span><span class="w"> </span><span class="n">progressChangeListener</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">location</span><span class="p">,</span><span class="w"> </span><span class="n">routeProgress</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Progress Changing&quot;</span><span class="p">);</span>
<a id="__codelineno-49-3" name="__codelineno-49-3" href="#__codelineno-49-3"></a><span class="w">    </span><span class="p">};</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">validRouteResponse</span><span class="p">(</span><span class="n">Response</span><span class="o">&lt;</span><span class="n">DirectionsResponse</span><span class="o">&gt;</span><span class="w"> </span><span class="n">response</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">response</span><span class="p">.</span><span class="na">body</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="n">response</span><span class="p">.</span><span class="na">body</span><span class="p">().</span><span class="na">routes</span><span class="p">().</span><span class="na">isEmpty</span><span class="p">();</span>
<a id="__codelineno-50-3" name="__codelineno-50-3" href="#__codelineno-50-3"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div></p>
<h4 id="initnavigationoptions">initNavigationOptions<a class="headerlink" href="#initnavigationoptions" title="Permanent link">&para;</a></h4>
<p>Function will be called before starting the navigation
<div class="highlight"><pre><span></span><code><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">launchNavigation</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-51-2" name="__codelineno-51-2" href="#__codelineno-51-2"></a><span class="w">        </span><span class="n">launchNavigationFab</span><span class="p">.</span><span class="na">hide</span><span class="p">();</span>
<a id="__codelineno-51-3" name="__codelineno-51-3" href="#__codelineno-51-3"></a><span class="w">        </span><span class="n">navigationView</span><span class="p">.</span><span class="na">setVisibility</span><span class="p">(</span><span class="n">View</span><span class="p">.</span><span class="na">VISIBLE</span><span class="p">);</span>
<a id="__codelineno-51-4" name="__codelineno-51-4" href="#__codelineno-51-4"></a><span class="w">        </span><span class="n">vietmapNavigation</span><span class="p">.</span><span class="na">addOffRouteListener</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<a id="__codelineno-51-5" name="__codelineno-51-5" href="#__codelineno-51-5"></a><span class="w">        </span><span class="n">initNavigationOptions</span><span class="p">();</span>
<a id="__codelineno-51-6" name="__codelineno-51-6" href="#__codelineno-51-6"></a><span class="w">        </span><span class="n">vietmapNavigation</span><span class="p">.</span><span class="na">startNavigation</span><span class="p">(</span><span class="n">route</span><span class="p">);</span>
<a id="__codelineno-51-7" name="__codelineno-51-7" href="#__codelineno-51-7"></a><span class="w">        </span><span class="n">navigationView</span><span class="p">.</span><span class="na">startNavigation</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">mapviewNavigationOptions</span><span class="p">.</span><span class="na">build</span><span class="p">());</span>
<a id="__codelineno-51-8" name="__codelineno-51-8" href="#__codelineno-51-8"></a><span class="w">        </span><span class="n">isArrived</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<a id="__codelineno-51-9" name="__codelineno-51-9" href="#__codelineno-51-9"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div>
<strong><code>launchNavigation</code> should call inside a button</strong>
In <code>launchNavigation</code> function, there're two startNavigation function called:</p>
<p>vietmapNavigation is a controller to listen to all status and information of navigation, and return some navigation callback.
navigationView will show the UI of navigation.</p>
<h4 id="useroffroute">userOffRoute<a class="headerlink" href="#useroffroute" title="Permanent link">&para;</a></h4>
<p>Function return a callback when the user goes wrong with the returned route</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-52-2" name="__codelineno-52-2" href="#__codelineno-52-2"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">userOffRoute</span><span class="p">(</span><span class="n">Location</span><span class="w"> </span><span class="n">location</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-52-3" name="__codelineno-52-3" href="#__codelineno-52-3"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">isArrived</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-52-4" name="__codelineno-52-4" href="#__codelineno-52-4"></a><span class="w">            </span><span class="n">reRoute</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<a id="__codelineno-52-5" name="__codelineno-52-5" href="#__codelineno-52-5"></a><span class="w">            </span><span class="n">fetchRoute</span><span class="p">(</span><span class="n">Point</span><span class="p">.</span><span class="na">fromLngLat</span><span class="p">(</span><span class="n">location</span><span class="p">.</span><span class="na">getLongitude</span><span class="p">(),</span><span class="w"> </span><span class="n">location</span><span class="p">.</span><span class="na">getLatitude</span><span class="p">()),</span><span class="w"> </span><span class="n">destination</span><span class="p">);</span>
<a id="__codelineno-52-6" name="__codelineno-52-6" href="#__codelineno-52-6"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div>
<h4 id="onprogresschange">onProgressChange<a class="headerlink" href="#onprogresschange" title="Permanent link">&para;</a></h4>
<p>Function listen as the user moves, continuously update information about the route the user is traveling, the remaining distance,...
<div class="highlight"><pre><span></span><code><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-53-2" name="__codelineno-53-2" href="#__codelineno-53-2"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onProgressChange</span><span class="p">(</span><span class="n">Location</span><span class="w"> </span><span class="n">location</span><span class="p">,</span><span class="w"> </span><span class="n">RouteProgress</span><span class="w"> </span><span class="n">routeProgress</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-53-3" name="__codelineno-53-3" href="#__codelineno-53-3"></a>
<a id="__codelineno-53-4" name="__codelineno-53-4" href="#__codelineno-53-4"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div></p>
<h4 id="onarrival">onArrival<a class="headerlink" href="#onarrival" title="Permanent link">&para;</a></h4>
<p>Function listen when user is arrival to the destination location
<div class="highlight"><pre><span></span><code><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-54-2" name="__codelineno-54-2" href="#__codelineno-54-2"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onArrival</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-54-3" name="__codelineno-54-3" href="#__codelineno-54-3"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">isArrived</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w">        </span>
<a id="__codelineno-54-4" name="__codelineno-54-4" href="#__codelineno-54-4"></a><span class="w">        </span><span class="n">isArrived</span><span class="o">=</span><span class="kc">true</span><span class="p">;</span>
<a id="__codelineno-54-5" name="__codelineno-54-5" href="#__codelineno-54-5"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div></p>
<p>Adding the following callbacks functions to ensure proper initialization and memory management, as well as handling user actions, the NavigationView component must be linked to the activity's lifecycle using some callbacks below. This allows the NavigationView to properly handle the activity's lifecycle and respond accordingly.
<div class="highlight"><pre><span></span><code><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-55-2" name="__codelineno-55-2" href="#__codelineno-55-2"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onStart</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-55-3" name="__codelineno-55-3" href="#__codelineno-55-3"></a><span class="w">        </span><span class="kd">super</span><span class="p">.</span><span class="na">onStart</span><span class="p">();</span>
<a id="__codelineno-55-4" name="__codelineno-55-4" href="#__codelineno-55-4"></a><span class="w">        </span><span class="n">navigationView</span><span class="p">.</span><span class="na">onStart</span><span class="p">();</span>
<a id="__codelineno-55-5" name="__codelineno-55-5" href="#__codelineno-55-5"></a><span class="w">        </span><span class="n">mapView</span><span class="p">.</span><span class="na">onStart</span><span class="p">();</span>
<a id="__codelineno-55-6" name="__codelineno-55-6" href="#__codelineno-55-6"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-55-7" name="__codelineno-55-7" href="#__codelineno-55-7"></a>
<a id="__codelineno-55-8" name="__codelineno-55-8" href="#__codelineno-55-8"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-55-9" name="__codelineno-55-9" href="#__codelineno-55-9"></a><span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onResume</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-55-10" name="__codelineno-55-10" href="#__codelineno-55-10"></a><span class="w">        </span><span class="kd">super</span><span class="p">.</span><span class="na">onResume</span><span class="p">();</span>
<a id="__codelineno-55-11" name="__codelineno-55-11" href="#__codelineno-55-11"></a><span class="w">        </span><span class="n">navigationView</span><span class="p">.</span><span class="na">onResume</span><span class="p">();</span>
<a id="__codelineno-55-12" name="__codelineno-55-12" href="#__codelineno-55-12"></a><span class="w">        </span><span class="n">mapView</span><span class="p">.</span><span class="na">onResume</span><span class="p">();</span>
<a id="__codelineno-55-13" name="__codelineno-55-13" href="#__codelineno-55-13"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">locationEngine</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-55-14" name="__codelineno-55-14" href="#__codelineno-55-14"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-55-15" name="__codelineno-55-15" href="#__codelineno-55-15"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-55-16" name="__codelineno-55-16" href="#__codelineno-55-16"></a>
<a id="__codelineno-55-17" name="__codelineno-55-17" href="#__codelineno-55-17"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-55-18" name="__codelineno-55-18" href="#__codelineno-55-18"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onLowMemory</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-55-19" name="__codelineno-55-19" href="#__codelineno-55-19"></a><span class="w">        </span><span class="kd">super</span><span class="p">.</span><span class="na">onLowMemory</span><span class="p">();</span>
<a id="__codelineno-55-20" name="__codelineno-55-20" href="#__codelineno-55-20"></a><span class="w">        </span><span class="n">navigationView</span><span class="p">.</span><span class="na">onLowMemory</span><span class="p">();</span>
<a id="__codelineno-55-21" name="__codelineno-55-21" href="#__codelineno-55-21"></a><span class="w">        </span><span class="n">mapView</span><span class="p">.</span><span class="na">onLowMemory</span><span class="p">();</span>
<a id="__codelineno-55-22" name="__codelineno-55-22" href="#__codelineno-55-22"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-55-23" name="__codelineno-55-23" href="#__codelineno-55-23"></a>
<a id="__codelineno-55-24" name="__codelineno-55-24" href="#__codelineno-55-24"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-55-25" name="__codelineno-55-25" href="#__codelineno-55-25"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onBackPressed</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-55-26" name="__codelineno-55-26" href="#__codelineno-55-26"></a><span class="w">        </span><span class="n">stopNavigationFunction</span><span class="p">();</span>
<a id="__codelineno-55-27" name="__codelineno-55-27" href="#__codelineno-55-27"></a>
<a id="__codelineno-55-28" name="__codelineno-55-28" href="#__codelineno-55-28"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">navigationView</span><span class="p">.</span><span class="na">onBackPressed</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-55-29" name="__codelineno-55-29" href="#__codelineno-55-29"></a><span class="w">            </span><span class="kd">super</span><span class="p">.</span><span class="na">onBackPressed</span><span class="p">();</span>
<a id="__codelineno-55-30" name="__codelineno-55-30" href="#__codelineno-55-30"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-55-31" name="__codelineno-55-31" href="#__codelineno-55-31"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-55-32" name="__codelineno-55-32" href="#__codelineno-55-32"></a>
<a id="__codelineno-55-33" name="__codelineno-55-33" href="#__codelineno-55-33"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-55-34" name="__codelineno-55-34" href="#__codelineno-55-34"></a><span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onSaveInstanceState</span><span class="p">(</span><span class="n">Bundle</span><span class="w"> </span><span class="n">outState</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-55-35" name="__codelineno-55-35" href="#__codelineno-55-35"></a><span class="w">        </span><span class="n">navigationView</span><span class="p">.</span><span class="na">onSaveInstanceState</span><span class="p">(</span><span class="n">outState</span><span class="p">);</span>
<a id="__codelineno-55-36" name="__codelineno-55-36" href="#__codelineno-55-36"></a><span class="w">        </span><span class="n">mapView</span><span class="p">.</span><span class="na">onSaveInstanceState</span><span class="p">(</span><span class="n">outState</span><span class="p">);</span>
<a id="__codelineno-55-37" name="__codelineno-55-37" href="#__codelineno-55-37"></a><span class="w">        </span><span class="kd">super</span><span class="p">.</span><span class="na">onSaveInstanceState</span><span class="p">(</span><span class="n">outState</span><span class="p">);</span>
<a id="__codelineno-55-38" name="__codelineno-55-38" href="#__codelineno-55-38"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-55-39" name="__codelineno-55-39" href="#__codelineno-55-39"></a>
<a id="__codelineno-55-40" name="__codelineno-55-40" href="#__codelineno-55-40"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-55-41" name="__codelineno-55-41" href="#__codelineno-55-41"></a><span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onRestoreInstanceState</span><span class="p">(</span><span class="n">Bundle</span><span class="w"> </span><span class="n">savedInstanceState</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-55-42" name="__codelineno-55-42" href="#__codelineno-55-42"></a><span class="w">        </span><span class="kd">super</span><span class="p">.</span><span class="na">onRestoreInstanceState</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span>
<a id="__codelineno-55-43" name="__codelineno-55-43" href="#__codelineno-55-43"></a><span class="w">        </span><span class="n">navigationView</span><span class="p">.</span><span class="na">onRestoreInstanceState</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span>
<a id="__codelineno-55-44" name="__codelineno-55-44" href="#__codelineno-55-44"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-55-45" name="__codelineno-55-45" href="#__codelineno-55-45"></a>
<a id="__codelineno-55-46" name="__codelineno-55-46" href="#__codelineno-55-46"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-55-47" name="__codelineno-55-47" href="#__codelineno-55-47"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onPause</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-55-48" name="__codelineno-55-48" href="#__codelineno-55-48"></a><span class="w">        </span><span class="kd">super</span><span class="p">.</span><span class="na">onPause</span><span class="p">();</span>
<a id="__codelineno-55-49" name="__codelineno-55-49" href="#__codelineno-55-49"></a><span class="w">        </span><span class="n">navigationView</span><span class="p">.</span><span class="na">onPause</span><span class="p">();</span>
<a id="__codelineno-55-50" name="__codelineno-55-50" href="#__codelineno-55-50"></a><span class="w">        </span><span class="n">mapView</span><span class="p">.</span><span class="na">onPause</span><span class="p">();</span>
<a id="__codelineno-55-51" name="__codelineno-55-51" href="#__codelineno-55-51"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">locationEngine</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-55-52" name="__codelineno-55-52" href="#__codelineno-55-52"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-55-53" name="__codelineno-55-53" href="#__codelineno-55-53"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-55-54" name="__codelineno-55-54" href="#__codelineno-55-54"></a>
<a id="__codelineno-55-55" name="__codelineno-55-55" href="#__codelineno-55-55"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-55-56" name="__codelineno-55-56" href="#__codelineno-55-56"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onStop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-55-57" name="__codelineno-55-57" href="#__codelineno-55-57"></a><span class="w">        </span><span class="kd">super</span><span class="p">.</span><span class="na">onStop</span><span class="p">();</span>
<a id="__codelineno-55-58" name="__codelineno-55-58" href="#__codelineno-55-58"></a><span class="w">        </span><span class="n">navigationView</span><span class="p">.</span><span class="na">onStop</span><span class="p">();</span>
<a id="__codelineno-55-59" name="__codelineno-55-59" href="#__codelineno-55-59"></a><span class="w">        </span><span class="n">mapView</span><span class="p">.</span><span class="na">onStop</span><span class="p">();</span>
<a id="__codelineno-55-60" name="__codelineno-55-60" href="#__codelineno-55-60"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-55-61" name="__codelineno-55-61" href="#__codelineno-55-61"></a>
<a id="__codelineno-55-62" name="__codelineno-55-62" href="#__codelineno-55-62"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-55-63" name="__codelineno-55-63" href="#__codelineno-55-63"></a><span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onDestroy</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-55-64" name="__codelineno-55-64" href="#__codelineno-55-64"></a><span class="w">        </span><span class="kd">super</span><span class="p">.</span><span class="na">onDestroy</span><span class="p">();</span>
<a id="__codelineno-55-65" name="__codelineno-55-65" href="#__codelineno-55-65"></a><span class="w">        </span><span class="n">navigationView</span><span class="p">.</span><span class="na">onDestroy</span><span class="p">();</span>
<a id="__codelineno-55-66" name="__codelineno-55-66" href="#__codelineno-55-66"></a><span class="w">        </span><span class="n">mapView</span><span class="p">.</span><span class="na">onDestroy</span><span class="p">();</span>
<a id="__codelineno-55-67" name="__codelineno-55-67" href="#__codelineno-55-67"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">locationEngine</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-55-68" name="__codelineno-55-68" href="#__codelineno-55-68"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-55-69" name="__codelineno-55-69" href="#__codelineno-55-69"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div></p>
<p>At MainActivity, add the function to check location permission and push to the navigation activity
<div class="highlight"><pre><span></span><code><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MainActivity</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">AppCompatActivity</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">PermissionsListener</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-56-2" name="__codelineno-56-2" href="#__codelineno-56-2"></a>
<a id="__codelineno-56-3" name="__codelineno-56-3" href="#__codelineno-56-3"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">PermissionsManager</span><span class="w"> </span><span class="n">permissionsManager</span><span class="p">;</span>
<a id="__codelineno-56-4" name="__codelineno-56-4" href="#__codelineno-56-4"></a>
<a id="__codelineno-56-5" name="__codelineno-56-5" href="#__codelineno-56-5"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">TextToSpeech</span><span class="w"> </span><span class="n">textToSpeech</span><span class="p">;</span>
<a id="__codelineno-56-6" name="__codelineno-56-6" href="#__codelineno-56-6"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-56-7" name="__codelineno-56-7" href="#__codelineno-56-7"></a><span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onCreate</span><span class="p">(</span><span class="n">Bundle</span><span class="w"> </span><span class="n">savedInstanceState</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-56-8" name="__codelineno-56-8" href="#__codelineno-56-8"></a><span class="w">        </span><span class="kd">super</span><span class="p">.</span><span class="na">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span>
<a id="__codelineno-56-9" name="__codelineno-56-9" href="#__codelineno-56-9"></a><span class="w">        </span><span class="n">setContentView</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">layout</span><span class="p">.</span><span class="na">activity_main</span><span class="p">);</span>
<a id="__codelineno-56-10" name="__codelineno-56-10" href="#__codelineno-56-10"></a><span class="w">        </span><span class="n">Button</span><span class="w"> </span><span class="n">button</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">pushToNavigationScreen</span><span class="p">);</span>
<a id="__codelineno-56-11" name="__codelineno-56-11" href="#__codelineno-56-11"></a><span class="w">        </span><span class="n">Button</span><span class="w"> </span><span class="n">ttsButton</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">testSpeech</span><span class="p">);</span>
<a id="__codelineno-56-12" name="__codelineno-56-12" href="#__codelineno-56-12"></a><span class="w">        </span><span class="n">Button</span><span class="w"> </span><span class="n">speechAgain</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">speechAgain</span><span class="p">);</span>
<a id="__codelineno-56-13" name="__codelineno-56-13" href="#__codelineno-56-13"></a><span class="w">        </span><span class="n">Intent</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Intent</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="n">VietMapNavigationActivity</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<a id="__codelineno-56-14" name="__codelineno-56-14" href="#__codelineno-56-14"></a><span class="w">        </span><span class="n">button</span><span class="p">.</span><span class="na">setOnClickListener</span><span class="p">(</span><span class="n">view</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-56-15" name="__codelineno-56-15" href="#__codelineno-56-15"></a><span class="w">            </span><span class="n">startActivity</span><span class="p">(</span><span class="n">it</span><span class="p">);</span>
<a id="__codelineno-56-16" name="__codelineno-56-16" href="#__codelineno-56-16"></a><span class="w">            </span><span class="n">speechAgain</span><span class="p">.</span><span class="na">setVisibility</span><span class="p">(</span><span class="n">View</span><span class="p">.</span><span class="na">GONE</span><span class="p">);</span>
<a id="__codelineno-56-17" name="__codelineno-56-17" href="#__codelineno-56-17"></a><span class="w">        </span><span class="p">});</span>
<a id="__codelineno-56-18" name="__codelineno-56-18" href="#__codelineno-56-18"></a><span class="w">        </span><span class="n">speechAgain</span><span class="p">.</span><span class="na">setOnClickListener</span><span class="p">(</span><span class="n">view</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">speakOut</span><span class="p">(</span><span class="s">&quot;Ngôn ngữ: Tiếng Việt&quot;</span><span class="p">));</span>
<a id="__codelineno-56-19" name="__codelineno-56-19" href="#__codelineno-56-19"></a><span class="w">        </span><span class="n">ttsButton</span><span class="p">.</span><span class="na">setOnClickListener</span><span class="p">(</span><span class="n">view</span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-56-20" name="__codelineno-56-20" href="#__codelineno-56-20"></a><span class="w">            </span><span class="n">startActivity</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Intent</span><span class="p">(</span><span class="s">&quot;com.android.settings.TTS_SETTINGS&quot;</span><span class="p">));</span>
<a id="__codelineno-56-21" name="__codelineno-56-21" href="#__codelineno-56-21"></a><span class="w">            </span><span class="n">speechAgain</span><span class="p">.</span><span class="na">setVisibility</span><span class="p">(</span><span class="n">View</span><span class="p">.</span><span class="na">VISIBLE</span><span class="p">);</span>
<a id="__codelineno-56-22" name="__codelineno-56-22" href="#__codelineno-56-22"></a><span class="w">        </span><span class="p">});</span>
<a id="__codelineno-56-23" name="__codelineno-56-23" href="#__codelineno-56-23"></a><span class="w">        </span><span class="n">permissionsManager</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PermissionsManager</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<a id="__codelineno-56-24" name="__codelineno-56-24" href="#__codelineno-56-24"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">PermissionsManager</span><span class="p">.</span><span class="na">areLocationPermissionsGranted</span><span class="p">(</span><span class="k">this</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-56-25" name="__codelineno-56-25" href="#__codelineno-56-25"></a><span class="w">            </span><span class="n">permissionsManager</span><span class="p">.</span><span class="na">requestLocationPermissions</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<a id="__codelineno-56-26" name="__codelineno-56-26" href="#__codelineno-56-26"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-56-27" name="__codelineno-56-27" href="#__codelineno-56-27"></a>
<a id="__codelineno-56-28" name="__codelineno-56-28" href="#__codelineno-56-28"></a><span class="w">        </span><span class="n">textToSpeech</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">TextToSpeech</span><span class="p">(</span><span class="n">getApplicationContext</span><span class="p">(),</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">setTextToSpeechLanguage</span><span class="p">());</span>
<a id="__codelineno-56-29" name="__codelineno-56-29" href="#__codelineno-56-29"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-56-30" name="__codelineno-56-30" href="#__codelineno-56-30"></a>
<a id="__codelineno-56-31" name="__codelineno-56-31" href="#__codelineno-56-31"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setTextToSpeechLanguage</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-56-32" name="__codelineno-56-32" href="#__codelineno-56-32"></a><span class="w">        </span><span class="n">Locale</span><span class="w"> </span><span class="n">language</span><span class="w"> </span><span class="o">=</span><span class="k">new</span><span class="w"> </span><span class="n">Locale</span><span class="p">(</span><span class="s">&quot;vi&quot;</span><span class="p">,</span><span class="s">&quot;VN&quot;</span><span class="p">);</span>
<a id="__codelineno-56-33" name="__codelineno-56-33" href="#__codelineno-56-33"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">textToSpeech</span><span class="p">.</span><span class="na">setLanguage</span><span class="p">(</span><span class="n">language</span><span class="p">);</span>
<a id="__codelineno-56-34" name="__codelineno-56-34" href="#__codelineno-56-34"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">TextToSpeech</span><span class="p">.</span><span class="na">LANG_MISSING_DATA</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-56-35" name="__codelineno-56-35" href="#__codelineno-56-35"></a><span class="w">            </span><span class="n">Toast</span><span class="p">.</span><span class="na">makeText</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Không có dữ liệu ngôn ngữ&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Toast</span><span class="p">.</span><span class="na">LENGTH_LONG</span><span class="p">).</span><span class="na">show</span><span class="p">();</span>
<a id="__codelineno-56-36" name="__codelineno-56-36" href="#__codelineno-56-36"></a><span class="w">            </span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-56-37" name="__codelineno-56-37" href="#__codelineno-56-37"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">TextToSpeech</span><span class="p">.</span><span class="na">LANG_NOT_SUPPORTED</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-56-38" name="__codelineno-56-38" href="#__codelineno-56-38"></a><span class="w">            </span><span class="n">Toast</span><span class="p">.</span><span class="na">makeText</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Chưa hỗ trợ ngôn ngữ &quot;</span><span class="o">+</span><span class="n">language</span><span class="p">.</span><span class="na">getLanguage</span><span class="p">()</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">Toast</span><span class="p">.</span><span class="na">LENGTH_LONG</span><span class="p">).</span><span class="na">show</span><span class="p">();</span>
<a id="__codelineno-56-39" name="__codelineno-56-39" href="#__codelineno-56-39"></a><span class="w">            </span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-56-40" name="__codelineno-56-40" href="#__codelineno-56-40"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-56-41" name="__codelineno-56-41" href="#__codelineno-56-41"></a><span class="w">            </span><span class="n">Toast</span><span class="p">.</span><span class="na">makeText</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Ngôn ngữ: Tiếng Việt&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Toast</span><span class="p">.</span><span class="na">LENGTH_LONG</span><span class="p">).</span><span class="na">show</span><span class="p">();</span>
<a id="__codelineno-56-42" name="__codelineno-56-42" href="#__codelineno-56-42"></a><span class="w">            </span><span class="n">speakOut</span><span class="p">(</span><span class="s">&quot;Ngôn ngữ: Tiếng Việt&quot;</span><span class="p">);</span>
<a id="__codelineno-56-43" name="__codelineno-56-43" href="#__codelineno-56-43"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-56-44" name="__codelineno-56-44" href="#__codelineno-56-44"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-56-45" name="__codelineno-56-45" href="#__codelineno-56-45"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">speakOut</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">speechContent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-56-46" name="__codelineno-56-46" href="#__codelineno-56-46"></a><span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">utteranceId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UUID</span><span class="p">.</span><span class="na">randomUUID</span><span class="p">().</span><span class="na">toString</span><span class="p">();</span>
<a id="__codelineno-56-47" name="__codelineno-56-47" href="#__codelineno-56-47"></a><span class="w">        </span><span class="n">textToSpeech</span><span class="p">.</span><span class="na">speak</span><span class="p">(</span><span class="n">speechContent</span><span class="p">,</span><span class="w"> </span><span class="n">TextToSpeech</span><span class="p">.</span><span class="na">QUEUE_FLUSH</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="n">utteranceId</span><span class="p">);</span>
<a id="__codelineno-56-48" name="__codelineno-56-48" href="#__codelineno-56-48"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-56-49" name="__codelineno-56-49" href="#__codelineno-56-49"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-56-50" name="__codelineno-56-50" href="#__codelineno-56-50"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onRequestPermissionsResult</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">requestCode</span><span class="p">,</span><span class="w"> </span><span class="nd">@NonNull</span><span class="w"> </span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">permissions</span><span class="p">,</span>
<a id="__codelineno-56-51" name="__codelineno-56-51" href="#__codelineno-56-51"></a><span class="w">                                           </span><span class="nd">@NonNull</span><span class="w"> </span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">grantResults</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-56-52" name="__codelineno-56-52" href="#__codelineno-56-52"></a><span class="w">        </span><span class="kd">super</span><span class="p">.</span><span class="na">onRequestPermissionsResult</span><span class="p">(</span><span class="n">requestCode</span><span class="p">,</span><span class="w"> </span><span class="n">permissions</span><span class="p">,</span><span class="w"> </span><span class="n">grantResults</span><span class="p">);</span>
<a id="__codelineno-56-53" name="__codelineno-56-53" href="#__codelineno-56-53"></a><span class="w">        </span><span class="n">permissionsManager</span><span class="p">.</span><span class="na">onRequestPermissionsResult</span><span class="p">(</span><span class="n">requestCode</span><span class="p">,</span><span class="w"> </span><span class="n">permissions</span><span class="p">,</span><span class="w"> </span><span class="n">grantResults</span><span class="p">);</span>
<a id="__codelineno-56-54" name="__codelineno-56-54" href="#__codelineno-56-54"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-56-55" name="__codelineno-56-55" href="#__codelineno-56-55"></a>
<a id="__codelineno-56-56" name="__codelineno-56-56" href="#__codelineno-56-56"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-56-57" name="__codelineno-56-57" href="#__codelineno-56-57"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onExplanationNeeded</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">permissionsToExplain</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-56-58" name="__codelineno-56-58" href="#__codelineno-56-58"></a><span class="w">        </span><span class="n">Toast</span><span class="p">.</span><span class="na">makeText</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;This app needs location permissions in order to show its functionality.&quot;</span><span class="p">,</span>
<a id="__codelineno-56-59" name="__codelineno-56-59" href="#__codelineno-56-59"></a><span class="w">                </span><span class="n">Toast</span><span class="p">.</span><span class="na">LENGTH_LONG</span><span class="p">).</span><span class="na">show</span><span class="p">();</span>
<a id="__codelineno-56-60" name="__codelineno-56-60" href="#__codelineno-56-60"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-56-61" name="__codelineno-56-61" href="#__codelineno-56-61"></a>
<a id="__codelineno-56-62" name="__codelineno-56-62" href="#__codelineno-56-62"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-56-63" name="__codelineno-56-63" href="#__codelineno-56-63"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onPermissionResult</span><span class="p">(</span><span class="kt">boolean</span><span class="w"> </span><span class="n">granted</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-56-64" name="__codelineno-56-64" href="#__codelineno-56-64"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">granted</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-56-65" name="__codelineno-56-65" href="#__codelineno-56-65"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-56-66" name="__codelineno-56-66" href="#__codelineno-56-66"></a><span class="w">            </span><span class="n">Toast</span><span class="p">.</span><span class="na">makeText</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;You didn&#39;t grant location permissions.&quot;</span><span class="p">,</span>
<a id="__codelineno-56-67" name="__codelineno-56-67" href="#__codelineno-56-67"></a><span class="w">                    </span><span class="n">Toast</span><span class="p">.</span><span class="na">LENGTH_LONG</span><span class="p">).</span><span class="na">show</span><span class="p">();</span>
<a id="__codelineno-56-68" name="__codelineno-56-68" href="#__codelineno-56-68"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-56-69" name="__codelineno-56-69" href="#__codelineno-56-69"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-56-70" name="__codelineno-56-70" href="#__codelineno-56-70"></a><span class="p">}</span>
</code></pre></div></p>
<p>In <strong>activity_main.xml</strong> file, add button layout
<div class="highlight"><pre><span></span><code><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a><span class="w">    </span><span class="o">&lt;</span><span class="n">Button</span>
<a id="__codelineno-57-2" name="__codelineno-57-2" href="#__codelineno-57-2"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">id</span><span class="o">=</span><span class="s">&quot;@+id/pushToNavigationScreen&quot;</span>
<a id="__codelineno-57-3" name="__codelineno-57-3" href="#__codelineno-57-3"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">&quot;wrap_content&quot;</span>
<a id="__codelineno-57-4" name="__codelineno-57-4" href="#__codelineno-57-4"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">&quot;wrap_content&quot;</span>
<a id="__codelineno-57-5" name="__codelineno-57-5" href="#__codelineno-57-5"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">layout_marginTop</span><span class="o">=</span><span class="s">&quot;36dp&quot;</span>
<a id="__codelineno-57-6" name="__codelineno-57-6" href="#__codelineno-57-6"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">text</span><span class="o">=</span><span class="s">&quot;Dẫn đường với VietMap&quot;</span>
<a id="__codelineno-57-7" name="__codelineno-57-7" href="#__codelineno-57-7"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintEnd_toEndOf</span><span class="o">=</span><span class="s">&quot;parent&quot;</span>
<a id="__codelineno-57-8" name="__codelineno-57-8" href="#__codelineno-57-8"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintHorizontal_bias</span><span class="o">=</span><span class="s">&quot;0.494&quot;</span>
<a id="__codelineno-57-9" name="__codelineno-57-9" href="#__codelineno-57-9"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintStart_toStartOf</span><span class="o">=</span><span class="s">&quot;parent&quot;</span>
<a id="__codelineno-57-10" name="__codelineno-57-10" href="#__codelineno-57-10"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintTop_toTopOf</span><span class="o">=</span><span class="s">&quot;parent&quot;</span>
<a id="__codelineno-57-11" name="__codelineno-57-11" href="#__codelineno-57-11"></a><span class="w">         </span><span class="o">/&gt;</span>
<a id="__codelineno-57-12" name="__codelineno-57-12" href="#__codelineno-57-12"></a>
<a id="__codelineno-57-13" name="__codelineno-57-13" href="#__codelineno-57-13"></a><span class="w">    </span><span class="o">&lt;</span><span class="n">TextView</span>
<a id="__codelineno-57-14" name="__codelineno-57-14" href="#__codelineno-57-14"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">id</span><span class="o">=</span><span class="s">&quot;@+id/guideText&quot;</span>
<a id="__codelineno-57-15" name="__codelineno-57-15" href="#__codelineno-57-15"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">&quot;match_parent&quot;</span>
<a id="__codelineno-57-16" name="__codelineno-57-16" href="#__codelineno-57-16"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">&quot;wrap_content&quot;</span>
<a id="__codelineno-57-17" name="__codelineno-57-17" href="#__codelineno-57-17"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">layout_marginTop</span><span class="o">=</span><span class="s">&quot;36dp&quot;</span>
<a id="__codelineno-57-18" name="__codelineno-57-18" href="#__codelineno-57-18"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">layout_marginLeft</span><span class="o">=</span><span class="s">&quot;15dp&quot;</span>
<a id="__codelineno-57-19" name="__codelineno-57-19" href="#__codelineno-57-19"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">textSize</span><span class="o">=</span><span class="s">&quot;16dp&quot;</span>
<a id="__codelineno-57-20" name="__codelineno-57-20" href="#__codelineno-57-20"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">layout_marginRight</span><span class="o">=</span><span class="s">&quot;15dp&quot;</span>
<a id="__codelineno-57-21" name="__codelineno-57-21" href="#__codelineno-57-21"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintTop_toBottomOf</span><span class="o">=</span><span class="s">&quot;@+id/pushToNavigationScreen&quot;</span>
<a id="__codelineno-57-22" name="__codelineno-57-22" href="#__codelineno-57-22"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintStart_toStartOf</span><span class="o">=</span><span class="s">&quot;parent&quot;</span>
<a id="__codelineno-57-23" name="__codelineno-57-23" href="#__codelineno-57-23"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">text</span><span class="o">=</span><span class="s">&quot;@string/tts_guide&quot;</span>
<a id="__codelineno-57-24" name="__codelineno-57-24" href="#__codelineno-57-24"></a><span class="w">        </span><span class="o">/&gt;</span>
<a id="__codelineno-57-25" name="__codelineno-57-25" href="#__codelineno-57-25"></a>
<a id="__codelineno-57-26" name="__codelineno-57-26" href="#__codelineno-57-26"></a><span class="w">    </span><span class="o">&lt;</span><span class="n">Button</span>
<a id="__codelineno-57-27" name="__codelineno-57-27" href="#__codelineno-57-27"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">id</span><span class="o">=</span><span class="s">&quot;@+id/testSpeech&quot;</span>
<a id="__codelineno-57-28" name="__codelineno-57-28" href="#__codelineno-57-28"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">&quot;wrap_content&quot;</span>
<a id="__codelineno-57-29" name="__codelineno-57-29" href="#__codelineno-57-29"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">&quot;wrap_content&quot;</span>
<a id="__codelineno-57-30" name="__codelineno-57-30" href="#__codelineno-57-30"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">layout_marginTop</span><span class="o">=</span><span class="s">&quot;36dp&quot;</span>
<a id="__codelineno-57-31" name="__codelineno-57-31" href="#__codelineno-57-31"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">text</span><span class="o">=</span><span class="s">&quot;Cài đặt text to speech&quot;</span>
<a id="__codelineno-57-32" name="__codelineno-57-32" href="#__codelineno-57-32"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintEnd_toEndOf</span><span class="o">=</span><span class="s">&quot;parent&quot;</span>
<a id="__codelineno-57-33" name="__codelineno-57-33" href="#__codelineno-57-33"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintHorizontal_bias</span><span class="o">=</span><span class="s">&quot;0.494&quot;</span>
<a id="__codelineno-57-34" name="__codelineno-57-34" href="#__codelineno-57-34"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintStart_toStartOf</span><span class="o">=</span><span class="s">&quot;parent&quot;</span>
<a id="__codelineno-57-35" name="__codelineno-57-35" href="#__codelineno-57-35"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintTop_toBottomOf</span><span class="o">=</span><span class="s">&quot;@+id/guideText&quot;</span>
<a id="__codelineno-57-36" name="__codelineno-57-36" href="#__codelineno-57-36"></a><span class="w">        </span><span class="o">/&gt;</span>
<a id="__codelineno-57-37" name="__codelineno-57-37" href="#__codelineno-57-37"></a>
<a id="__codelineno-57-38" name="__codelineno-57-38" href="#__codelineno-57-38"></a><span class="w">    </span><span class="o">&lt;</span><span class="n">Button</span>
<a id="__codelineno-57-39" name="__codelineno-57-39" href="#__codelineno-57-39"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">id</span><span class="o">=</span><span class="s">&quot;@+id/speechAgain&quot;</span>
<a id="__codelineno-57-40" name="__codelineno-57-40" href="#__codelineno-57-40"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">&quot;wrap_content&quot;</span>
<a id="__codelineno-57-41" name="__codelineno-57-41" href="#__codelineno-57-41"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">&quot;wrap_content&quot;</span>
<a id="__codelineno-57-42" name="__codelineno-57-42" href="#__codelineno-57-42"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">layout_marginTop</span><span class="o">=</span><span class="s">&quot;36dp&quot;</span>
<a id="__codelineno-57-43" name="__codelineno-57-43" href="#__codelineno-57-43"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">text</span><span class="o">=</span><span class="s">&quot;Nghe lại&quot;</span>
<a id="__codelineno-57-44" name="__codelineno-57-44" href="#__codelineno-57-44"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">visibility</span><span class="o">=</span><span class="s">&quot;gone&quot;</span>
<a id="__codelineno-57-45" name="__codelineno-57-45" href="#__codelineno-57-45"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintEnd_toEndOf</span><span class="o">=</span><span class="s">&quot;parent&quot;</span>
<a id="__codelineno-57-46" name="__codelineno-57-46" href="#__codelineno-57-46"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintHorizontal_bias</span><span class="o">=</span><span class="s">&quot;0.494&quot;</span>
<a id="__codelineno-57-47" name="__codelineno-57-47" href="#__codelineno-57-47"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintStart_toStartOf</span><span class="o">=</span><span class="s">&quot;parent&quot;</span>
<a id="__codelineno-57-48" name="__codelineno-57-48" href="#__codelineno-57-48"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintTop_toBottomOf</span><span class="o">=</span><span class="s">&quot;@+id/testSpeech&quot;</span>
<a id="__codelineno-57-49" name="__codelineno-57-49" href="#__codelineno-57-49"></a><span class="w">        </span><span class="o">/&gt;</span>
</code></pre></div></p>
<h3 id="custom-navigation-ui">Custom navigation UI<a class="headerlink" href="#custom-navigation-ui" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a>    navigationView.initViewConfig(true);
</code></pre></div>
<p>In the <code>onCreate</code> callback, add this code to hide all of the navigation UI, the sdk will show the map and navigation only.
<div class="highlight"><pre><span></span><code><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a><span class="w">    </span><span class="o">&lt;</span><span class="n">androidx</span><span class="p">.</span><span class="na">appcompat</span><span class="p">.</span><span class="na">widget</span><span class="p">.</span><span class="na">LinearLayoutCompat</span>
<a id="__codelineno-59-2" name="__codelineno-59-2" href="#__codelineno-59-2"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">&quot;match_parent&quot;</span>
<a id="__codelineno-59-3" name="__codelineno-59-3" href="#__codelineno-59-3"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">&quot;wrap_content&quot;</span>
<a id="__codelineno-59-4" name="__codelineno-59-4" href="#__codelineno-59-4"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintStart_toStartOf</span><span class="o">=</span><span class="s">&quot;parent&quot;</span>
<a id="__codelineno-59-5" name="__codelineno-59-5" href="#__codelineno-59-5"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">id</span><span class="o">=</span><span class="s">&quot;@+id/navigationAction&quot;</span>
<a id="__codelineno-59-6" name="__codelineno-59-6" href="#__codelineno-59-6"></a><span class="w">        </span><span class="n">android</span><span class="p">:</span><span class="n">orientation</span><span class="o">=</span><span class="s">&quot;horizontal&quot;</span>
<a id="__codelineno-59-7" name="__codelineno-59-7" href="#__codelineno-59-7"></a><span class="w">        </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintBottom_toBottomOf</span><span class="o">=</span><span class="s">&quot;parent&quot;</span><span class="o">&gt;</span>
<a id="__codelineno-59-8" name="__codelineno-59-8" href="#__codelineno-59-8"></a><span class="w">        </span><span class="o">&lt;</span><span class="n">Button</span>
<a id="__codelineno-59-9" name="__codelineno-59-9" href="#__codelineno-59-9"></a><span class="w">            </span><span class="n">android</span><span class="p">:</span><span class="n">id</span><span class="o">=</span><span class="s">&quot;@+id/overViewRouteButton&quot;</span>
<a id="__codelineno-59-10" name="__codelineno-59-10" href="#__codelineno-59-10"></a><span class="w">            </span><span class="n">android</span><span class="p">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">&quot;wrap_content&quot;</span>
<a id="__codelineno-59-11" name="__codelineno-59-11" href="#__codelineno-59-11"></a><span class="w">            </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintStart_toEndOf</span><span class="o">=</span><span class="s">&quot;@+id/stopNavigation&quot;</span>
<a id="__codelineno-59-12" name="__codelineno-59-12" href="#__codelineno-59-12"></a><span class="w">            </span><span class="n">android</span><span class="p">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">&quot;wrap_content&quot;</span>
<a id="__codelineno-59-13" name="__codelineno-59-13" href="#__codelineno-59-13"></a><span class="w">            </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintTop_toBottomOf</span><span class="o">=</span><span class="s">&quot;@id/stopNavigation&quot;</span>
<a id="__codelineno-59-14" name="__codelineno-59-14" href="#__codelineno-59-14"></a><span class="w">            </span><span class="n">android</span><span class="p">:</span><span class="n">layout_gravity</span><span class="o">=</span><span class="s">&quot;top&quot;</span>
<a id="__codelineno-59-15" name="__codelineno-59-15" href="#__codelineno-59-15"></a><span class="w">            </span><span class="n">android</span><span class="p">:</span><span class="n">layout_margin</span><span class="o">=</span><span class="s">&quot;16dp&quot;</span>
<a id="__codelineno-59-16" name="__codelineno-59-16" href="#__codelineno-59-16"></a><span class="w">            </span><span class="n">android</span><span class="p">:</span><span class="n">text</span><span class="o">=</span><span class="s">&quot;Over View&quot;</span>
<a id="__codelineno-59-17" name="__codelineno-59-17" href="#__codelineno-59-17"></a><span class="w">            </span><span class="n">app</span><span class="p">:</span><span class="n">layout_anchorGravity</span><span class="o">=</span><span class="s">&quot;top|left&quot;</span>
<a id="__codelineno-59-18" name="__codelineno-59-18" href="#__codelineno-59-18"></a><span class="w">            </span><span class="n">android</span><span class="p">:</span><span class="n">visibility</span><span class="o">=</span><span class="s">&quot;gone&quot;</span>
<a id="__codelineno-59-19" name="__codelineno-59-19" href="#__codelineno-59-19"></a><span class="w">            </span><span class="n">android</span><span class="p">:</span><span class="n">textColor</span><span class="o">=</span><span class="s">&quot;@color/black&quot;</span>
<a id="__codelineno-59-20" name="__codelineno-59-20" href="#__codelineno-59-20"></a><span class="w">            </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintStart_toStartOf</span><span class="o">=</span><span class="s">&quot;parent&quot;</span>
<a id="__codelineno-59-21" name="__codelineno-59-21" href="#__codelineno-59-21"></a><span class="w">            </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintTop_toTopOf</span><span class="o">=</span><span class="s">&quot;parent&quot;</span><span class="w"> </span><span class="o">/&gt;</span>
<a id="__codelineno-59-22" name="__codelineno-59-22" href="#__codelineno-59-22"></a><span class="w">        </span><span class="o">&lt;</span><span class="n">Button</span>
<a id="__codelineno-59-23" name="__codelineno-59-23" href="#__codelineno-59-23"></a><span class="w">            </span><span class="n">android</span><span class="p">:</span><span class="n">id</span><span class="o">=</span><span class="s">&quot;@+id/recenterBtnCustom&quot;</span>
<a id="__codelineno-59-24" name="__codelineno-59-24" href="#__codelineno-59-24"></a><span class="w">            </span><span class="n">android</span><span class="p">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">&quot;wrap_content&quot;</span>
<a id="__codelineno-59-25" name="__codelineno-59-25" href="#__codelineno-59-25"></a><span class="w">            </span><span class="n">android</span><span class="p">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">&quot;wrap_content&quot;</span>
<a id="__codelineno-59-26" name="__codelineno-59-26" href="#__codelineno-59-26"></a><span class="w">            </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintBottom_toBottomOf</span><span class="o">=</span><span class="s">&quot;parent&quot;</span>
<a id="__codelineno-59-27" name="__codelineno-59-27" href="#__codelineno-59-27"></a><span class="w">            </span><span class="n">android</span><span class="p">:</span><span class="n">layout_gravity</span><span class="o">=</span><span class="s">&quot;top&quot;</span>
<a id="__codelineno-59-28" name="__codelineno-59-28" href="#__codelineno-59-28"></a><span class="w">            </span><span class="n">android</span><span class="p">:</span><span class="n">layout_margin</span><span class="o">=</span><span class="s">&quot;16dp&quot;</span>
<a id="__codelineno-59-29" name="__codelineno-59-29" href="#__codelineno-59-29"></a><span class="w">            </span><span class="n">android</span><span class="p">:</span><span class="n">text</span><span class="o">=</span><span class="s">&quot;Recenter&quot;</span>
<a id="__codelineno-59-30" name="__codelineno-59-30" href="#__codelineno-59-30"></a><span class="w">            </span><span class="n">android</span><span class="p">:</span><span class="n">visibility</span><span class="o">=</span><span class="s">&quot;gone&quot;</span>
<a id="__codelineno-59-31" name="__codelineno-59-31" href="#__codelineno-59-31"></a><span class="w">            </span><span class="n">android</span><span class="p">:</span><span class="n">textColor</span><span class="o">=</span><span class="s">&quot;@color/black&quot;</span>
<a id="__codelineno-59-32" name="__codelineno-59-32" href="#__codelineno-59-32"></a><span class="w">            </span><span class="n">app</span><span class="p">:</span><span class="n">layout_anchorGravity</span><span class="o">=</span><span class="s">&quot;top|left&quot;</span>
<a id="__codelineno-59-33" name="__codelineno-59-33" href="#__codelineno-59-33"></a><span class="w">            </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintStart_toStartOf</span><span class="o">=</span><span class="s">&quot;parent&quot;</span><span class="w"> </span><span class="o">/&gt;</span>
<a id="__codelineno-59-34" name="__codelineno-59-34" href="#__codelineno-59-34"></a><span class="w">        </span><span class="o">&lt;</span><span class="n">Button</span>
<a id="__codelineno-59-35" name="__codelineno-59-35" href="#__codelineno-59-35"></a><span class="w">            </span><span class="n">android</span><span class="p">:</span><span class="n">id</span><span class="o">=</span><span class="s">&quot;@+id/stopNavigation&quot;</span>
<a id="__codelineno-59-36" name="__codelineno-59-36" href="#__codelineno-59-36"></a><span class="w">            </span><span class="n">android</span><span class="p">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">&quot;wrap_content&quot;</span>
<a id="__codelineno-59-37" name="__codelineno-59-37" href="#__codelineno-59-37"></a><span class="w">            </span><span class="n">android</span><span class="p">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">&quot;wrap_content&quot;</span>
<a id="__codelineno-59-38" name="__codelineno-59-38" href="#__codelineno-59-38"></a><span class="w">            </span><span class="n">android</span><span class="p">:</span><span class="n">textColor</span><span class="o">=</span><span class="s">&quot;@color/black&quot;</span>
<a id="__codelineno-59-39" name="__codelineno-59-39" href="#__codelineno-59-39"></a><span class="w">            </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintTop_toBottomOf</span><span class="o">=</span><span class="s">&quot;@id/overViewRouteButton&quot;</span>
<a id="__codelineno-59-40" name="__codelineno-59-40" href="#__codelineno-59-40"></a><span class="w">            </span><span class="n">android</span><span class="p">:</span><span class="n">visibility</span><span class="o">=</span><span class="s">&quot;gone&quot;</span>
<a id="__codelineno-59-41" name="__codelineno-59-41" href="#__codelineno-59-41"></a><span class="w">            </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintBottom_toBottomOf</span><span class="o">=</span><span class="s">&quot;parent&quot;</span>
<a id="__codelineno-59-42" name="__codelineno-59-42" href="#__codelineno-59-42"></a><span class="w">            </span><span class="n">android</span><span class="p">:</span><span class="n">layout_gravity</span><span class="o">=</span><span class="s">&quot;top&quot;</span>
<a id="__codelineno-59-43" name="__codelineno-59-43" href="#__codelineno-59-43"></a><span class="w">            </span><span class="n">android</span><span class="p">:</span><span class="n">layout_margin</span><span class="o">=</span><span class="s">&quot;16dp&quot;</span>
<a id="__codelineno-59-44" name="__codelineno-59-44" href="#__codelineno-59-44"></a><span class="w">            </span><span class="n">android</span><span class="p">:</span><span class="n">text</span><span class="o">=</span><span class="s">&quot;Stop&quot;</span>
<a id="__codelineno-59-45" name="__codelineno-59-45" href="#__codelineno-59-45"></a><span class="w">            </span><span class="n">app</span><span class="p">:</span><span class="n">layout_anchorGravity</span><span class="o">=</span><span class="s">&quot;top|left&quot;</span>
<a id="__codelineno-59-46" name="__codelineno-59-46" href="#__codelineno-59-46"></a><span class="w">            </span><span class="n">app</span><span class="p">:</span><span class="n">layout_constraintStart_toStartOf</span><span class="o">=</span><span class="s">&quot;parent&quot;</span><span class="w"> </span><span class="o">/&gt;</span>
<a id="__codelineno-59-47" name="__codelineno-59-47" href="#__codelineno-59-47"></a><span class="w">    </span><span class="o">&lt;/</span><span class="n">androidx</span><span class="p">.</span><span class="na">appcompat</span><span class="p">.</span><span class="na">widget</span><span class="p">.</span><span class="na">LinearLayoutCompat</span><span class="o">&gt;</span>
</code></pre></div>
Add this code to xml layout of <strong>VietmapNavigationActivity</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Button</span><span class="w"> </span><span class="n">recenterButton</span><span class="p">;</span>
<a id="__codelineno-60-2" name="__codelineno-60-2" href="#__codelineno-60-2"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Button</span><span class="w"> </span><span class="n">overViewRouteButton</span><span class="p">;</span>
<a id="__codelineno-60-3" name="__codelineno-60-3" href="#__codelineno-60-3"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Button</span><span class="w"> </span><span class="n">stopNavigation</span><span class="p">;</span>
</code></pre></div>
Define 3 buttons to show 3 action re-center to the navigation, overview all route, cancel navigation.</p>
<h3 id="handling-events-button">Handling events button<a class="headerlink" href="#handling-events-button" title="Permanent link">&para;</a></h3>
<p>Define <strong>NavigationPresenter</strong> in<code>onCreate</code> function
<div class="highlight"><pre><span></span><code><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a><span class="w">    </span><span class="n">NavigationPresenter</span><span class="w"> </span><span class="n">navigationPresenter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">navigationView</span><span class="p">.</span><span class="na">getNavigationPresenter</span><span class="p">();</span>
</code></pre></div></p>
<h5 id="recenter-function">recenter Function<a class="headerlink" href="#recenter-function" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><a id="__codelineno-62-1" name="__codelineno-62-1" href="#__codelineno-62-1"></a><span class="w">    </span><span class="n">recenterButton</span><span class="p">.</span><span class="na">setOnClickListener</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">View</span><span class="p">.</span><span class="na">OnClickListener</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-62-2" name="__codelineno-62-2" href="#__codelineno-62-2"></a><span class="w">        </span><span class="nd">@Override</span>
<a id="__codelineno-62-3" name="__codelineno-62-3" href="#__codelineno-62-3"></a><span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onClick</span><span class="p">(</span><span class="n">View</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-62-4" name="__codelineno-62-4" href="#__codelineno-62-4"></a><span class="w">            </span><span class="n">navigationPresenter</span><span class="p">.</span><span class="na">onRecenterClick</span><span class="p">();</span>
<a id="__codelineno-62-5" name="__codelineno-62-5" href="#__codelineno-62-5"></a><span class="w">            </span><span class="n">changeNavigationActionState</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<a id="__codelineno-62-6" name="__codelineno-62-6" href="#__codelineno-62-6"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-62-7" name="__codelineno-62-7" href="#__codelineno-62-7"></a><span class="w">    </span><span class="p">});</span>
</code></pre></div>
<h5 id="routeoverview-function">routeOverView Function<a class="headerlink" href="#routeoverview-function" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><a id="__codelineno-63-1" name="__codelineno-63-1" href="#__codelineno-63-1"></a><span class="w">    </span><span class="n">overViewRouteButton</span><span class="p">.</span><span class="na">setOnClickListener</span><span class="p">(</span><span class="n">view</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-63-2" name="__codelineno-63-2" href="#__codelineno-63-2"></a><span class="w">        </span><span class="n">navigationPresenter</span><span class="p">.</span><span class="na">onRouteOverviewClick</span><span class="p">();</span>
<a id="__codelineno-63-3" name="__codelineno-63-3" href="#__codelineno-63-3"></a><span class="w">        </span><span class="n">changeNavigationActionState</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<a id="__codelineno-63-4" name="__codelineno-63-4" href="#__codelineno-63-4"></a><span class="w">    </span><span class="p">});</span>
</code></pre></div>
<h5 id="stopnavigation">stopNavigation<a class="headerlink" href="#stopnavigation" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><a id="__codelineno-64-1" name="__codelineno-64-1" href="#__codelineno-64-1"></a><span class="w">    </span><span class="n">stopNavigation</span><span class="p">.</span><span class="na">setOnClickListener</span><span class="p">(</span><span class="n">view</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-64-2" name="__codelineno-64-2" href="#__codelineno-64-2"></a><span class="w">        </span><span class="n">changeNavigationActionState</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<a id="__codelineno-64-3" name="__codelineno-64-3" href="#__codelineno-64-3"></a><span class="w">        </span><span class="n">expandCollapse</span><span class="p">();</span>
<a id="__codelineno-64-4" name="__codelineno-64-4" href="#__codelineno-64-4"></a><span class="w">        </span><span class="n">stopNavigationFunction</span><span class="p">();</span>
<a id="__codelineno-64-5" name="__codelineno-64-5" href="#__codelineno-64-5"></a><span class="w">    </span><span class="p">});</span>
</code></pre></div>
<p><strong>Add below code to</strong> <code>stopNavigationFunction</code>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-65-1" name="__codelineno-65-1" href="#__codelineno-65-1"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">stopNavigationFunction</span><span class="p">(){</span>
<a id="__codelineno-65-2" name="__codelineno-65-2" href="#__codelineno-65-2"></a><span class="w">        </span><span class="n">navigationView</span><span class="p">.</span><span class="na">stopNavigation</span><span class="p">();</span>
<a id="__codelineno-65-3" name="__codelineno-65-3" href="#__codelineno-65-3"></a><span class="w">        </span><span class="n">vietmapNavigation</span><span class="p">.</span><span class="na">stopNavigation</span><span class="p">();</span>
<a id="__codelineno-65-4" name="__codelineno-65-4" href="#__codelineno-65-4"></a><span class="w">        </span><span class="n">launchNavigationFab</span><span class="p">.</span><span class="na">show</span><span class="p">();</span>
<a id="__codelineno-65-5" name="__codelineno-65-5" href="#__codelineno-65-5"></a><span class="w">        </span><span class="c1">//Add below code</span>
<a id="__codelineno-65-6" name="__codelineno-65-6" href="#__codelineno-65-6"></a><span class="w">        </span><span class="n">recenterButton</span><span class="p">.</span><span class="na">setVisibility</span><span class="p">(</span><span class="n">View</span><span class="p">.</span><span class="na">GONE</span><span class="p">);</span>
<a id="__codelineno-65-7" name="__codelineno-65-7" href="#__codelineno-65-7"></a><span class="w">        </span><span class="n">overViewRouteButton</span><span class="p">.</span><span class="na">setVisibility</span><span class="p">(</span><span class="n">View</span><span class="p">.</span><span class="na">GONE</span><span class="p">);</span>
<a id="__codelineno-65-8" name="__codelineno-65-8" href="#__codelineno-65-8"></a><span class="w">        </span><span class="n">stopNavigation</span><span class="p">.</span><span class="na">setVisibility</span><span class="p">(</span><span class="n">View</span><span class="p">.</span><span class="na">GONE</span><span class="p">);</span>
<a id="__codelineno-65-9" name="__codelineno-65-9" href="#__codelineno-65-9"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div></p>
<p>Listen when user move map, then show the recenter button <code>recenterButton</code>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-66-1" name="__codelineno-66-1" href="#__codelineno-66-1"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-66-2" name="__codelineno-66-2" href="#__codelineno-66-2"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onMoveBegin</span><span class="p">(</span><span class="nd">@NonNull</span><span class="w"> </span><span class="n">MoveGestureDetector</span><span class="w"> </span><span class="n">moveGestureDetector</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-66-3" name="__codelineno-66-3" href="#__codelineno-66-3"></a><span class="w">        </span><span class="n">changeNavigationActionState</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<a id="__codelineno-66-4" name="__codelineno-66-4" href="#__codelineno-66-4"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div></p>
<p>Create a function to show/hide 3 button above <code>changeNavigationActionState</code>
<div class="highlight"><pre><span></span><code><a id="__codelineno-67-1" name="__codelineno-67-1" href="#__codelineno-67-1"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">changeNavigationActionState</span><span class="p">(</span><span class="kt">boolean</span><span class="w"> </span><span class="n">isNavigationRunning</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-67-2" name="__codelineno-67-2" href="#__codelineno-67-2"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">isNavigationRunning</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-67-3" name="__codelineno-67-3" href="#__codelineno-67-3"></a><span class="w">            </span><span class="n">overViewRouteButton</span><span class="p">.</span><span class="na">setVisibility</span><span class="p">(</span><span class="n">View</span><span class="p">.</span><span class="na">GONE</span><span class="p">);</span>
<a id="__codelineno-67-4" name="__codelineno-67-4" href="#__codelineno-67-4"></a><span class="w">            </span><span class="n">recenterButton</span><span class="p">.</span><span class="na">setVisibility</span><span class="p">(</span><span class="n">View</span><span class="p">.</span><span class="na">VISIBLE</span><span class="p">);</span>
<a id="__codelineno-67-5" name="__codelineno-67-5" href="#__codelineno-67-5"></a><span class="w">            </span><span class="n">stopNavigation</span><span class="p">.</span><span class="na">setVisibility</span><span class="p">(</span><span class="n">View</span><span class="p">.</span><span class="na">GONE</span><span class="p">);</span>
<a id="__codelineno-67-6" name="__codelineno-67-6" href="#__codelineno-67-6"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-67-7" name="__codelineno-67-7" href="#__codelineno-67-7"></a><span class="w">            </span><span class="n">overViewRouteButton</span><span class="p">.</span><span class="na">setVisibility</span><span class="p">(</span><span class="n">View</span><span class="p">.</span><span class="na">VISIBLE</span><span class="p">);</span>
<a id="__codelineno-67-8" name="__codelineno-67-8" href="#__codelineno-67-8"></a><span class="w">            </span><span class="n">recenterButton</span><span class="p">.</span><span class="na">setVisibility</span><span class="p">(</span><span class="n">View</span><span class="p">.</span><span class="na">GONE</span><span class="p">);</span>
<a id="__codelineno-67-9" name="__codelineno-67-9" href="#__codelineno-67-9"></a><span class="w">            </span><span class="n">stopNavigation</span><span class="p">.</span><span class="na">setVisibility</span><span class="p">(</span><span class="n">View</span><span class="p">.</span><span class="na">VISIBLE</span><span class="p">);</span>
<a id="__codelineno-67-10" name="__codelineno-67-10" href="#__codelineno-67-10"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-67-11" name="__codelineno-67-11" href="#__codelineno-67-11"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div></p>
<h5 id="initializeviews">initializeViews<a class="headerlink" href="#initializeviews" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><a id="__codelineno-68-1" name="__codelineno-68-1" href="#__codelineno-68-1"></a><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">initializeViews</span><span class="p">(</span><span class="nd">@Nullable</span><span class="w"> </span><span class="n">Bundle</span><span class="w"> </span><span class="n">savedInstanceState</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-68-2" name="__codelineno-68-2" href="#__codelineno-68-2"></a><span class="w">        </span><span class="n">setContentView</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">layout</span><span class="p">.</span><span class="na">activity_viet_map_navigation</span><span class="p">);</span>
<a id="__codelineno-68-3" name="__codelineno-68-3" href="#__codelineno-68-3"></a><span class="w">        </span><span class="n">customUINavigation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">vietmapNavigation</span><span class="p">);</span>
<a id="__codelineno-68-4" name="__codelineno-68-4" href="#__codelineno-68-4"></a><span class="w">        </span><span class="n">mapView</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">mapView</span><span class="p">);</span>
<a id="__codelineno-68-5" name="__codelineno-68-5" href="#__codelineno-68-5"></a><span class="w">        </span><span class="n">navigationView</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">navigationView</span><span class="p">);</span>
<a id="__codelineno-68-6" name="__codelineno-68-6" href="#__codelineno-68-6"></a><span class="w">        </span><span class="n">loading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">loading</span><span class="p">);</span>
<a id="__codelineno-68-7" name="__codelineno-68-7" href="#__codelineno-68-7"></a><span class="w">        </span><span class="n">launchNavigationFab</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">launchNavigation</span><span class="p">);</span>
<a id="__codelineno-68-8" name="__codelineno-68-8" href="#__codelineno-68-8"></a><span class="w">        </span><span class="n">navigationView</span><span class="p">.</span><span class="na">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span>
<a id="__codelineno-68-9" name="__codelineno-68-9" href="#__codelineno-68-9"></a><span class="w">        </span><span class="n">mapView</span><span class="p">.</span><span class="na">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span>
<a id="__codelineno-68-10" name="__codelineno-68-10" href="#__codelineno-68-10"></a><span class="w">        </span><span class="n">launchNavigationFab</span><span class="p">.</span><span class="na">setOnClickListener</span><span class="p">(</span><span class="n">v</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-68-11" name="__codelineno-68-11" href="#__codelineno-68-11"></a><span class="w">            </span><span class="n">expandCollapse</span><span class="p">();</span>
<a id="__codelineno-68-12" name="__codelineno-68-12" href="#__codelineno-68-12"></a><span class="w">            </span><span class="n">launchNavigation</span><span class="p">();</span>
<a id="__codelineno-68-13" name="__codelineno-68-13" href="#__codelineno-68-13"></a><span class="w">        </span><span class="p">});</span>
<a id="__codelineno-68-14" name="__codelineno-68-14" href="#__codelineno-68-14"></a><span class="w">        </span><span class="n">mapView</span><span class="p">.</span><span class="na">getMapAsync</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<a id="__codelineno-68-15" name="__codelineno-68-15" href="#__codelineno-68-15"></a><span class="w">        </span><span class="c1">/// Add the below code</span>
<a id="__codelineno-68-16" name="__codelineno-68-16" href="#__codelineno-68-16"></a><span class="w">        </span><span class="n">overViewRouteButton</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">overViewRouteButton</span><span class="p">);</span>
<a id="__codelineno-68-17" name="__codelineno-68-17" href="#__codelineno-68-17"></a><span class="w">        </span><span class="n">stopNavigation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">stopNavigation</span><span class="p">);</span>
<a id="__codelineno-68-18" name="__codelineno-68-18" href="#__codelineno-68-18"></a><span class="w">        </span><span class="n">recenterButton</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="na">id</span><span class="p">.</span><span class="na">recenterBtnCustom</span><span class="p">);</span>
<a id="__codelineno-68-19" name="__codelineno-68-19" href="#__codelineno-68-19"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div>
<h5 id="launchnavigation">launchNavigation<a class="headerlink" href="#launchnavigation" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><a id="__codelineno-69-1" name="__codelineno-69-1" href="#__codelineno-69-1"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">launchNavigation</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-69-2" name="__codelineno-69-2" href="#__codelineno-69-2"></a><span class="w">    </span><span class="p">...</span>
<a id="__codelineno-69-3" name="__codelineno-69-3" href="#__codelineno-69-3"></a><span class="w">        </span><span class="n">changeNavigationActionState</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<a id="__codelineno-69-4" name="__codelineno-69-4" href="#__codelineno-69-4"></a><span class="w">    </span><span class="p">...</span>
<a id="__codelineno-69-5" name="__codelineno-69-5" href="#__codelineno-69-5"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div>
<h5 id="stopnavigation_1">stopNavigation<a class="headerlink" href="#stopnavigation_1" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><a id="__codelineno-70-1" name="__codelineno-70-1" href="#__codelineno-70-1"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">stopNavigationFunction</span><span class="p">(){</span>
<a id="__codelineno-70-2" name="__codelineno-70-2" href="#__codelineno-70-2"></a><span class="w">        </span><span class="n">navigationView</span><span class="p">.</span><span class="na">stopNavigation</span><span class="p">();</span>
<a id="__codelineno-70-3" name="__codelineno-70-3" href="#__codelineno-70-3"></a><span class="w">        </span><span class="n">vietmapNavigation</span><span class="p">.</span><span class="na">stopNavigation</span><span class="p">();</span>
<a id="__codelineno-70-4" name="__codelineno-70-4" href="#__codelineno-70-4"></a><span class="w">        </span><span class="n">recenterButton</span><span class="p">.</span><span class="na">setVisibility</span><span class="p">(</span><span class="n">View</span><span class="p">.</span><span class="na">GONE</span><span class="p">);</span>
<a id="__codelineno-70-5" name="__codelineno-70-5" href="#__codelineno-70-5"></a><span class="w">        </span><span class="n">overViewRouteButton</span><span class="p">.</span><span class="na">setVisibility</span><span class="p">(</span><span class="n">View</span><span class="p">.</span><span class="na">GONE</span><span class="p">);</span>
<a id="__codelineno-70-6" name="__codelineno-70-6" href="#__codelineno-70-6"></a><span class="w">        </span><span class="n">stopNavigation</span><span class="p">.</span><span class="na">setVisibility</span><span class="p">(</span><span class="n">View</span><span class="p">.</span><span class="na">GONE</span><span class="p">);</span>
<a id="__codelineno-70-7" name="__codelineno-70-7" href="#__codelineno-70-7"></a><span class="w">        </span><span class="n">launchNavigationFab</span><span class="p">.</span><span class="na">show</span><span class="p">();</span>
<a id="__codelineno-70-8" name="__codelineno-70-8" href="#__codelineno-70-8"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div>
<h3 id="add-apikey-and-styleurl">Add apikey and styleUrl<a class="headerlink" href="#add-apikey-and-styleurl" title="Permanent link">&para;</a></h3>
<p>To ensure that the application does not crash when running, you need to add the full styleUrl and apikey that VietMap provides at the following locations:</p>
<p>Add styleUrl in src/values/string.xml file</p>
<p>Add styleUrl in onMapReady function</p>
<p>Add apikey in fetchRoute function</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2021 VIETMAP
    </div>
  
  
    Made with
    <a href="https://www.vietmap.vn" target="_blank" rel="noopener">
      VIETMAP
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tooltips", "navigation.footer", "navigation.path", "navigation.indexes", "navigation.prune", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
  
      <script src="../../../assets/javascripts/bundle.c8d2eff1.min.js"></script>
      
    
  <script src="../../../assets/javascripts/custom.a4a4fac0.min.js"></script>
  <style>
    .support-online {
      position: fixed;
      z-index: 999;
      right: 30px;
      bottom: 40%;
      top: auto !important;
      left: auto;
    }
    .support-online a {
      position: relative;
      margin: 10px;
      text-align: left;
      width: 40px;
      height: 40px
    }
  
    .support-online a.call-now span{
      line-height: 22px;
    }
  
    .support-online a.call-now span b{
      font-size: 16px;
      color: #fff700;
    }
  
    .support-online i {
      width: 40px;
      height: 40px;
      background: #2a5dff;
      color: #fff;
      border-radius: 100%;
      font-size: 20px;
      text-align: center;
      line-height: 40px;
      position: relative;
      z-index: 999
    }

    .support-content{
      
    }
  
    .support-online a {
      display: block
    }
  
    .support-online a span {
      border-radius: 2px;
      text-align: center;
      background: #2a5dff;
      padding: 10px;
      display: none;
      width: 150px;
      margin-right: 12px;
      position: absolute;
      color: #ffffff;
      z-index: 999;
      top: 0px;
      right: 41px;
      font-size: 13pt;
      transition: all 0.2s ease-in-out 0s;
      -moz-animation: headerAnimation 0.7s 1;
      -webkit-animation: headerAnimation 0.7s 1;
      -o-animation: headerAnimation 0.7s 1;
      animation: headerAnimation 0.7s 1;
    }

    .support-online img {
      height: 40px;
      width: 40px;
    }
  
    .support-online a:hover span {
      display: block
    }
  
    .support-online a span::before {
      content: "";
      width: 0;
      height: 0;
      border-style: solid;
      border-width: 10px 0 10px 10px;
      border-color: transparent transparent transparent #2a5dff;
      position: absolute;
      right: -10px;
      top: 10px
    }
  
    .kenit-alo-circle {
      width: 50px;
      height: 50px;
      top: -5px;
      right: -5px;
      position: absolute;
      background-color: transparent;
      -webkit-border-radius: 100%;
      -moz-border-radius: 100%;
      border-radius: 100%;
      border: 2px solid rgba(30, 30, 30, 0.4);
      opacity: .1;
      border-color: lighten(#2a5dff, 5);
      opacity: .5
    }
  
    .support-online .btn-support {
      cursor: pointer
    }
  
  
    .animated {
      animation-duration: 1s;
      animation-fill-mode: both;
    }
  
    .animated.infinite {
      animation-iteration-count: infinite;
    }
  
    .animated.hinge {
      animation-duration: 2s;
    }
  
    .animated.flipOutX,
    .animated.flipOutY,
    .animated.bounceIn,
    .animated.bounceOut {
      animation-duration: .75s;
    }
    @keyframes zoomIn {
      from {
        opacity: 0;
        transform: scale3d(.3, .3, .3);
      }
  
      50% {
        opacity: 1;
      }
    }
  
    .zoomIn {
      animation-name: zoomIn;
    }
    @keyframes rubberBand {
      from {
        transform: scale3d(1, 1, 1);
      }
  
      30% {
        transform: scale3d(1.25, 0.75, 1);
      }
  
      40% {
        transform: scale3d(0.75, 1.25, 1);
      }
  
      50% {
        transform: scale3d(1.15, 0.85, 1);
      }
  
      65% {
        transform: scale3d(.95, 1.05, 1);
      }
  
      75% {
        transform: scale3d(1.05, .95, 1);
      }
  
      to {
        transform: scale3d(1, 1, 1);
      }
    }
  </style>
  <div class="support-online">
    <div class="support-content">		
      <a href="tel:0896164567" class="call-now" rel="nofollow">
        <!-- <i class="fa fa-phone" aria-hidden="true"></i> -->
        <img src="/docs/assets/phone.png" width="50" height="50" alt="facebook">
        <div class="animated infinite zoomIn kenit-alo-circle"></div>			
        <span>Tổng đài hỗ trợ<br><b>089.616.4567</b></span>
      </a>
      <a href="https://m.me/VietmapMappingSolutions" target="_blank">
        <img src="/docs/assets/messenger.png" width="50" height="50" alt="facebook">
        <span>Chat Facebook</span>
      </a>
      <a href="https://zalo.me/vietmapmapsapi" target="_blank">
        <img src="//bizweb.dktcdn.net/100/415/690/files/icon-zalo.png" alt="zalo" width="50" height="50">
        <span>Chat Zalo</span>
      </a>
    </div>	
  </div>

  </body>
</html>